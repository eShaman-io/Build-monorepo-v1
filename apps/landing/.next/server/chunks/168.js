exports.id=168,exports.ids=[168],exports.modules={58609:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,s,a=n(64063),o=n(83886),l=n(35787),u=n(16172),c=n(15018),d=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(!h(t))return null;var r=t.getImmediate();return"".concat(r.library,"/").concat(r.version)}).filter(function(t){return t}).join(" ")},t}();function h(t){var r=t.getComponent();return(null==r?void 0:r.type)==="VERSION"}var f="@firebase/app",p="0.10.13",g=new l.Logger("@firebase/app"),m="@firebase/app-compat",v="@firebase/analytics-compat",y="@firebase/analytics",_="@firebase/app-check-compat",b="@firebase/app-check",S="@firebase/auth",E="@firebase/auth-compat",T="@firebase/database",w="@firebase/data-connect",C="@firebase/database-compat",R="@firebase/functions",I="@firebase/functions-compat",A="@firebase/installations",O="@firebase/installations-compat",N="@firebase/messaging",k="@firebase/messaging-compat",P="@firebase/performance",x="@firebase/performance-compat",D="@firebase/remote-config",L="@firebase/remote-config-compat",M="@firebase/storage",F="@firebase/storage-compat",j="@firebase/firestore",V="@firebase/vertexai-preview",B="@firebase/firestore-compat",U="firebase",z="10.14.1",q="[DEFAULT]",H=((i={})[f]="fire-core",i[m]="fire-core-compat",i[y]="fire-analytics",i[v]="fire-analytics-compat",i[b]="fire-app-check",i[_]="fire-app-check-compat",i[S]="fire-auth",i[E]="fire-auth-compat",i[T]="fire-rtdb",i[w]="fire-data-connect",i[C]="fire-rtdb-compat",i[R]="fire-fn",i[I]="fire-fn-compat",i[A]="fire-iid",i[O]="fire-iid-compat",i[N]="fire-fcm",i[k]="fire-fcm-compat",i[P]="fire-perf",i[x]="fire-perf-compat",i[D]="fire-rc",i[L]="fire-rc-compat",i[M]="fire-gcs",i[F]="fire-gcs-compat",i[j]="fire-fst",i[B]="fire-fst-compat",i[V]="fire-vertex",i["fire-js"]="fire-js",i[U]="fire-js-all",i),W=new Map,G=new Map,K=new Map;function $(t,r){try{t.container.addComponent(r)}catch(n){g.debug("Component ".concat(r.name," failed to register with FirebaseApp ").concat(t.name),n)}}function Y(t,r){t.container.addOrOverwriteComponent(r)}function Q(t){var r,n,i,s,a=t.name;if(K.has(a))return g.debug("There were multiple attempts to register component ".concat(a,".")),!1;K.set(a,t);try{for(var l=o.__values(W.values()),u=l.next();!u.done;u=l.next()){var c=u.value;$(c,t)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var d=o.__values(G.values()),h=d.next();!h.done;h=d.next()){var f=h.value;$(f,t)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return!0}function Z(t,r){var n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(r)}function J(t,r,n){void 0===n&&(n=q),Z(t,r).clearInstance(n)}function X(t){return void 0!==t.options}function ee(t){return void 0!==t.settings}function et(){K.clear()}var er=((s={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",s["bad-app-name"]="Illegal App name: '{$appName}'",s["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",s["app-deleted"]="Firebase App named '{$appName}' already deleted",s["server-app-deleted"]="Firebase Server App has been deleted",s["no-options"]="Need to provide options, when not being deployed to hosting via source.",s["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",s["invalid-log-argument"]="First argument to `onLog` must be null or a function.",s["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",s["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",s["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",s["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",s["finalization-registry-not-supported"]="FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",s["invalid-server-app-environment"]="FirebaseServerApp is not for use in browser environments.",s),en=new u.ErrorFactory("app","Firebase",er),ei=function(){function t(t,r,n){var i=this;this._isDeleted=!1,this._options=o.__assign({},t),this._config=o.__assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new a.Component("app",function(){return i},"PUBLIC"))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(t){this._isDeleted=t},enumerable:!1,configurable:!0}),t.prototype.checkDestroyed=function(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})},t}(),es=function(t){function r(r,n,i,s){var a=this,l=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,u={name:i,automaticDataCollectionEnabled:l};if(void 0!==r.apiKey)a=t.call(this,r,u,s)||this;else{var c=r;a=t.call(this,c.options,u,s)||this}return a._serverConfig=o.__assign({automaticDataCollectionEnabled:l},n),a._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(a._finalizationRegistry=new FinalizationRegistry(function(){a.automaticCleanup()})),a._refCount=0,a.incRefCount(a._serverConfig.releaseOnDeref),a._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,eh(f,p,"serverapp"),a}return o.__extends(r,t),r.prototype.toJSON=function(){},Object.defineProperty(r.prototype,"refCount",{get:function(){return this._refCount},enumerable:!1,configurable:!0}),r.prototype.incRefCount=function(t){this.isDeleted||(this._refCount++,void 0!==t&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(t,this))},r.prototype.decRefCount=function(){return this.isDeleted?0:--this._refCount},r.prototype.automaticCleanup=function(){ed(this)},Object.defineProperty(r.prototype,"settings",{get:function(){return this.checkDestroyed(),this._serverConfig},enumerable:!1,configurable:!0}),r.prototype.checkDestroyed=function(){if(this.isDeleted)throw en.create("server-app-deleted")},r}(ei),ea=z;function eo(t,r){void 0===r&&(r={});var n,i,s=t;"object"!=typeof r&&(r={name:r});var l=o.__assign({name:q,automaticDataCollectionEnabled:!1},r),c=l.name;if("string"!=typeof c||!c)throw en.create("bad-app-name",{appName:String(c)});if(s||(s=u.getDefaultAppConfig()),!s)throw en.create("no-options");var d=W.get(c);if(d){if(u.deepEqual(s,d.options)&&u.deepEqual(l,d.config))return d;throw en.create("duplicate-app",{appName:c})}var h=new a.ComponentContainer(c);try{for(var f=o.__values(K.values()),p=f.next();!p.done;p=f.next()){var g=p.value;h.addComponent(g)}}catch(t){n={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var m=new ei(s,l,h);return W.set(c,m),m}function el(t,r){if(u.isBrowser()&&!u.isWebWorker())throw en.create("invalid-server-app-environment");void 0===r.automaticDataCollectionEnabled&&(r.automaticDataCollectionEnabled=!1),s=X(t)?t.options:t;var n,i,s,l=o.__assign(o.__assign({},r),s);void 0!==l.releaseOnDeref&&delete l.releaseOnDeref;var c=function(t){return o.__spreadArray([],o.__read(t),!1).reduce(function(t,r){return Math.imul(31,t)+r.charCodeAt(0)|0},0)};if(void 0!==r.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw en.create("finalization-registry-not-supported",{});var d=""+c(JSON.stringify(l)),h=G.get(d);if(h)return h.incRefCount(r.releaseOnDeref),h;var f=new a.ComponentContainer(d);try{for(var p=o.__values(K.values()),g=p.next();!g.done;g=p.next()){var m=g.value;f.addComponent(m)}}catch(t){n={error:t}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}var v=new es(s,r,d,f);return G.set(d,v),v}function eu(t){void 0===t&&(t=q);var r=W.get(t);if(!r&&t===q&&u.getDefaultAppConfig())return eo();if(!r)throw en.create("no-app",{appName:t});return r}function ec(){return Array.from(W.values())}function ed(t){return o.__awaiter(this,void 0,void 0,function(){var r,n;return o.__generator(this,function(i){switch(i.label){case 0:if(r=!1,n=t.name,W.has(n)?(r=!0,W.delete(n)):G.has(n)&&0>=t.decRefCount()&&(G.delete(n),r=!0),!r)return[3,2];return[4,Promise.all(t.container.getProviders().map(function(t){return t.delete()}))];case 1:i.sent(),t.isDeleted=!0,i.label=2;case 2:return[2]}})})}function eh(t,r,n){var i,s=null!==(i=H[t])&&void 0!==i?i:t;n&&(s+="-".concat(n));var o=s.match(/\s|\//),l=r.match(/\s|\//);if(o||l){var u=['Unable to register library "'.concat(s,'" with version "').concat(r,'":')];o&&u.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&l&&u.push("and"),l&&u.push('version name "'.concat(r,'" contains illegal characters (whitespace or "/")')),g.warn(u.join(" "));return}Q(new a.Component("".concat(s,"-version"),function(){return{library:s,version:r}},"VERSION"))}function ef(t,r){if(null!==t&&"function"!=typeof t)throw en.create("invalid-log-argument");l.setUserLogHandler(t,r)}function ep(t){l.setLogLevel(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eg="firebase-heartbeat-database",em=1,ev="firebase-heartbeat-store",ey=null;function e_(){return ey||(ey=c.openDB(eg,em,{upgrade:function(t,r){if(0===r)try{t.createObjectStore(ev)}catch(t){console.warn(t)}}}).catch(function(t){throw en.create("idb-open",{originalErrorMessage:t.message})})),ey}function eb(t){return o.__awaiter(this,void 0,void 0,function(){var r,n,i,s;return o.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,e_()];case 1:return[4,(r=a.sent().transaction(ev)).objectStore(ev).get(eE(t))];case 2:return n=a.sent(),[4,r.done];case 3:return a.sent(),[2,n];case 4:return(i=a.sent())instanceof u.FirebaseError?g.warn(i.message):(s=en.create("idb-get",{originalErrorMessage:null==i?void 0:i.message}),g.warn(s.message)),[3,5];case 5:return[2]}})})}function eS(t,r){return o.__awaiter(this,void 0,void 0,function(){var n,i,s;return o.__generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,e_()];case 1:return[4,(n=a.sent().transaction(ev,"readwrite")).objectStore(ev).put(r,eE(t))];case 2:return a.sent(),[4,n.done];case 3:return a.sent(),[3,5];case 4:return(i=a.sent())instanceof u.FirebaseError?g.warn(i.message):(s=en.create("idb-set",{originalErrorMessage:null==i?void 0:i.message}),g.warn(s.message)),[3,5];case 5:return[2]}})})}function eE(t){return"".concat(t.name,"!").concat(t.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eT=1024,ew=2592e6,eC=function(){function t(t){var r=this;this.container=t,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new eA(n),this._heartbeatsCachePromise=this._storage.read().then(function(t){return r._heartbeatsCache=t,t})}return t.prototype.triggerHeartbeat=function(){var t,r;return o.__awaiter(this,void 0,void 0,function(){var n,i,s,a;return o.__generator(this,function(o){switch(o.label){case 0:if(o.trys.push([0,3,,4]),n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eR(),(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)!=null)return[3,2];return s=this,[4,this._heartbeatsCachePromise];case 1:if(s._heartbeatsCache=o.sent(),(null===(r=this._heartbeatsCache)||void 0===r?void 0:r.heartbeats)==null)return[2];o.label=2;case 2:if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(function(t){return t.date===i}))return[2];return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(t){var r=new Date(t.date).valueOf();return Date.now()-r<=ew}),[2,this._storage.overwrite(this._heartbeatsCache)];case 3:return a=o.sent(),g.warn(a),[3,4];case 4:return[2]}})})},t.prototype.getHeartbeatsHeader=function(){var t;return o.__awaiter(this,void 0,void 0,function(){var r,n,i,s,a,l;return o.__generator(this,function(o){switch(o.label){case 0:if(o.trys.push([0,6,,7]),null!==this._heartbeatsCache)return[3,2];return[4,this._heartbeatsCachePromise];case 1:o.sent(),o.label=2;case 2:if((null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return[2,""];if(r=eR(),i=(n=eI(this._heartbeatsCache.heartbeats)).heartbeatsToSend,s=n.unsentEntries,a=u.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=r,!(s.length>0))return[3,4];return this._heartbeatsCache.heartbeats=s,[4,this._storage.overwrite(this._heartbeatsCache)];case 3:return o.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),o.label=5;case 5:return[2,a];case 6:return l=o.sent(),g.warn(l),[2,""];case 7:return[2]}})})},t}();function eR(){return new Date().toISOString().substring(0,10)}function eI(t,r){void 0===r&&(r=eT);var n,i,s=[],a=t.slice(),l=function(t){var n=s.find(function(r){return r.agent===t.agent});if(n){if(n.dates.push(t.date),eO(s)>r)return n.dates.pop(),"break"}else if(s.push({agent:t.agent,dates:[t.date]}),eO(s)>r)return s.pop(),"break";a=a.slice(1)};try{for(var u=o.__values(t),c=u.next();!c.done;c=u.next()){var d=c.value,h=l(d);if("break"===h)break}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return{heartbeatsToSend:s,unsentEntries:a}}var eA=function(){function t(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return t.prototype.runIndexedDBEnvironmentCheck=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return u.isIndexedDBAvailable()?[2,u.validateIndexedDBOpenable().then(function(){return!0}).catch(function(){return!1})]:[2,!1]})})},t.prototype.read=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:if(r.sent())return[3,2];return[2,{heartbeats:[]}];case 2:return[4,eb(this.app)];case 3:if(null==(t=r.sent())?void 0:t.heartbeats)return[2,t];return[2,{heartbeats:[]}];case 4:return[2]}})})},t.prototype.overwrite=function(t){var r;return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(i){switch(i.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:if(i.sent())return[3,2];return[2];case 2:return[4,this.read()];case 3:return n=i.sent(),[2,eS(this.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})]}})})},t.prototype.add=function(t){var r;return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(i){switch(i.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:if(i.sent())return[3,2];return[2];case 2:return[4,this.read()];case 3:return n=i.sent(),[2,eS(this.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:o.__spreadArray(o.__spreadArray([],o.__read(n.heartbeats),!1),o.__read(t.heartbeats),!1)})]}})})},t}();function eO(t){return u.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Q(new a.Component("platform-logger",function(t){return new d(t)},"PRIVATE")),Q(new a.Component("heartbeat",function(t){return new eC(t)},"PRIVATE")),eh(f,p,t),eh(f,p,"cjs5"),eh("fire-js","")})("node"),Object.defineProperty(r,"FirebaseError",{enumerable:!0,get:function(){return u.FirebaseError}}),r.SDK_VERSION=ea,r._DEFAULT_ENTRY_NAME=q,r._addComponent=$,r._addOrOverwriteComponent=Y,r._apps=W,r._clearComponents=et,r._components=K,r._getProvider=Z,r._isFirebaseApp=X,r._isFirebaseServerApp=ee,r._registerComponent=Q,r._removeServiceInstance=J,r._serverApps=G,r.deleteApp=ed,r.getApp=eu,r.getApps=ec,r.initializeApp=eo,r.initializeServerApp=el,r.onLog=ef,r.registerVersion=eh,r.setLogLevel=ep},97539:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(21310);n(83886),n(58609),n(16172),n(64063),n(83122),n(35787),r.ActionCodeOperation=i.ActionCodeOperation,r.ActionCodeURL=i.ActionCodeURL,r.AuthCredential=i.AuthCredential,r.AuthErrorCodes=i.AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY,r.EmailAuthCredential=i.EmailAuthCredential,r.EmailAuthProvider=i.EmailAuthProvider,r.FacebookAuthProvider=i.FacebookAuthProvider,r.FactorId=i.FactorId,r.GithubAuthProvider=i.GithubAuthProvider,r.GoogleAuthProvider=i.GoogleAuthProvider,r.OAuthCredential=i.OAuthCredential,r.OAuthProvider=i.OAuthProvider,r.OperationType=i.OperationType,r.PhoneAuthCredential=i.PhoneAuthCredential,r.PhoneAuthProvider=i.PhoneAuthProvider,r.PhoneMultiFactorGenerator=i.PhoneMultiFactorGenerator,r.ProviderId=i.ProviderId,r.RecaptchaVerifier=i.RecaptchaVerifier,r.SAMLAuthProvider=i.SAMLAuthProvider,r.SignInMethod=i.SignInMethod,r.TotpMultiFactorGenerator=i.TotpMultiFactorGenerator,r.TotpSecret=i.TotpSecret,r.TwitterAuthProvider=i.TwitterAuthProvider,r.applyActionCode=i.applyActionCode,r.beforeAuthStateChanged=i.beforeAuthStateChanged,r.browserLocalPersistence=i.browserLocalPersistence,r.browserPopupRedirectResolver=i.browserPopupRedirectResolver,r.browserSessionPersistence=i.browserSessionPersistence,r.checkActionCode=i.checkActionCode,r.confirmPasswordReset=i.confirmPasswordReset,r.connectAuthEmulator=i.connectAuthEmulator,r.createUserWithEmailAndPassword=i.createUserWithEmailAndPassword,r.debugErrorMap=i.debugErrorMap,r.deleteUser=i.deleteUser,r.fetchSignInMethodsForEmail=i.fetchSignInMethodsForEmail,r.getAdditionalUserInfo=i.getAdditionalUserInfo,r.getAuth=i.getAuth,r.getIdToken=i.getIdToken,r.getIdTokenResult=i.getIdTokenResult,r.getMultiFactorResolver=i.getMultiFactorResolver,r.getRedirectResult=i.getRedirectResult,r.inMemoryPersistence=i.inMemoryPersistence,r.indexedDBLocalPersistence=i.indexedDBLocalPersistence,r.initializeAuth=i.initializeAuth,r.initializeRecaptchaConfig=i.initializeRecaptchaConfig,r.isSignInWithEmailLink=i.isSignInWithEmailLink,r.linkWithCredential=i.linkWithCredential,r.linkWithPhoneNumber=i.linkWithPhoneNumber,r.linkWithPopup=i.linkWithPopup,r.linkWithRedirect=i.linkWithRedirect,r.multiFactor=i.multiFactor,r.onAuthStateChanged=i.onAuthStateChanged,r.onIdTokenChanged=i.onIdTokenChanged,r.parseActionCodeURL=i.parseActionCodeURL,r.prodErrorMap=i.prodErrorMap,r.reauthenticateWithCredential=i.reauthenticateWithCredential,r.reauthenticateWithPhoneNumber=i.reauthenticateWithPhoneNumber,r.reauthenticateWithPopup=i.reauthenticateWithPopup,r.reauthenticateWithRedirect=i.reauthenticateWithRedirect,r.reload=i.reload,r.revokeAccessToken=i.revokeAccessToken,r.sendEmailVerification=i.sendEmailVerification,r.sendPasswordResetEmail=i.sendPasswordResetEmail,r.sendSignInLinkToEmail=i.sendSignInLinkToEmail,r.setPersistence=i.setPersistence,r.signInAnonymously=i.signInAnonymously,r.signInWithCredential=i.signInWithCredential,r.signInWithCustomToken=i.signInWithCustomToken,r.signInWithEmailAndPassword=i.signInWithEmailAndPassword,r.signInWithEmailLink=i.signInWithEmailLink,r.signInWithPhoneNumber=i.signInWithPhoneNumber,r.signInWithPopup=i.signInWithPopup,r.signInWithRedirect=i.signInWithRedirect,r.signOut=i.signOut,r.unlink=i.unlink,r.updateCurrentUser=i.updateCurrentUser,r.updateEmail=i.updateEmail,r.updatePassword=i.updatePassword,r.updatePhoneNumber=i.updatePhoneNumber,r.updateProfile=i.updateProfile,r.useDeviceLanguage=i.useDeviceLanguage,r.validatePassword=i.validatePassword,r.verifyBeforeUpdateEmail=i.verifyBeforeUpdateEmail,r.verifyPasswordResetCode=i.verifyPasswordResetCode},21310:(t,r,n)=>{"use strict";var i,s,a=n(83886),o=n(58609),l=n(16172),u=n(64063),c=n(83122),d=n(35787),h={PHONE:"phone",TOTP:"totp"},f={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},p={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},g={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},m={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function v(){var t;return(t={})["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var y=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){var t;return(t={})["admin-restricted-operation"]="This operation is restricted to administrators only.",t["argument-error"]="",t["app-not-authorized"]="This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",t["app-not-installed"]="The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",t["captcha-check-failed"]="The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",t["code-expired"]="The SMS code has expired. Please re-send the verification code to try again.",t["cordova-not-ready"]="Cordova framework is not ready.",t["cors-unsupported"]="This browser is not supported.",t["credential-already-in-use"]="This credential is already associated with a different user account.",t["custom-token-mismatch"]="The custom token corresponds to a different audience.",t["requires-recent-login"]="This operation is sensitive and requires recent authentication. Log in again before retrying this request.",t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t["dynamic-link-not-activated"]="Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",t["email-change-needs-verification"]="Multi-factor users must always have a verified email.",t["email-already-in-use"]="The email address is already in use by another account.",t["emulator-config-failed"]='Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',t["expired-action-code"]="The action code has expired.",t["cancelled-popup-request"]="This operation has been cancelled due to another conflicting popup being opened.",t["internal-error"]="An internal AuthError has occurred.",t["invalid-app-credential"]="The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",t["invalid-app-id"]="The mobile app identifier is not registered for the current project.",t["invalid-user-token"]="This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",t["invalid-auth-event"]="An internal AuthError has occurred.",t["invalid-verification-code"]="The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",t["invalid-continue-uri"]="The continue URL provided in the request is invalid.",t["invalid-cordova-configuration"]="The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",t["invalid-custom-token"]="The custom token format is incorrect. Please check the documentation.",t["invalid-dynamic-link-domain"]="The provided dynamic link domain is not configured or authorized for the current project.",t["invalid-email"]="The email address is badly formatted.",t["invalid-emulator-scheme"]="Emulator URL must start with a valid scheme (http:// or https://).",t["invalid-api-key"]="Your API key is invalid, please check you have copied it correctly.",t["invalid-cert-hash"]="The SHA-1 certificate hash provided is invalid.",t["invalid-credential"]="The supplied auth credential is incorrect, malformed or has expired.",t["invalid-message-payload"]="The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",t["invalid-multi-factor-session"]="The request does not contain a valid proof of first factor successful sign-in.",t["invalid-oauth-provider"]="EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",t["invalid-oauth-client-id"]="The OAuth client ID provided is either invalid or does not match the specified API key.",t["unauthorized-domain"]="This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",t["invalid-action-code"]="The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",t["wrong-password"]="The password is invalid or the user does not have a password.",t["invalid-persistence-type"]="The specified persistence type is invalid. It can only be local, session or none.",t["invalid-phone-number"]="The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",t["invalid-provider-id"]="The specified provider ID is invalid.",t["invalid-recipient-email"]="The email corresponding to this action failed to send as the provided recipient email address is invalid.",t["invalid-sender"]="The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",t["invalid-verification-id"]="The verification ID used to create the phone auth credential is invalid.",t["invalid-tenant-id"]="The Auth instance's tenant ID is invalid.",t["login-blocked"]="Login blocked by user-provided method: {$originalMessage}",t["missing-android-pkg-name"]="An Android Package Name must be provided if the Android App is required to be installed.",t["auth-domain-config-required"]="Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",t["missing-app-credential"]="The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",t["missing-verification-code"]="The phone auth credential was created with an empty SMS verification code.",t["missing-continue-uri"]="A continue URL must be provided in the request.",t["missing-iframe-start"]="An internal AuthError has occurred.",t["missing-ios-bundle-id"]="An iOS Bundle ID must be provided if an App Store ID is provided.",t["missing-or-invalid-nonce"]="The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",t["missing-password"]="A non-empty password must be provided",t["missing-multi-factor-info"]="No second factor identifier is provided.",t["missing-multi-factor-session"]="The request is missing proof of first factor successful sign-in.",t["missing-phone-number"]="To send verification codes, provide a phone number for the recipient.",t["missing-verification-id"]="The phone auth credential was created with an empty verification ID.",t["app-deleted"]="This instance of FirebaseApp has been deleted.",t["multi-factor-info-not-found"]="The user does not have a second factor matching the identifier provided.",t["multi-factor-auth-required"]="Proof of ownership of a second factor is required to complete sign-in.",t["account-exists-with-different-credential"]="An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",t["network-request-failed"]="A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",t["no-auth-event"]="An internal AuthError has occurred.",t["no-such-provider"]="User was not linked to an account with the given provider.",t["null-user"]="A null user object was provided as the argument for an operation which requires a non-null user object.",t["operation-not-allowed"]="The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",t["operation-not-supported-in-this-environment"]='This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',t["popup-blocked"]="Unable to establish a connection with the popup. It may have been blocked by the browser.",t["popup-closed-by-user"]="The popup has been closed by the user before finalizing the operation.",t["provider-already-linked"]="User can only be linked to one identity for the given provider.",t["quota-exceeded"]="The project's quota for this operation has been exceeded.",t["redirect-cancelled-by-user"]="The redirect operation has been cancelled by the user before finalizing.",t["redirect-operation-pending"]="A redirect sign-in operation is already pending.",t["rejected-credential"]="The request contains malformed or mismatching credentials.",t["second-factor-already-in-use"]="The second factor is already enrolled on this account.",t["maximum-second-factor-count-exceeded"]="The maximum allowed number of second factors on a user has been exceeded.",t["tenant-id-mismatch"]="The provided tenant ID does not match the Auth instance's tenant ID",t.timeout="The operation has timed out.",t["user-token-expired"]="The user's credential is no longer valid. The user must sign in again.",t["too-many-requests"]="We have blocked all requests from this device due to unusual activity. Try again later.",t["unauthorized-continue-uri"]="The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",t["unsupported-first-factor"]="Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",t["unsupported-persistence-type"]="The current environment does not support the specified persistence type.",t["unsupported-tenant-operation"]="This operation is not supported in a multi-tenant context.",t["unverified-email"]="The operation requires a verified email.",t["user-cancelled"]="The user did not grant your application the permissions it requested.",t["user-not-found"]="There is no user record corresponding to this identifier. The user may have been deleted.",t["user-disabled"]="The user account has been disabled by an administrator.",t["user-mismatch"]="The supplied credentials do not correspond to the previously signed in user.",t["user-signed-out"]="",t["weak-password"]="The password must be 6 characters long or more.",t["web-storage-unsupported"]="This browser is not supported or 3rd party cookies and data may be disabled.",t["already-initialized"]="initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",t["missing-recaptcha-token"]="The reCAPTCHA token is missing when sending request to the backend.",t["invalid-recaptcha-token"]="The reCAPTCHA token is invalid when sending request to the backend.",t["invalid-recaptcha-action"]="The reCAPTCHA action is invalid when sending request to the backend.",t["recaptcha-not-enabled"]="reCAPTCHA Enterprise integration is not enabled for this project.",t["missing-client-type"]="The reCAPTCHA client type is missing when sending request to the backend.",t["missing-recaptcha-version"]="The reCAPTCHA version is missing when sending request to the backend.",t["invalid-req-type"]="Invalid request parameters.",t["invalid-recaptcha-version"]="The reCAPTCHA version is invalid when sending request to the backend.",t["unsupported-password-policy-schema-version"]="The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",t["password-does-not-meet-requirements"]="The password does not meet the requirements.",t},_=v,b=new l.ErrorFactory("auth","Firebase",v()),S={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},E=new d.Logger("@firebase/auth");function T(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];E.logLevel<=d.LogLevel.WARN&&E.warn.apply(E,a.__spreadArray(["Auth (".concat(o.SDK_VERSION,"): ").concat(t)],r,!1))}function w(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];E.logLevel<=d.LogLevel.ERROR&&E.error.apply(E,a.__spreadArray(["Auth (".concat(o.SDK_VERSION,"): ").concat(t)],r,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];throw O.apply(void 0,a.__spreadArray([t],r,!1))}function R(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return O.apply(void 0,a.__spreadArray([t],r,!1))}function I(t,r,n){var i,s=a.__assign(a.__assign({},_()),((i={})[r]=n,i));return new l.ErrorFactory("auth","Firebase",s).create(r,{appName:t.name})}function A(t){return I(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if("string"!=typeof t){var s=n[0],o=a.__spreadArray([],n.slice(1),!0);return o[0]&&(o[0].appName=t.name),(r=t._errorFactory).create.apply(r,a.__spreadArray([s],o,!1))}return b.create.apply(b,a.__spreadArray([t],n,!1))}function N(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!t)throw O.apply(void 0,a.__spreadArray([r],n,!1))}function k(t){var r="INTERNAL ASSERTION FAILED: "+t;throw w(r),Error(r)}function P(t,r){t||k(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function D(){return"http:"===L()||"https:"===L()}function L(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(D()||l.isBrowserExtension()||"connection"in navigator))||navigator.onLine}function F(){if("undefined"==typeof navigator)return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j=function(){function t(t,r){this.shortDelay=t,this.longDelay=r,P(r>t,"Short delay should be less than long delay!"),this.isMobile=l.isMobileCordova()||l.isReactNative()}return t.prototype.get=function(){return M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t,r){P(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return r?"".concat(n).concat(r.startsWith("/")?r.slice(1):r):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B=function(){function t(){}return t.initialize=function(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)},t.fetch=function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}(),U=((i={}).CREDENTIAL_MISMATCH="custom-token-mismatch",i.MISSING_CUSTOM_TOKEN="internal-error",i.INVALID_IDENTIFIER="invalid-email",i.MISSING_CONTINUE_URI="internal-error",i.INVALID_PASSWORD="wrong-password",i.MISSING_PASSWORD="missing-password",i.INVALID_LOGIN_CREDENTIALS="invalid-credential",i.EMAIL_EXISTS="email-already-in-use",i.PASSWORD_LOGIN_DISABLED="operation-not-allowed",i.INVALID_IDP_RESPONSE="invalid-credential",i.INVALID_PENDING_TOKEN="invalid-credential",i.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",i.MISSING_REQ_TYPE="internal-error",i.EMAIL_NOT_FOUND="user-not-found",i.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",i.EXPIRED_OOB_CODE="expired-action-code",i.INVALID_OOB_CODE="invalid-action-code",i.MISSING_OOB_CODE="internal-error",i.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",i.INVALID_ID_TOKEN="invalid-user-token",i.TOKEN_EXPIRED="user-token-expired",i.USER_NOT_FOUND="user-token-expired",i.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",i.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",i.INVALID_CODE="invalid-verification-code",i.INVALID_SESSION_INFO="invalid-verification-id",i.INVALID_TEMPORARY_PROOF="invalid-credential",i.MISSING_SESSION_INFO="missing-verification-id",i.SESSION_EXPIRED="code-expired",i.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",i.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",i.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",i.ADMIN_ONLY_OPERATION="admin-restricted-operation",i.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",i.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",i.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",i.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",i.SECOND_FACTOR_EXISTS="second-factor-already-in-use",i.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",i.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",i.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",i.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",i.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",i.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",i.MISSING_CLIENT_TYPE="missing-client-type",i.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",i.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",i.INVALID_REQ_TYPE="invalid-req-type",i),z=new j(3e4,6e4);function q(t,r){return t.tenantId&&!r.tenantId?a.__assign(a.__assign({},r),{tenantId:t.tenantId}):r}function H(t,r,n,i,s){return void 0===s&&(s={}),a.__awaiter(this,void 0,void 0,function(){var o=this;return a.__generator(this,function(u){return[2,W(t,s,function(){return a.__awaiter(o,void 0,void 0,function(){var s,o,u,c,d;return a.__generator(this,function(h){switch(h.label){case 0:return s={},o={},i&&("GET"===r?o=i:s={body:JSON.stringify(i)}),u=l.querystring(a.__assign({key:t.config.apiKey},o)).slice(1),[4,t._getAdditionalHeaders()];case 1:return(c=h.sent())["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),d=a.__assign({method:r,headers:c},s),l.isCloudflareWorker()||(d.referrerPolicy="no-referrer"),[2,B.fetch()(K(t,t.config.apiHost,n,u),d)]}})})})]})})}function W(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s,o,u,c,d,h,f,p;return a.__generator(this,function(g){switch(g.label){case 0:t._canInitEmulator=!1,i=a.__assign(a.__assign({},U),r),g.label=1;case 1:return g.trys.push([1,4,,5]),s=new Y(t),[4,Promise.race([n(),s.promise])];case 2:return o=g.sent(),s.clearNetworkTimeout(),[4,o.json()];case 3:if("needConfirmation"in(u=g.sent()))throw Q(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return[2,u];if(d=(c=(o.ok?u.errorMessage:u.error.message).split(" : "))[0],h=c[1],"FEDERATED_USER_ID_ALREADY_LINKED"===d)throw Q(t,"credential-already-in-use",u);if("EMAIL_EXISTS"===d)throw Q(t,"email-already-in-use",u);if("USER_DISABLED"===d)throw Q(t,"user-disabled",u);if(f=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),h)throw I(t,f,h);return C(t,f),[3,5];case 4:if((p=g.sent())instanceof l.FirebaseError)throw p;return C(t,"network-request-failed",{message:String(p)}),[3,5];case 5:return[2]}})})}function G(t,r,n,i,s){return void 0===s&&(s={}),a.__awaiter(this,void 0,void 0,function(){var o;return a.__generator(this,function(a){switch(a.label){case 0:return[4,H(t,r,n,i,s)];case 1:return"mfaPendingCredential"in(o=a.sent())&&C(t,"multi-factor-auth-required",{_serverResponse:o}),[2,o]}})})}function K(t,r,n,i){var s="".concat(r).concat(n,"?").concat(i);return t.config.emulator?V(t.config,s):"".concat(t.config.apiScheme,"://").concat(s)}function $(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Y=function(){function t(t){var r=this;this.auth=t,this.timer=null,this.promise=new Promise(function(t,n){r.timer=setTimeout(function(){return n(R(r.auth,"network-request-failed"))},z.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Q(t,r,n){var i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);var s=R(t,r,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t){return void 0!==t&&void 0!==t.enterprise}var J=function(){function t(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(var r=0,n=this.recaptchaEnforcementState;r<n.length;r++){var i=n[r];if(i.provider&&i.provider===t)return $(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"GET","/v2/recaptchaConfig",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:delete",r)]})})}function et(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:update",r)]})})}function er(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:lookup",r)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){if(t)try{var r=new Date(Number(t));if(!isNaN(r.getTime()))return r.toUTCString()}catch(t){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,r){return void 0===r&&(r=!1),l.getModularInstance(t).getIdToken(r)}function es(t,r){return void 0===r&&(r=!1),a.__awaiter(this,void 0,void 0,function(){var n,i,s,o,u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(n=l.getModularInstance(t)).getIdToken(r)];case 1:return N((s=eo(i=a.sent()))&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error"),u=null==(o="object"==typeof s.firebase?s.firebase:void 0)?void 0:o.sign_in_provider,[2,{claims:s,token:i,authTime:en(ea(s.auth_time)),issuedAtTime:en(ea(s.iat)),expirationTime:en(ea(s.exp)),signInProvider:u||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}]}})})}function ea(t){return 1e3*Number(t)}function eo(t){var r=t.split("."),n=r[0],i=r[1],s=r[2];if(void 0===n||void 0===i||void 0===s)return w("JWT malformed, contained fewer than 3 sections"),null;try{var a=l.base64Decode(i);if(!a)return w("Failed to decode base64 JWT payload"),null;return JSON.parse(a)}catch(t){return w("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}function el(t){var r=eo(t);return N(r,"internal-error"),N(void 0!==r.exp,"internal-error"),N(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t,r,n){return void 0===n&&(n=!1),a.__awaiter(this,void 0,void 0,function(){var i;return a.__generator(this,function(s){switch(s.label){case 0:if(n)return[2,r];s.label=1;case 1:return s.trys.push([1,3,,6]),[4,r];case 2:return[2,s.sent()];case 3:if(!((i=s.sent())instanceof l.FirebaseError&&ec(i))||t.auth.currentUser!==t)return[3,5];return[4,t.auth.signOut()];case 4:s.sent(),s.label=5;case 5:throw i;case 6:return[2]}})})}function ec(t){var r=t.code;return r==="auth/".concat("user-disabled")||r==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=function(){function t(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))},t.prototype.getInterval=function(t){if(t){var r,n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var n=(null!==(r=this.user.stsTokenManager.expirationTime)&&void 0!==r?r:0)-Date.now()-3e5;return Math.max(0,n)},t.prototype.schedule=function(t){var r=this;if(void 0===t&&(t=!1),this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(function(){return a.__awaiter(r,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.iteration()];case 1:return t.sent(),[2]}})})},n)}},t.prototype.iteration=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return r.sent(),[3,3];case 2:return(null==(t=r.sent())?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}(),eh=function(){function t(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)},t.prototype._copy=function(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){var r;return a.__awaiter(this,void 0,void 0,function(){var n,i,s,o,l,u,c,d,h;return a.__generator(this,function(a){switch(a.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return i=a.sent(),[4,eu(t,er(n,{idToken:i}))];case 2:return N(null==(s=a.sent())?void 0:s.users.length,n,"internal-error"),o=s.users[0],t._notifyReloadListener(o),l=(null===(r=o.providerUserInfo)||void 0===r?void 0:r.length)?em(o.providerUserInfo):[],u=eg(t.providerData,l),c=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(null==u?void 0:u.length),h=!!c&&d,Object.assign(t,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new eh(o.createdAt,o.lastLoginAt),isAnonymous:h}),[2]}})})}function ep(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:return[4,ef(r=l.getModularInstance(t))];case 1:return n.sent(),[4,r.auth._persistUserIfCurrent(r)];case 2:return n.sent(),r.auth._notifyListenersIfCurrent(r),[2]}})})}function eg(t,r){var n=t.filter(function(t){return!r.some(function(r){return r.providerId===t.providerId})});return a.__spreadArray(a.__spreadArray([],n,!0),r,!0)}function em(t){return t.map(function(t){var r=t.providerId,n=a.__rest(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i=this;return a.__generator(this,function(s){switch(s.label){case 0:return[4,W(t,{},function(){return a.__awaiter(i,void 0,void 0,function(){var n,i,s,o,u,c;return a.__generator(this,function(a){switch(a.label){case 0:return n=l.querystring({grant_type:"refresh_token",refresh_token:r}).slice(1),s=(i=t.config).tokenApiHost,o=i.apiKey,u=K(t,s,"/v1/token","key=".concat(o)),[4,t._getAdditionalHeaders()];case 1:return(c=a.sent())["Content-Type"]="application/x-www-form-urlencoded",[2,B.fetch()(u,{method:"POST",headers:c,body:n})]}})})})];case 1:return[2,{accessToken:(n=s.sent()).access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function ey(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v2/accounts:revokeToken",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(t){N(t.idToken,"internal-error"),N(void 0!==t.idToken,"internal-error"),N(void 0!==t.refreshToken,"internal-error");var r="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):el(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)},t.prototype.updateFromIdToken=function(t){N(0!==t.length,"internal-error");var r=el(t);this.updateTokensAndExpiration(t,null,r)},t.prototype.getToken=function(t,r){return void 0===r&&(r=!1),a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:if(!r&&this.accessToken&&!this.isExpired)return[2,this.accessToken];if(N(this.refreshToken,t,"user-token-expired"),!this.refreshToken)return[3,2];return[4,this.refresh(t,this.refreshToken)];case 1:return n.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i,s,o;return a.__generator(this,function(a){switch(a.label){case 0:return[4,ev(t,r)];case 1:return i=(n=a.sent()).accessToken,s=n.refreshToken,o=n.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n},t.fromJSON=function(r,n){var i=n.refreshToken,s=n.accessToken,a=n.expirationTime,o=new t;return i&&(N("string"==typeof i,"internal-error",{appName:r}),o.refreshToken=i),s&&(N("string"==typeof s,"internal-error",{appName:r}),o.accessToken=s),a&&(N("number"==typeof a,"internal-error",{appName:r}),o.expirationTime=a),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return k("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,r){N("string"==typeof t||void 0===t,"internal-error",{appName:r})}var eS=function(){function t(t){var r=t.uid,n=t.auth,i=t.stsTokenManager,s=a.__rest(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ed(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?a.__spreadArray([],s.providerData,!0):[],this.metadata=new eh(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:return[4,eu(this,this.stsTokenManager.getToken(this.auth,t))];case 1:if(N(r=n.sent(),this.auth,"internal-error"),!(this.accessToken!==r))return[3,3];return this.accessToken=r,[4,this.auth._persistUserIfCurrent(this)];case 2:n.sent(),this.auth._notifyListenersIfCurrent(this),n.label=3;case 3:return[2,r]}})})},t.prototype.getIdTokenResult=function(t){return es(this,t)},t.prototype.reload=function(){return ep(this)},t.prototype._assign=function(t){this!==t&&(N(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(function(t){return a.__assign({},t)}),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))},t.prototype._clone=function(r){var n=new t(a.__assign(a.__assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(t){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(t,r){return void 0===r&&(r=!1),a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(i){switch(i.label){case 0:if(n=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),!r)return[3,2];return[4,ef(this)];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),n&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:if(o._isFirebaseServerApp(this.auth.app))return[2,Promise.reject(A(this.auth))];return[4,this.getIdToken()];case 1:return t=r.sent(),[4,eu(this,ee(this.auth,{idToken:t}))];case 2:return r.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return a.__assign(a.__assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(t){return a.__assign({},t)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(r,n){var i,s,o,l,u,c,d,h,f=null!==(i=n.displayName)&&void 0!==i?i:void 0,p=null!==(s=n.email)&&void 0!==s?s:void 0,g=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,m=null!==(l=n.photoURL)&&void 0!==l?l:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,_=null!==(d=n.createdAt)&&void 0!==d?d:void 0,b=null!==(h=n.lastLoginAt)&&void 0!==h?h:void 0,S=n.uid,E=n.emailVerified,T=n.isAnonymous,w=n.providerData,C=n.stsTokenManager;N(S&&C,r,"internal-error");var R=e_.fromJSON(this.name,C);N("string"==typeof S,r,"internal-error"),eb(f,r.name),eb(p,r.name),N("boolean"==typeof E,r,"internal-error"),N("boolean"==typeof T,r,"internal-error"),eb(g,r.name),eb(m,r.name),eb(v,r.name),eb(y,r.name),eb(_,r.name),eb(b,r.name);var I=new t({uid:S,auth:r,email:p,emailVerified:E,displayName:f,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:v,stsTokenManager:R,createdAt:_,lastLoginAt:b});return w&&Array.isArray(w)&&(I.providerData=w.map(function(t){return a.__assign({},t)})),y&&(I._redirectEventId=y),I},t._fromIdTokenResponse=function(r,n,i){return void 0===i&&(i=!1),a.__awaiter(this,void 0,void 0,function(){var s,o;return a.__generator(this,function(a){switch(a.label){case 0:return(s=new e_).updateFromServerResponse(n),[4,ef(o=new t({uid:n.localId,auth:r,stsTokenManager:s,isAnonymous:i}))];case 1:return a.sent(),[2,o]}})})},t._fromGetAccountInfoResponse=function(r,n,i){return a.__awaiter(this,void 0,void 0,function(){var s,o,l,u,c;return a.__generator(this,function(a){return N(void 0!==(s=n.users[0]).localId,"internal-error"),o=void 0!==s.providerUserInfo?em(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(null==o?void 0:o.length),(u=new e_).updateFromIdToken(i),Object.assign(c=new t({uid:s.localId,auth:r,stsTokenManager:u,isAnonymous:l}),{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new eh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(null==o?void 0:o.length)}),[2,c]})})},t}(),eE=new Map;function eT(t){P(t instanceof Function,"Expected a class definition");var r=eE.get(t);return r?P(r instanceof t,"Instance stored in cache mismatched with class"):(r=new t,eE.set(t,r)),r}var ew=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,!0]})})},t.prototype._set=function(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return this.storage[t]=r,[2]})})},t.prototype._get=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){return[2,void 0===(r=this.storage[t])?null:r]})})},t.prototype._remove=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(r){return delete this.storage[t],[2]})})},t.prototype._addListener=function(t,r){},t.prototype._removeListener=function(t,r){},t.type="NONE",t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,r,n){return"".concat("firebase",":").concat(t,":").concat(r,":").concat(n)}var eR=function(){function t(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;var i=this.auth,s=i.config,a=i.name;this.fullUserKey=eC(this.userKey,s.apiKey,a),this.fullPersistenceKey=eC("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(t){return this.persistence._set(this.fullUserKey,t.toJSON())},t.prototype.getCurrentUser=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return[2,(t=r.sent())?eS._fromJSON(this.auth,t):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:if(this.persistence===t)return[2];return[4,this.getCurrentUser()];case 1:return r=n.sent(),[4,this.removeCurrentUser()];case 2:if(n.sent(),this.persistence=t,r)return[2,this.setCurrentUser(r)];return[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(r,n,i){return void 0===i&&(i="authUser"),a.__awaiter(this,void 0,void 0,function(){var s,o,l,u,c,d,h,f,p,g,m=this;return a.__generator(this,function(v){switch(v.label){case 0:if(!n.length)return[2,new t(eT(ew),r,i)];return[4,Promise.all(n.map(function(t){return a.__awaiter(m,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,t._isAvailable()];case 1:if(r.sent())return[2,t];return[2,void 0]}})})}))];case 1:o=(s=v.sent().filter(function(t){return t}))[0]||eT(ew),l=eC(i,r.config.apiKey,r.name),u=null,c=0,d=n,v.label=2;case 2:if(!(c<d.length))return[3,7];h=d[c],v.label=3;case 3:return v.trys.push([3,5,,6]),[4,h._get(l)];case 4:if(f=v.sent())return p=eS._fromJSON(r,f),h!==o&&(u=p),o=h,[3,7];return[3,6];case 5:return v.sent(),[3,6];case 6:return c++,[3,2];case 7:if(g=s.filter(function(t){return t._shouldAllowMigration}),!o._shouldAllowMigration||!g.length)return[2,new t(o,r,i)];if(o=g[0],!u)return[3,9];return[4,o._set(l,u.toJSON())];case 8:v.sent(),v.label=9;case 9:return[4,Promise.all(n.map(function(t){return a.__awaiter(m,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:if(!(t!==o))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t._remove(l)];case 2:case 3:return r.sent(),[3,4];case 4:return[2]}})})}))];case 10:return v.sent(),[2,new t(o,r,i)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){var r=t.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(ek(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(eA(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(ex(r))return"Blackberry";if(eD(r))return"Webos";if(eO(r))return"Safari";if((r.includes("chrome/")||eN(r))&&!r.includes("edge/"))return"Chrome";if(eP(r))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);return(null==i?void 0:i.length)===2?i[1]:"Other"}function eA(t){return void 0===t&&(t=l.getUA()),/firefox\//i.test(t)}function eO(t){void 0===t&&(t=l.getUA());var r=t.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function eN(t){return void 0===t&&(t=l.getUA()),/crios\//i.test(t)}function ek(t){return void 0===t&&(t=l.getUA()),/iemobile/i.test(t)}function eP(t){return void 0===t&&(t=l.getUA()),/android/i.test(t)}function ex(t){return void 0===t&&(t=l.getUA()),/blackberry/i.test(t)}function eD(t){return void 0===t&&(t=l.getUA()),/webos/i.test(t)}function eL(t){return void 0===t&&(t=l.getUA()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eM(t){return void 0===t&&(t=l.getUA()),/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function eF(){return l.isIE()&&10===document.documentMode}function ej(t){return void 0===t&&(t=l.getUA()),eL(t)||eP(t)||eD(t)||ex(t)||/windows phone/i.test(t)||ek(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t,r){switch(void 0===r&&(r=[]),t){case"Browser":n=eI(l.getUA());break;case"Worker":n="".concat(eI(l.getUA()),"-").concat(t);break;default:n=t}var n,i=r.length?r.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(o.SDK_VERSION,"/").concat(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eB=function(){function t(t){this.auth=t,this.queue=[]}return t.prototype.pushCallback=function(t,r){var n=this,i=function(r){return new Promise(function(n,i){try{var s=t(r);n(s)}catch(t){i(t)}})};i.onAbort=r,this.queue.push(i);var s=this.queue.length-1;return function(){n.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(t){return a.__awaiter(this,void 0,void 0,function(){var r,n,i,s,o,l,u,c;return a.__generator(this,function(a){switch(a.label){case 0:if(this.auth.currentUser===t)return[2];r=[],a.label=1;case 1:a.trys.push([1,6,,7]),n=0,i=this.queue,a.label=2;case 2:if(!(n<i.length))return[3,5];return[4,(s=i[n])(t)];case 3:a.sent(),s.onAbort&&r.push(s.onAbort),a.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:for(o=a.sent(),r.reverse(),l=0,u=r;l<u.length;l++){c=u[l];try{c()}catch(t){}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==o?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t,r){return void 0===r&&(r={}),a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"GET","/v2/passwordPolicy",q(t,r))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ez=6,eq=function(){function t(t){var r,n,i,s,a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(r=a.minPasswordLength)&&void 0!==r?r:ez,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}return t.prototype.validatePassword=function(t){var r,n,i,s,a,o,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(r=l.meetsMinPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(n=l.meetsMaxPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNumericCharacter)||void 0===a||a),l.isValid&&(l.isValid=null===(o=l.containsNonAlphanumericCharacter)||void 0===o||o),l},t.prototype.validatePasswordLengthOptions=function(t,r){var n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)},t.prototype.validatePasswordCharacterOptions=function(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);for(var n,i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))},t.prototype.updatePasswordCharacterOptionsStatuses=function(t,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))},t}(),eH=function(){function t(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eG(this),this.idTokenSubscription=new eG(this),this.beforeStateQueue=new eB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(t,r){var n=this;return r&&(this._popupRedirectResolver=eT(r)),this._initializationPromise=this.queue(function(){return a.__awaiter(n,void 0,void 0,function(){var n,i,s;return a.__generator(this,function(a){switch(a.label){case 0:if(this._deleted)return[2];return n=this,[4,eR.create(this,t)];case 1:if(n.persistenceManager=a.sent(),this._deleted)return[2];if(!(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(r)];case 6:if(a.sent(),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted)return[2];return this._isInitialized=!0,[2]}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:if(this._deleted)return[2];return[4,this.assertedPersistence.getCurrentUser()];case 1:if(t=r.sent(),!this.currentUser&&!t)return[2];if(!(this.currentUser&&t&&this.currentUser.uid===t.uid))return[3,3];return this._currentUser._assign(t),[4,this.currentUser.getIdToken()];case 2:case 4:return r.sent(),[2];case 3:return[4,this._updateCurrentUser(t,!0)]}})})},t.prototype.initializeCurrentUserFromIdToken=function(t){return a.__awaiter(this,void 0,void 0,function(){var r,n;return a.__generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,6]),[4,er(this,{idToken:t})];case 1:return r=i.sent(),[4,eS._fromGetAccountInfoResponse(this,r,t)];case 2:return n=i.sent(),[4,this.directlySetCurrentUser(n)];case 3:case 5:return i.sent(),[3,6];case 4:return console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i.sent()),[4,this.directlySetCurrentUser(null)];case 6:return[2]}})})},t.prototype.initializeCurrentUser=function(t){var r;return a.__awaiter(this,void 0,void 0,function(){var n,i,s,l,u,c,d,h,f=this;return a.__generator(this,function(a){switch(a.label){case 0:if(o._isFirebaseServerApp(this.app)){if(n=this.app.settings.authIdToken)return[2,new Promise(function(t){setTimeout(function(){return f.initializeCurrentUserFromIdToken(n).then(t,t)})})];return[2,this.directlySetCurrentUser(null)]}return[4,this.assertedPersistence.getCurrentUser()];case 1:if(s=i=a.sent(),l=!1,!(t&&this.config.authDomain))return[3,4];return[4,this.getOrInitRedirectPersistenceManager()];case 2:return a.sent(),u=null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId,c=null==s?void 0:s._redirectEventId,[4,this.tryRedirectSignIn(t)];case 3:d=a.sent(),(!u||u===c)&&(null==d?void 0:d.user)&&(s=d.user,l=!0),a.label=4;case 4:if(!s)return[2,this.directlySetCurrentUser(null)];if(s._redirectEventId)return[3,9];if(!l)return[3,8];a.label=5;case 5:return a.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(s)];case 6:return a.sent(),[3,8];case 7:return h=a.sent(),s=i,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(h)}),[3,8];case 8:if(s)return[2,this.reloadAndSetCurrentUserOrClear(s)];return[2,this.directlySetCurrentUser(null)];case 9:return N(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:if(a.sent(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId)return[2,this.directlySetCurrentUser(s)];return[2,this.reloadAndSetCurrentUserOrClear(s)]}})})},t.prototype.tryRedirectSignIn=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:r=null,n.label=1;case 1:return n.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,t,!0)];case 2:return r=n.sent(),[3,5];case 3:return n.sent(),[4,this._setRedirectUser(null)];case 4:return n.sent(),[3,5];case 5:return[2,r]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ef(t)];case 1:return n.sent(),[3,3];case 2:if((null==(r=n.sent())?void 0:r.code)!=="auth/".concat("network-request-failed"))return[2,this.directlySetCurrentUser(null)];return[3,3];case 3:return[2,this.directlySetCurrentUser(t)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=F()},t.prototype._delete=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){return o._isFirebaseServerApp(this.app)?[2,Promise.reject(A(this))]:((r=t?l.getModularInstance(t):null)&&N(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(r&&r._clone(this))])})})},t.prototype._updateCurrentUser=function(t,r){return void 0===r&&(r=!1),a.__awaiter(this,void 0,void 0,function(){var n=this;return a.__generator(this,function(i){switch(i.label){case 0:if(this._deleted)return[2];if(t&&N(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r)return[3,2];return[4,this.beforeStateQueue.runMiddleware(t)];case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.directlySetCurrentUser(t)];case 1:return r.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:if(o._isFirebaseServerApp(this.app))return[2,Promise.reject(A(this))];return[4,this.beforeStateQueue.runMiddleware(null)];case 1:if(t.sent(),!(this.redirectPersistenceManager||this._popupRedirectResolver))return[3,3];return[4,this._setRedirectUser(null)];case 2:t.sent(),t.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(t){var r=this;return o._isFirebaseServerApp(this.app)?Promise.reject(A(this)):this.queue(function(){return a.__awaiter(r,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(eT(t))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:if(this._getPasswordPolicyInternal())return[3,2];return[4,this._updatePasswordPolicy()];case 1:n.sent(),n.label=2;case 2:if((r=this._getPasswordPolicyInternal()).schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION)return[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))];return[2,r.validatePassword(t)]}})})},t.prototype._getPasswordPolicyInternal=function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:return[4,eU(this)];case 1:return t=new eq(r.sent()),null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(t){this._errorFactory=new l.ErrorFactory("auth","Firebase",t())},t.prototype.onAuthStateChanged=function(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)},t.prototype.beforeAuthStateChanged=function(t,r){return this.beforeStateQueue.pushCallback(t,r)},t.prototype.onIdTokenChanged=function(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)},t.prototype.authStateReady=function(){var t=this;return new Promise(function(r,n){if(t.currentUser)r();else var i=t.onAuthStateChanged(function(){i(),r()},n)})},t.prototype.revokeAccessToken=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:if(!this.currentUser)return[3,3];return[4,this.currentUser.getIdToken()];case 1:return r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n.sent()},null!=this.tenantId&&(r.tenantId=this.tenantId),[4,ey(this,r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}},t.prototype._setRedirectUser=function(t,r){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(r)];case 1:return n=i.sent(),[2,null===t?n.removeCurrentUser():n.setCurrentUser(t)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(t){return a.__awaiter(this,void 0,void 0,function(){var r,n,i;return a.__generator(this,function(s){switch(s.label){case 0:if(this.redirectPersistenceManager)return[3,3];return N(r=t&&eT(t)||this._popupRedirectResolver,this,"argument-error"),n=this,[4,eR.create(this,[eT(r._redirectPersistence)],"redirectUser")];case 1:return n.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(t){var r,n;return a.__awaiter(this,void 0,void 0,function(){var i=this;return a.__generator(this,function(s){switch(s.label){case 0:if(!this._isInitialized)return[3,2];return[4,this.queue(function(){return a.__awaiter(i,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})})];case 1:s.sent(),s.label=2;case 2:if((null===(r=this._currentUser)||void 0===r?void 0:r._redirectEventId)===t)return[2,this._currentUser];if((null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t)return[2,this.redirectUser];return[2,null]}})})},t.prototype._persistUserIfCurrent=function(t){return a.__awaiter(this,void 0,void 0,function(){var r=this;return a.__generator(this,function(n){return t===this.currentUser?[2,this.queue(function(){return a.__awaiter(r,void 0,void 0,function(){return a.__generator(this,function(r){return[2,this.directlySetCurrentUser(t)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(t){t===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var t,r,n=null!==(r=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==r?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(t,r,n,i){var s=this;if(this._deleted)return function(){};var a="function"==typeof r?r:r.next.bind(r),o=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(l,this,"internal-error"),l.then(function(){o||a(s.currentUser)}),"function"==typeof r){var u=t.addObserver(r,n,i);return function(){o=!0,u()}}var c=t.addObserver(r);return function(){o=!0,c()}},t.prototype.directlySetCurrentUser=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t)return[3,2];return[4,this.assertedPersistence.setCurrentUser(t)];case 1:return r.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:r.sent(),r.label=4;case 4:return[2]}})})},t.prototype.queue=function(t){return this.operations=this.operations.then(t,t),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eV(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var t;return a.__awaiter(this,void 0,void 0,function(){var r,n,i,s;return a.__generator(this,function(a){switch(a.label){case 0:return(s={})["X-Client-Version"]=this.clientVersion,r=s,this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId),[4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader()];case 1:return(n=a.sent())&&(r["X-Firebase-Client"]=n),[4,this._getAppCheckToken()];case 2:return(i=a.sent())&&(r["X-Firebase-AppCheck"]=i),[2,r]}})})},t.prototype._getAppCheckToken=function(){var t;return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:return[4,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken()];case 1:return(null==(r=n.sent())?void 0:r.error)&&T("Error while retrieving App Check token: ".concat(r.error)),[2,null==r?void 0:r.token]}})})},t}();function eW(t){return l.getModularInstance(t)}var eG=function(){function t(t){var r=this;this.auth=t,this.observer=null,this.addObserver=l.createSubscribe(function(t){return r.observer=t})}return Object.defineProperty(t.prototype,"next",{get:function(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}(),eK={loadJS:function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){throw Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e$(t){return eK.loadJS(t)}function eY(){return eK.recaptchaEnterpriseScript}var eQ="recaptcha-enterprise",eZ="NO_RECAPTCHA",eJ=function(){function t(t){this.type=eQ,this.auth=eW(t)}return t.prototype.verify=function(t,r){return void 0===t&&(t="verify"),void 0===r&&(r=!1),a.__awaiter(this,void 0,void 0,function(){function n(t){return a.__awaiter(this,void 0,void 0,function(){var n=this;return a.__generator(this,function(i){if(!r){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return[2,t._agentRecaptchaConfig.siteKey];if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return[2,t._tenantRecaptchaConfigs[t.tenantId].siteKey]}return[2,new Promise(function(r,i){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(n){return X(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(n){if(void 0===n.recaptchaKey)i(Error("recaptcha Enterprise site key undefined"));else{var s=new J(n);return null==t.tenantId?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,r(s.siteKey)}}).catch(function(t){i(t)}),[2]})})})]})})}function i(r,n,i){var s=window.grecaptcha;Z(s)?s.enterprise.ready(function(){s.enterprise.execute(r,{action:t}).then(function(t){n(t)}).catch(function(){n(eZ)})}):i(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return a.__generator(this,function(t){return[2,new Promise(function(t,a){n(s.auth).then(function(n){if(!r&&Z(window.grecaptcha))i(n,t,a);else{if("undefined"==typeof window){a(Error("RecaptchaVerifier is only supported in browser"));return}var s=eY();0!==s.length&&(s+=n),e$(s).then(function(){i(n,t,a)}).catch(function(t){a(t)})}}).catch(function(t){a(t)})})]})})},t}();function eX(t,r,n,i){return void 0===i&&(i=!1),a.__awaiter(this,void 0,void 0,function(){var s,o,l;return a.__generator(this,function(u){switch(u.label){case 0:s=new eJ(t),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,s.verify(n)];case 2:case 4:return o=u.sent(),[3,5];case 3:return u.sent(),[4,s.verify(n,!0)];case 5:return l=a.__assign({},r),i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,l]}})})}function e0(t,r,n,i){var s;return a.__awaiter(this,void 0,void 0,function(){var o=this;return a.__generator(this,function(l){switch(l.label){case 0:if(!(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")))return[3,2];return[4,eX(t,r,n,"getOobCode"===n)];case 1:return[2,i(t,l.sent())];case 2:return[2,i(t,r).catch(function(s){return a.__awaiter(o,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:if(s.code!=="auth/".concat("missing-recaptcha-token"))return[3,2];return console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,eX(t,r,n,"getOobCode"===n)];case 1:return[2,i(t,a.sent())];case 2:return[2,Promise.reject(s)]}})})})]}})})}function e1(t){return a.__awaiter(this,void 0,void 0,function(){var r,n;return a.__generator(this,function(i){switch(i.label){case 0:return[4,X(r=eW(t),{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"})];case 1:return n=new J(i.sent()),null==r.tenantId?r._agentRecaptchaConfig=n:r._tenantRecaptchaConfigs[r.tenantId]=n,n.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")&&new eJ(r).verify(),[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t,r){var n=o._getProvider(t,"auth");if(n.isInitialized()){var i=n.getImmediate(),s=n.getOptions();if(l.deepEqual(s,null!=r?r:{}))return i;C(i,"already-initialized")}return n.initialize({options:r})}function e4(t,r){var n=(null==r?void 0:r.persistence)||[],i=(Array.isArray(n)?n:[n]).map(eT);(null==r?void 0:r.errorMap)&&t._updateErrorMap(r.errorMap),t._initializeWithPersistence(i,null==r?void 0:r.popupRedirectResolver)}function e3(t,r,n){var i=eW(t);N(i._canInitEmulator,i,"emulator-config-failed"),N(/^https?:\/\//.test(r),i,"invalid-emulator-scheme");var s=!!(null==n?void 0:n.disableWarnings),a=e5(r),o=e6(r),l=o.host,u=o.port,c=null===u?"":":".concat(u);i.config.emulator={url:"".concat(a,"//").concat(l).concat(c,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||e8()}function e5(t){var r=t.indexOf(":");return r<0?"":t.substr(0,r+1)}function e6(t){var r=e5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(r.length));if(!n)return{host:"",port:null};var i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){var a=s[1];return{host:a,port:e9(i.substr(a.length+1))}}var o=i.split(":"),a=o[0];return{host:a,port:e9(o[1])}}function e9(t){if(!t)return null;var r=Number(t);return isNaN(r)?null:r}function e8(){function t(){var t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e7=function(){function t(t,r){this.providerId=t,this.signInMethod=r}return t.prototype.toJSON=function(){return k("not implemented")},t.prototype._getIdTokenResponse=function(t){return k("not implemented")},t.prototype._linkToIdToken=function(t,r){return k("not implemented")},t.prototype._getReauthenticationResolver=function(t){return k("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:resetPassword",q(t,r))]})})}function tt(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:update",r)]})})}function tr(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:signUp",r)]})})}function tn(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:update",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithPassword",q(t,r))]})})}function ts(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:sendOobCode",q(t,r))]})})}function ta(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,ts(t,r)]})})}function to(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,ts(t,r)]})})}function tl(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,ts(t,r)]})})}function tu(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,ts(t,r)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithEmailLink",q(t,r))]})})}function td(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithEmailLink",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var th=function(t){function r(r,n,i,s){void 0===s&&(s=null);var a=t.call(this,"password",i)||this;return a._email=r,a._password=n,a._tenantId=s,a}return a.__extends(r,t),r._fromEmailAndPassword=function(t,n){return new r(t,n,"password")},r._fromEmailAndCode=function(t,n,i){return void 0===i&&(i=null),new r(t,n,"emailLink",i)},r.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},r.fromJSON=function(t){var r="string"==typeof t?JSON.parse(t):t;if((null==r?void 0:r.email)&&(null==r?void 0:r.password)){if("password"===r.signInMethod)return this._fromEmailAndPassword(r.email,r.password);if("emailLink"===r.signInMethod)return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},r.prototype._getIdTokenResponse=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(r){switch(this.signInMethod){case"password":return[2,e0(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ti)];case"emailLink":return[2,tc(t,{email:this._email,oobCode:this._password})];default:C(t,"internal-error")}return[2]})})},r.prototype._linkToIdToken=function(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(this.signInMethod){case"password":return[2,e0(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tr)];case"emailLink":return[2,td(t,{idToken:r,email:this._email,oobCode:this._password})];default:C(t,"internal-error")}return[2]})})},r.prototype._getReauthenticationResolver=function(t){return this._getIdTokenResponse(t)},r}(e7);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithIdp",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tp="http://localhost",tg=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.pendingToken=null,r}return a.__extends(r,t),r._fromParams=function(t){var n=new r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):C("argument-error"),n},r.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},r.fromJSON=function(t){var n="string"==typeof t?JSON.parse(t):t,i=n.providerId,s=n.signInMethod,o=a.__rest(n,["providerId","signInMethod"]);if(!i||!s)return null;var l=new r(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l},r.prototype._getIdTokenResponse=function(t){return tf(t,this.buildRequest())},r.prototype._linkToIdToken=function(t,r){var n=this.buildRequest();return n.idToken=r,tf(t,n)},r.prototype._getReauthenticationResolver=function(t){var r=this.buildRequest();return r.autoCreate=!1,tf(t,r)},r.prototype.buildRequest=function(){var t={requestUri:tp,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=l.querystring(r)}return t},r}(e7);function tm(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithPhoneNumber",q(t,r))]})})}function tv(t,r){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(i){switch(i.label){case 0:return[4,G(t,"POST","/v1/accounts:signInWithPhoneNumber",q(t,r))];case 1:if((n=i.sent()).temporaryProof)throw Q(t,"account-exists-with-different-credential",n);return[2,n]}})})}var ty=((s={}).USER_NOT_FOUND="user-not-found",s);function t_(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithPhoneNumber",q(t,a.__assign(a.__assign({},r),{operation:"REAUTH"})),ty)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tb=function(t){function r(r){var n=t.call(this,"phone","phone")||this;return n.params=r,n}return a.__extends(r,t),r._fromVerification=function(t,n){return new r({verificationId:t,verificationCode:n})},r._fromTokenResponse=function(t,n){return new r({phoneNumber:t,temporaryProof:n})},r.prototype._getIdTokenResponse=function(t){return tm(t,this._makeVerificationRequest())},r.prototype._linkToIdToken=function(t,r){return tv(t,a.__assign({idToken:r},this._makeVerificationRequest()))},r.prototype._getReauthenticationResolver=function(t){return t_(t,this._makeVerificationRequest())},r.prototype._makeVerificationRequest=function(){var t=this.params,r=t.temporaryProof,n=t.phoneNumber,i=t.verificationId,s=t.verificationCode;return r&&n?{temporaryProof:r,phoneNumber:n}:{sessionInfo:i,code:s}},r.prototype.toJSON=function(){var t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t},r.fromJSON=function(t){"string"==typeof t&&(t=JSON.parse(t));var n=t,i=n.verificationId,s=n.verificationCode,a=n.phoneNumber,o=n.temporaryProof;return s||i||a||o?new r({verificationId:i,verificationCode:s,phoneNumber:a,temporaryProof:o}):null},r}(e7);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tE(t){var r=l.querystringDecode(l.extractQuerystring(t)).link,n=r?l.querystringDecode(l.extractQuerystring(r)).deep_link_id:null,i=l.querystringDecode(l.extractQuerystring(t)).deep_link_id;return(i?l.querystringDecode(l.extractQuerystring(i)).link:null)||i||n||r||t}var tT=function(){function t(t){var r,n,i,s,a,o,u=l.querystringDecode(l.extractQuerystring(t)),c=null!==(r=u.apiKey)&&void 0!==r?r:null,d=null!==(n=u.oobCode)&&void 0!==n?n:null,h=tS(null!==(i=u.mode)&&void 0!==i?i:null);N(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=u.tenantId)&&void 0!==o?o:null}return t.parseLink=function(r){var n=tE(r);try{return new t(n)}catch(t){return null}},t}();function tw(t){return tT.parseLink(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tC=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(t,r){return th._fromEmailAndPassword(t,r)},t.credentialWithLink=function(t,r){var n=tT.parseLink(r);return N(n,"argument-error"),th._fromEmailAndCode(t,n.code,n.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}(),tR=function(){function t(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(t){this.defaultLanguageCode=t},t.prototype.setCustomParameters=function(t){return this.customParameters=t,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}(),tI=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.scopes=[],r}return a.__extends(r,t),r.prototype.addScope=function(t){return this.scopes.includes(t)||this.scopes.push(t),this},r.prototype.getScopes=function(){return a.__spreadArray([],this.scopes,!0)},r}(tR),tA=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(r,t),r.credentialFromJSON=function(t){var r="string"==typeof t?JSON.parse(t):t;return N("providerId"in r&&"signInMethod"in r,"argument-error"),tg._fromParams(r)},r.prototype.credential=function(t){return this._credential(a.__assign(a.__assign({},t),{nonce:t.rawNonce}))},r.prototype._credential=function(t){return N(t.idToken||t.accessToken,"argument-error"),tg._fromParams(a.__assign(a.__assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))},r.credentialFromResult=function(t){return r.oauthCredentialFromTaggedObject(t)},r.credentialFromError=function(t){return r.oauthCredentialFromTaggedObject(t.customData||{})},r.oauthCredentialFromTaggedObject=function(t){var n=t._tokenResponse;if(!n)return null;var i=n,s=i.oauthIdToken,a=i.oauthAccessToken,o=i.oauthTokenSecret,l=i.pendingToken,u=i.nonce,c=i.providerId;if(!a&&!o&&!s&&!l||!c)return null;try{return new r(c)._credential({idToken:s,accessToken:a,nonce:u,pendingToken:l})}catch(t){return null}},r}(tI),tO=function(t){function r(){return t.call(this,"facebook.com")||this}return a.__extends(r,t),r.credential=function(t){return tg._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})},r.credentialFromResult=function(t){return r.credentialFromTaggedObject(t)},r.credentialFromError=function(t){return r.credentialFromTaggedObject(t.customData||{})},r.credentialFromTaggedObject=function(t){var n=t._tokenResponse;if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return r.credential(n.oauthAccessToken)}catch(t){return null}},r.FACEBOOK_SIGN_IN_METHOD="facebook.com",r.PROVIDER_ID="facebook.com",r}(tI),tN=function(t){function r(){var r=t.call(this,"google.com")||this;return r.addScope("profile"),r}return a.__extends(r,t),r.credential=function(t,n){return tg._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})},r.credentialFromResult=function(t){return r.credentialFromTaggedObject(t)},r.credentialFromError=function(t){return r.credentialFromTaggedObject(t.customData||{})},r.credentialFromTaggedObject=function(t){var n=t._tokenResponse;if(!n)return null;var i=n,s=i.oauthIdToken,a=i.oauthAccessToken;if(!s&&!a)return null;try{return r.credential(s,a)}catch(t){return null}},r.GOOGLE_SIGN_IN_METHOD="google.com",r.PROVIDER_ID="google.com",r}(tI),tk=function(t){function r(){return t.call(this,"github.com")||this}return a.__extends(r,t),r.credential=function(t){return tg._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:t})},r.credentialFromResult=function(t){return r.credentialFromTaggedObject(t)},r.credentialFromError=function(t){return r.credentialFromTaggedObject(t.customData||{})},r.credentialFromTaggedObject=function(t){var n=t._tokenResponse;if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return r.credential(n.oauthAccessToken)}catch(t){return null}},r.GITHUB_SIGN_IN_METHOD="github.com",r.PROVIDER_ID="github.com",r}(tI),tP="http://localhost",tx=function(t){function r(r,n){var i=t.call(this,r,r)||this;return i.pendingToken=n,i}return a.__extends(r,t),r.prototype._getIdTokenResponse=function(t){return tf(t,this.buildRequest())},r.prototype._linkToIdToken=function(t,r){var n=this.buildRequest();return n.idToken=r,tf(t,n)},r.prototype._getReauthenticationResolver=function(t){var r=this.buildRequest();return r.autoCreate=!1,tf(t,r)},r.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},r.fromJSON=function(t){var n="string"==typeof t?JSON.parse(t):t,i=n.providerId,s=n.signInMethod,a=n.pendingToken;return i&&s&&a&&i===s?new r(i,a):null},r._create=function(t,n){return new r(t,n)},r.prototype.buildRequest=function(){return{requestUri:tP,returnSecureToken:!0,pendingToken:this.pendingToken}},r}(e7),tD="saml.",tL=function(t){function r(r){return N(r.startsWith(tD),"argument-error"),t.call(this,r)||this}return a.__extends(r,t),r.credentialFromResult=function(t){return r.samlCredentialFromTaggedObject(t)},r.credentialFromError=function(t){return r.samlCredentialFromTaggedObject(t.customData||{})},r.credentialFromJSON=function(t){var r=tx.fromJSON(t);return N(r,"argument-error"),r},r.samlCredentialFromTaggedObject=function(t){var r=t._tokenResponse;if(!r)return null;var n=r,i=n.pendingToken,s=n.providerId;if(!i||!s)return null;try{return tx._create(s,i)}catch(t){return null}},r}(tR),tM=function(t){function r(){return t.call(this,"twitter.com")||this}return a.__extends(r,t),r.credential=function(t,n){return tg._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})},r.credentialFromResult=function(t){return r.credentialFromTaggedObject(t)},r.credentialFromError=function(t){return r.credentialFromTaggedObject(t.customData||{})},r.credentialFromTaggedObject=function(t){var n=t._tokenResponse;if(!n)return null;var i=n,s=i.oauthAccessToken,a=i.oauthTokenSecret;if(!s||!a)return null;try{return r.credential(s,a)}catch(t){return null}},r.TWITTER_SIGN_IN_METHOD="twitter.com",r.PROVIDER_ID="twitter.com",r}(tI);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signUp",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tj=function(){function t(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return t._fromIdTokenResponse=function(r,n,i,s){return void 0===s&&(s=!1),a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(a){switch(a.label){case 0:return[4,eS._fromIdTokenResponse(r,i,s)];case 1:return[2,new t({user:a.sent(),providerId:tV(i),_tokenResponse:i,operationType:n})]}})})},t._forOperation=function(r,n,i){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(s){switch(s.label){case 0:return[4,r._updateTokensIfNecessary(i,!0)];case 1:return s.sent(),[2,new t({user:r,providerId:tV(i),_tokenResponse:i,operationType:n})]}})})},t}();function tV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){var r;return a.__awaiter(this,void 0,void 0,function(){var n,i,s;return a.__generator(this,function(a){switch(a.label){case 0:if(o._isFirebaseServerApp(t.app))return[2,Promise.reject(A(t))];return[4,(n=eW(t))._initializationPromise];case 1:if(a.sent(),null===(r=n.currentUser)||void 0===r?void 0:r.isAnonymous)return[2,new tj({user:n.currentUser,providerId:null,operationType:"signIn"})];return[4,tF(n,{returnSecureToken:!0})];case 2:return i=a.sent(),[4,tj._fromIdTokenResponse(n,"signIn",i,!0)];case 3:return s=a.sent(),[4,n._updateCurrentUser(s.user)];case 4:return a.sent(),[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tU=function(t){function r(n,i,s,a){var o,l=this;return(l=t.call(this,i.code,i.message)||this).operationType=s,l.user=a,Object.setPrototypeOf(l,r.prototype),l.customData={appName:n.name,tenantId:null!==(o=n.tenantId)&&void 0!==o?o:void 0,_serverResponse:i.customData._serverResponse,operationType:s},l}return a.__extends(r,t),r._fromErrorAndOperation=function(t,n,i,s){return new r(t,n,i,s)},r}(l.FirebaseError);function tz(t,r,n,i){return("reauthenticate"===r?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw tU._fromErrorAndOperation(t,n,r,i);throw n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){return new Set(t.map(function(t){return t.providerId}).filter(function(t){return!!t}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i,s,o,u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,tG(!0,n=l.getModularInstance(t),r)];case 1:return a.sent(),i=et,s=[n.auth],u={},[4,n.getIdToken()];case 2:return[4,i.apply(void 0,s.concat([(u.idToken=a.sent(),u.deleteProvider=[r],u)]))];case 3:return o=tq(a.sent().providerUserInfo||[]),n.providerData=n.providerData.filter(function(t){return o.has(t.providerId)}),o.has("phone")||(n.phoneNumber=null),[4,n.auth._persistUserIfCurrent(n)];case 4:return a.sent(),[2,n]}})})}function tW(t,r,n){return void 0===n&&(n=!1),a.__awaiter(this,void 0,void 0,function(){var i,s,o,l,u,c;return a.__generator(this,function(a){switch(a.label){case 0:return s=eu,o=[t],u=(l=r)._linkToIdToken,c=[t.auth],[4,t.getIdToken()];case 1:return[4,s.apply(void 0,o.concat([u.apply(l,c.concat([a.sent()])),n]))];case 2:return i=a.sent(),[2,tj._forOperation(t,"link",i)]}})})}function tG(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s;return a.__generator(this,function(a){switch(a.label){case 0:return[4,ef(r)];case 1:return a.sent(),i=tq(r.providerData),s=!1===t?"provider-already-linked":"no-such-provider",N(i.has(n)===t,r.auth,s),[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t,r,n){return void 0===n&&(n=!1),a.__awaiter(this,void 0,void 0,function(){var i,s,l,u,c,d;return a.__generator(this,function(a){switch(a.label){case 0:if(i=t.auth,o._isFirebaseServerApp(i.app))return[2,Promise.reject(A(i))];s="reauthenticate",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,eu(t,tz(i,s,r,t),n)];case 2:return N((l=a.sent()).idToken,i,"internal-error"),N(u=eo(l.idToken),i,"internal-error"),c=u.sub,N(t.uid===c,i,"user-mismatch"),[2,tj._forOperation(t,s,l)];case 3:throw(null==(d=a.sent())?void 0:d.code)==="auth/".concat("user-not-found")&&C(i,"user-mismatch"),d;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t,r,n){return void 0===n&&(n=!1),a.__awaiter(this,void 0,void 0,function(){var i,s,l;return a.__generator(this,function(a){switch(a.label){case 0:if(o._isFirebaseServerApp(t.app))return[2,Promise.reject(A(t))];return[4,tz(t,i="signIn",r)];case 1:return s=a.sent(),[4,tj._fromIdTokenResponse(t,i,s)];case 2:if(l=a.sent(),n)return[3,4];return[4,t._updateCurrentUser(l.user)];case 3:a.sent(),a.label=4;case 4:return[2,l]}})})}function tY(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,t$(eW(t),r)]})})}function tQ(t,r){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(i){switch(i.label){case 0:return[4,tG(!1,n=l.getModularInstance(t),r.providerId)];case 1:return i.sent(),[2,tW(n,r)]}})})}function tZ(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,tK(l.getModularInstance(t),r)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,G(t,"POST","/v1/accounts:signInWithCustomToken",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i,s;return a.__generator(this,function(a){switch(a.label){case 0:if(o._isFirebaseServerApp(t.app))return[2,Promise.reject(A(t))];return[4,tJ(n=eW(t),{token:r,returnSecureToken:!0})];case 1:return i=a.sent(),[4,tj._fromIdTokenResponse(n,"signIn",i)];case 2:return s=a.sent(),[4,n._updateCurrentUser(s.user)];case 3:return a.sent(),[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t0=function(){function t(t,r){this.factorId=t,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}return t._fromServerResponse=function(t,r){return"phoneInfo"in r?t1._fromServerResponse(t,r):"totpInfo"in r?t2._fromServerResponse(t,r):C(t,"internal-error")},t}(),t1=function(t){function r(r){var n=t.call(this,"phone",r)||this;return n.phoneNumber=r.phoneInfo,n}return a.__extends(r,t),r._fromServerResponse=function(t,n){return new r(n)},r}(t0),t2=function(t){function r(r){return t.call(this,"totp",r)||this}return a.__extends(r,t),r._fromServerResponse=function(t,n){return new r(n)},r}(t0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,r,n){var i;N((null===(i=n.url)||void 0===i?void 0:i.length)>0,t,"invalid-continue-uri"),N(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),r.continueUrl=n.url,r.dynamicLinkDomain=n.dynamicLinkDomain,r.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(N(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),r.iOSBundleId=n.iOS.bundleId),n.android&&(N(n.android.packageName.length>0,t,"missing-android-pkg-name"),r.androidInstallApp=n.android.installApp,r.androidMinimumVersionCode=n.android.minimumVersion,r.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){switch(n.label){case 0:if(!(r=eW(t))._getPasswordPolicyInternal())return[3,2];return[4,r._updatePasswordPolicy()];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function t5(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s;return a.__generator(this,function(a){switch(a.label){case 0:return i=eW(t),s={requestType:"PASSWORD_RESET",email:r,clientType:"CLIENT_TYPE_WEB"},n&&t4(i,s,n),[4,e0(i,s,"getOobCode",to)];case 1:return a.sent(),[2]}})})}function t6(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i=this;return a.__generator(this,function(s){switch(s.label){case 0:return[4,te(l.getModularInstance(t),{oobCode:r,newPassword:n}).catch(function(r){return a.__awaiter(i,void 0,void 0,function(){return a.__generator(this,function(n){throw r.code==="auth/".concat("password-does-not-meet-requirements")&&t3(t),r})})})];case 1:return s.sent(),[2]}})})}function t9(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return[4,tn(l.getModularInstance(t),{oobCode:r})];case 1:return n.sent(),[2]}})})}function t8(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i,s,o;return a.__generator(this,function(a){switch(a.label){case 0:return[4,te(n=l.getModularInstance(t),{oobCode:r})];case 1:switch(N(s=(i=a.sent()).requestType,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(i.mfaInfo,n,"internal-error");default:N(i.email,n,"internal-error")}return o=null,i.mfaInfo&&(o=t0._fromServerResponse(eW(n),i.mfaInfo)),[2,{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}]}})})}function t7(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return[4,t8(l.getModularInstance(t),r)];case 1:return[2,n.sent().data.email]}})})}function re(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s,l;return a.__generator(this,function(a){switch(a.label){case 0:if(o._isFirebaseServerApp(t.app))return[2,Promise.reject(A(t))];return[4,e0(i=eW(t),{returnSecureToken:!0,email:r,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tF).catch(function(r){throw r.code==="auth/".concat("password-does-not-meet-requirements")&&t3(t),r})];case 1:return s=a.sent(),[4,tj._fromIdTokenResponse(i,"signIn",s)];case 2:return l=a.sent(),[4,i._updateCurrentUser(l.user)];case 3:return a.sent(),[2,l]}})})}function rt(t,r,n){var i=this;return o._isFirebaseServerApp(t.app)?Promise.reject(A(t)):tY(l.getModularInstance(t),tC.credential(r,n)).catch(function(r){return a.__awaiter(i,void 0,void 0,function(){return a.__generator(this,function(n){throw r.code==="auth/".concat("password-does-not-meet-requirements")&&t3(t),r})})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s;function o(t,r){N(r.handleCodeInApp,i,"argument-error"),r&&t4(i,t,r)}return a.__generator(this,function(a){switch(a.label){case 0:return i=eW(t),o(s={requestType:"EMAIL_SIGNIN",email:r,clientType:"CLIENT_TYPE_WEB"},n),[4,e0(i,s,"getOobCode",tl)];case 1:return a.sent(),[2]}})})}function rn(t,r){var n=tT.parseLink(r);return(null==n?void 0:n.operation)==="EMAIL_SIGNIN"}function ri(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s;return a.__generator(this,function(a){return o._isFirebaseServerApp(t.app)?[2,Promise.reject(A(t))]:(i=l.getModularInstance(t),N((s=tC.credentialWithLink(r,n||x()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),[2,tY(i,s)])})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:createAuthUri",q(t,r))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,r){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(i){switch(i.label){case 0:return n={identifier:r,continueUri:D()?x():"http://localhost"},[4,rs(l.getModularInstance(t),n)];case 1:return[2,i.sent().signinMethods||[]]}})})}function ro(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i;return a.__generator(this,function(s){switch(s.label){case 0:return n=l.getModularInstance(t),[4,t.getIdToken()];case 1:return i={requestType:"VERIFY_EMAIL",idToken:s.sent()},r&&t4(n.auth,i,r),[4,ta(n.auth,i)];case 2:if(!(s.sent().email!==t.email))return[3,4];return[4,t.reload()];case 3:s.sent(),s.label=4;case 4:return[2]}})})}function rl(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s;return a.__generator(this,function(a){switch(a.label){case 0:return i=l.getModularInstance(t),[4,t.getIdToken()];case 1:return s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a.sent(),newEmail:r},n&&t4(i.auth,s,n),[4,tu(i.auth,s)];case 2:if(!(a.sent().email!==t.email))return[3,4];return[4,t.reload()];case 3:a.sent(),a.label=4;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,H(t,"POST","/v1/accounts:update",r)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t,r){var n=r.displayName,i=r.photoURL;return a.__awaiter(this,void 0,void 0,function(){var r,s,o,u;return a.__generator(this,function(a){switch(a.label){case 0:if(void 0===n&&void 0===i)return[2];return[4,(r=l.getModularInstance(t)).getIdToken()];case 1:return s={idToken:a.sent(),displayName:n,photoUrl:i,returnSecureToken:!0},[4,eu(r,ru(r.auth,s))];case 2:return o=a.sent(),r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null,(u=r.providerData.find(function(t){return"password"===t.providerId}))&&(u.displayName=r.displayName,u.photoURL=r.photoURL),[4,r._updateTokensIfNecessary(o)];case 3:return a.sent(),[2]}})})}function rd(t,r){var n=l.getModularInstance(t);return o._isFirebaseServerApp(n.auth.app)?Promise.reject(A(n.auth)):rf(n,r,null)}function rh(t,r){return rf(l.getModularInstance(t),null,r)}function rf(t,r,n){return a.__awaiter(this,void 0,void 0,function(){var i,s,o;return a.__generator(this,function(a){switch(a.label){case 0:return i=t.auth,[4,t.getIdToken()];case 1:return s={idToken:a.sent(),returnSecureToken:!0},r&&(s.email=r),n&&(s.password=n),[4,eu(t,tt(i,s))];case 2:return o=a.sent(),[4,t._updateTokensIfNecessary(o,!0)];case 3:return a.sent(),[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){if(!t)return null;var r,n,i=t.providerId,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},a=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!i&&(null==t?void 0:t.idToken)){var o=null===(n=null===(r=eo(t.idToken))||void 0===r?void 0:r.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new rg(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!i)return null;switch(i){case"facebook.com":return new rv(a,s);case"github.com":return new ry(a,s);case"google.com":return new r_(a,s);case"twitter.com":return new rb(a,s,t.screenName||null);case"custom":case"anonymous":return new rg(a,null);default:return new rg(a,i,s)}}var rg=function(){return function(t,r,n){void 0===n&&(n={}),this.isNewUser=t,this.providerId=r,this.profile=n}}(),rm=function(t){function r(r,n,i,s){var a=t.call(this,r,n,i)||this;return a.username=s,a}return a.__extends(r,t),r}(rg),rv=function(t){function r(r,n){return t.call(this,r,"facebook.com",n)||this}return a.__extends(r,t),r}(rg),ry=function(t){function r(r,n){return t.call(this,r,"github.com",n,"string"==typeof(null==n?void 0:n.login)?null==n?void 0:n.login:null)||this}return a.__extends(r,t),r}(rm),r_=function(t){function r(r,n){return t.call(this,r,"google.com",n)||this}return a.__extends(r,t),r}(rg),rb=function(t){function r(r,n,i){return t.call(this,r,"twitter.com",n,i)||this}return a.__extends(r,t),r}(rm);function rS(t){var r=t,n=r.user,i=r._tokenResponse;return n.isAnonymous&&!i?{providerId:null,isNewUser:!1,profile:null}:rp(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,r){return l.getModularInstance(t).setPersistence(r)}function rT(t){return e1(t)}function rw(t,r){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){return[2,eW(t).validatePassword(r)]})})}function rC(t,r,n,i){return l.getModularInstance(t).onIdTokenChanged(r,n,i)}function rR(t,r,n){return l.getModularInstance(t).beforeAuthStateChanged(r,n)}function rI(t,r,n,i){return l.getModularInstance(t).onAuthStateChanged(r,n,i)}function rA(t){l.getModularInstance(t).useDeviceLanguage()}function rO(t,r){return l.getModularInstance(t).updateCurrentUser(r)}function rN(t){return l.getModularInstance(t).signOut()}function rk(t,r){return eW(t).revokeAccessToken(r)}function rP(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(r){return[2,l.getModularInstance(t).delete()]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rx=function(){function t(t,r,n){this.type=t,this.credential=r,this.user=n}return t._fromIdtoken=function(r,n){return new t("enroll",r,n)},t._fromMfaPendingCredential=function(r){return new t("signin",r)},t.prototype.toJSON=function(){var t,r="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:((t={})[r]=this.credential,t)}},t.fromJSON=function(r){var n,i;if(null==r?void 0:r.multiFactorSession){if(null===(n=r.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return t._fromMfaPendingCredential(r.multiFactorSession.pendingCredential);if(null===(i=r.multiFactorSession)||void 0===i?void 0:i.idToken)return t._fromIdtoken(r.multiFactorSession.idToken)}return null},t}(),rD=function(){function t(t,r,n){this.session=t,this.hints=r,this.signInResolver=n}return t._fromError=function(r,n){var i=this,s=eW(r),o=n.customData._serverResponse,l=(o.mfaInfo||[]).map(function(t){return t0._fromServerResponse(s,t)});N(o.mfaPendingCredential,s,"internal-error");var u=rx._fromMfaPendingCredential(o.mfaPendingCredential);return new t(u,l,function(t){return a.__awaiter(i,void 0,void 0,function(){var r,i,l;return a.__generator(this,function(c){switch(c.label){case 0:return[4,t._process(s,u)];case 1:switch(r=c.sent(),delete o.mfaInfo,delete o.mfaPendingCredential,i=a.__assign(a.__assign({},o),{idToken:r.idToken,refreshToken:r.refreshToken}),n.operationType){case"signIn":return[3,2];case"reauthenticate":return[3,5]}return[3,6];case 2:return[4,tj._fromIdTokenResponse(s,n.operationType,i)];case 3:return l=c.sent(),[4,s._updateCurrentUser(l.user)];case 4:return c.sent(),[2,l];case 5:return N(n.user,s,"internal-error"),[2,tj._forOperation(n.user,n.operationType,i)];case 6:C(s,"internal-error"),c.label=7;case 7:return[2]}})})})},t.prototype.resolveSignIn=function(t){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(n){return r=t,[2,this.signInResolver(r)]})})},t}();function rL(t,r){var n,i=l.getModularInstance(t),s=r;return N(r.customData.operationType,i,"argument-error"),N(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),rD._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,r){return H(t,"POST","/v2/accounts/mfaEnrollment:start",q(t,r))}function rF(t,r){return H(t,"POST","/v2/accounts/mfaEnrollment:finalize",q(t,r))}function rj(t,r){return H(t,"POST","/v2/accounts/mfaEnrollment:withdraw",q(t,r))}var rV=function(){function t(t){var r=this;this.user=t,this.enrolledFactors=[],t._onReload(function(n){n.mfaInfo&&(r.enrolledFactors=n.mfaInfo.map(function(r){return t0._fromServerResponse(t.auth,r)}))})}return t._fromUser=function(r){return new t(r)},t.prototype.getSession=function(){return a.__awaiter(this,void 0,void 0,function(){var t,r;return a.__generator(this,function(n){switch(n.label){case 0:return r=(t=rx)._fromIdtoken,[4,this.user.getIdToken()];case 1:return[2,r.apply(t,[n.sent(),this.user])]}})})},t.prototype.enroll=function(t,r){return a.__awaiter(this,void 0,void 0,function(){var n,i,s;return a.__generator(this,function(a){switch(a.label){case 0:return n=t,[4,this.getSession()];case 1:return i=a.sent(),[4,eu(this.user,n._process(this.user.auth,i,r))];case 2:return s=a.sent(),[4,this.user._updateTokensIfNecessary(s)];case 3:return a.sent(),[2,this.user.reload()]}})})},t.prototype.unenroll=function(t){return a.__awaiter(this,void 0,void 0,function(){var r,n,i;return a.__generator(this,function(s){switch(s.label){case 0:return r="string"==typeof t?t:t.uid,[4,this.user.getIdToken()];case 1:n=s.sent(),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,eu(this.user,rj(this.user.auth,{idToken:n,mfaEnrollmentId:r}))];case 3:return i=s.sent(),this.enrolledFactors=this.enrolledFactors.filter(function(t){return t.uid!==r}),[4,this.user._updateTokensIfNecessary(i)];case 4:return s.sent(),[4,this.user.reload()];case 5:return s.sent(),[3,7];case 6:throw s.sent();case 7:return[2]}})})},t}(),rB=new WeakMap;function rU(t){var r=l.getModularInstance(t);return rB.has(r)||rB.set(r,rV._fromUser(r)),rB.get(r)}var rz="@firebase/auth",rq="1.7.9",rH=function(){function t(t){this.auth=t,this.internalListeners=new Map}return t.prototype.getUid=function(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null},t.prototype.getToken=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:if(r.sent(),!this.auth.currentUser)return[2,null];return[4,this.auth.currentUser.getIdToken(t)];case 2:return[2,{accessToken:r.sent()}]}})})},t.prototype.addAuthTokenListener=function(t){if(this.assertAuthConfigured(),!this.internalListeners.has(t)){var r=this.auth.onIdTokenChanged(function(r){t((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(t){this.assertAuthConfigured();var r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rG(t){o._registerComponent(new u.Component("auth",function(r,n){var i=n.options,s=r.getProvider("app").getImmediate(),a=r.getProvider("heartbeat"),o=r.getProvider("app-check-internal"),l=s.options,u=l.apiKey,c=l.authDomain;N(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});var d=new eH(s,a,o,{apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eV(t)});return e4(d,i),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,r,n){t.getProvider("auth-internal").initialize()})),o._registerComponent(new u.Component("auth-internal",function(t){return function(t){return new rH(t)}(eW(t.getProvider("auth").getImmediate()))},"PRIVATE").setInstantiationMode("EXPLICIT")),o.registerVersion(rz,rq,rW(t)),o.registerVersion(rz,rq,"cjs5")}function rK(t){void 0===t&&(t=o.getApp());var r=o._getProvider(t,"auth");if(r.isInitialized())return r.getImmediate();var n=e2(t),i=l.getDefaultEmulatorHost("auth");return i&&e3(n,"http://".concat(i)),n}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */B.initialize(c.fetch,c.Headers,c.Response),rG("Node");var r$=R("operation-not-supported-in-this-environment");function rY(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){throw r$})})}var rQ=function(){return function(){throw r$}}(),rZ=ew,rJ=ew,rX=ew,r0=r$,r1=rQ,r2=rY,r4=rY,r3=rY,r5=rY,r6=rY,r9=rY,r8=rY,r7=rY,ne=rY,nt=rY,nr=rY,nn=rQ,ni=function(){function t(){}return t.assertion=function(){throw r$},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,r){return H(t,"POST","/v2/accounts/mfaSignIn:finalize",q(t,r))}eH.prototype.setPersistence=function(){return a.__awaiter(void 0,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})};var na=function(){function t(t){this.factorId=t}return t.prototype._process=function(t,r,n){switch(r.type){case"enroll":return this._finalizeEnroll(t,r.credential,n);case"signin":return this._finalizeSignIn(t,r.credential);default:return k("unexpected MultiFactorSessionType")}},t}(),no=function(){function t(){}return t.assertionForEnrollment=function(t,r){return nl._fromSecret(t,r)},t.assertionForSignIn=function(t,r){return nl._fromEnrollmentId(t,r)},t.generateSecret=function(t){var r;return a.__awaiter(this,void 0,void 0,function(){var n,i;return a.__generator(this,function(s){switch(s.label){case 0:return N(void 0!==(null===(r=(n=t).user)||void 0===r?void 0:r.auth),"internal-error"),[4,rM(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}})];case 1:return i=s.sent(),[2,nu._fromStartTotpMfaEnrollmentResponse(i,n.user.auth)]}})})},t.FACTOR_ID="totp",t}(),nl=function(t){function r(r,n,i){var s=t.call(this,"totp")||this;return s.otp=r,s.enrollmentId=n,s.secret=i,s}return a.__extends(r,t),r._fromSecret=function(t,n){return new r(n,void 0,t)},r._fromEnrollmentId=function(t,n){return new r(n,t)},r.prototype._finalizeEnroll=function(t,r,n){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(i){return N(void 0!==this.secret,t,"argument-error"),[2,rF(t,{idToken:r,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})]})})},r.prototype._finalizeSignIn=function(t,r){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(i){return N(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),n={verificationCode:this.otp},[2,ns(t,{mfaPendingCredential:r,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})]})})},r}(na),nu=function(){function t(t,r,n,i,s,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=t,this.hashingAlgorithm=r,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=s}return t._fromStartTotpMfaEnrollmentResponse=function(r,n){return new t(r.totpSessionInfo.sharedSecretKey,r.totpSessionInfo.hashingAlgorithm,r.totpSessionInfo.verificationCodeLength,r.totpSessionInfo.periodSec,new Date(r.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),r.totpSessionInfo.sessionInfo,n)},t.prototype._makeTotpVerificationInfo=function(t){return{sessionInfo:this.sessionInfo,verificationCode:t}},t.prototype.generateQrCodeUrl=function(t,r){var n,i=!1;return(nc(t)||nc(r))&&(i=!0),i&&(nc(t)&&(t=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),nc(r)&&(r=this.auth.name)),"otpauth://totp/".concat(r,":").concat(t,"?secret=").concat(this.secretKey,"&issuer=").concat(r,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)},t}();function nc(t){return void 0===t||(null==t?void 0:t.length)===0}r.AUTH_ERROR_CODES_MAP_DO_NOT_USE_INTERNALLY=S,r.ActionCodeOperation=m,r.ActionCodeURL=tT,r.AuthCredential=e7,r.AuthImpl=eH,r.BaseOAuthProvider=tI,r.EmailAuthCredential=th,r.EmailAuthProvider=tC,r.FacebookAuthProvider=tO,r.FactorId=h,r.FederatedAuthProvider=tR,r.FetchProvider=B,r.GithubAuthProvider=tk,r.GoogleAuthProvider=tN,r.OAuthCredential=tg,r.OAuthProvider=tA,r.OperationType=g,r.PhoneAuthCredential=tb,r.PhoneAuthProvider=r1,r.PhoneMultiFactorGenerator=ni,r.ProviderId=f,r.RecaptchaVerifier=nn,r.SAMLAuthCredential=tx,r.SAMLAuthProvider=tL,r.SignInMethod=p,r.TotpMultiFactorGenerator=no,r.TotpSecret=nu,r.TwitterAuthProvider=tM,r.UserImpl=eS,r._assert=N,r._castAuth=eW,r._createError=R,r._emulatorUrl=V,r._fail=C,r._getClientVersion=eV,r._getInstance=eT,r._isAndroid=eP,r._isIE10=eF,r._isIOS=eL,r._isIOS7Or8=eM,r._isMobileBrowser=ej,r._link=tW,r._performApiRequest=H,r._persistenceKeyName=eC,r._reauthenticate=tK,r._serverAppCurrentUserOperationNotSupportedError=A,r._signInWithCredential=t$,r.applyActionCode=t9,r.beforeAuthStateChanged=rR,r.browserLocalPersistence=rZ,r.browserPopupRedirectResolver=r0,r.browserSessionPersistence=rJ,r.checkActionCode=t8,r.confirmPasswordReset=t6,r.connectAuthEmulator=e3,r.createUserWithEmailAndPassword=re,r.debugAssert=P,r.debugErrorMap=y,r.deleteUser=rP,r.fetchSignInMethodsForEmail=ra,r.getAdditionalUserInfo=rS,r.getAuth=rK,r.getIdToken=ei,r.getIdTokenResult=es,r.getMultiFactorResolver=rL,r.getRedirectResult=nr,r.inMemoryPersistence=ew,r.indexedDBLocalPersistence=rX,r.initializeAuth=e2,r.initializeRecaptchaConfig=rT,r.isSignInWithEmailLink=rn,r.linkWithCredential=tQ,r.linkWithPhoneNumber=r4,r.linkWithPopup=r9,r.linkWithRedirect=ne,r.multiFactor=rU,r.onAuthStateChanged=rI,r.onIdTokenChanged=rC,r.parseActionCodeURL=tw,r.prodErrorMap=_,r.reauthenticateWithCredential=tZ,r.reauthenticateWithPhoneNumber=r3,r.reauthenticateWithPopup=r8,r.reauthenticateWithRedirect=nt,r.reload=ep,r.revokeAccessToken=rk,r.sendEmailVerification=ro,r.sendPasswordResetEmail=t5,r.sendSignInLinkToEmail=rr,r.setPersistence=rE,r.signInAnonymously=tB,r.signInWithCredential=tY,r.signInWithCustomToken=tX,r.signInWithEmailAndPassword=rt,r.signInWithEmailLink=ri,r.signInWithIdp=tf,r.signInWithPhoneNumber=r2,r.signInWithPopup=r6,r.signInWithRedirect=r7,r.signOut=rN,r.unlink=tH,r.updateCurrentUser=rO,r.updateEmail=rd,r.updatePassword=rh,r.updatePhoneNumber=r5,r.updateProfile=rc,r.useDeviceLanguage=rA,r.validatePassword=rw,r.verifyBeforeUpdateEmail=rl,r.verifyPasswordResetCode=t7},64063:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(83886),s=n(16172),a=function(){function t(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",l=function(){function t(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){var n=new s.Deferred;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch(t){}}return this.instancesDeferred.get(r).promise},t.prototype.getImmediate=function(t){var r,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(r=null==t?void 0:t.optional)&&void 0!==r&&r;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}else{if(i)return null;throw Error("Service ".concat(this.name," is not available"))}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var r,n;if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}try{for(var s=i.__values(this.instancesDeferred.entries()),a=s.next();!a.done;a=s.next()){var l=i.__read(a.value,2),u=l[0],d=l[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});d.resolve(f)}catch(t){}}}catch(t){r={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,function(){var t;return i.__generator(this,function(r){switch(r.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(i.__spreadArray(i.__spreadArray([],i.__read(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()})),!1),i.__read(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})),!1))];case 1:return r.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){void 0===t&&(t={});var r,n,s=t.options,a=void 0===s?{}:s,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var l=this.getOrInitializeService({instanceIdentifier:o,options:a});try{for(var u=i.__values(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var d=i.__read(c.value,2),h=d[0],f=d[1],p=this.normalizeInstanceIdentifier(h);o===p&&f.resolve(l)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return l},t.prototype.onInit=function(t,r){var n,i=this.normalizeInstanceIdentifier(r),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,r){var n,s,a=this.onInitCallbacks.get(r);if(a)try{for(var o=i.__values(a),l=o.next();!l.done;l=o.next()){var u=l.value;try{u(t,r)}catch(t){}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var r=t.instanceIdentifier,n=t.options,i=void 0===n?{}:n,s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:u(r),options:i}),this.instances.set(r,s),this.instancesOptions.set(r,i),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch(t){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return(void 0===t&&(t=o),this.component)?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===o?void 0:t}function c(t){return"EAGER"===t.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var r=this.getProvider(t.name);if(r.isComponentSet())throw Error("Component ".concat(t.name," has already been registered with ").concat(this.name));r.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var r=new l(t,this);return this.providers.set(t,r),r},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();r.Component=a,r.ComponentContainer=d,r.Provider=l},75159:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,s,a=n(58609),o=n(64063),l=n(35787),u=n(73837),c=n(16172),d=n(6113),h=n(54149),f=n(25872),p=n(51509);function g(t){if(t&&t.__esModule)return t;var r=Object.create(null);return t&&Object.keys(t).forEach(function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}),r.default=t,Object.freeze(r)}var m=g(f),v=g(p);let y="@firebase/firestore",_="4.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";function E(t){S=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(t){return u.inspect(t,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w=new l.Logger("@firebase/firestore");function C(){return w.logLevel}function R(t){w.setLogLevel(t)}function I(t,...r){if(w.logLevel<=l.LogLevel.DEBUG){let n=r.map(N);w.debug(`Firestore (${S}): ${t}`,...n)}}function A(t,...r){if(w.logLevel<=l.LogLevel.ERROR){let n=r.map(N);w.error(`Firestore (${S}): ${t}`,...n)}}function O(t,...r){if(w.logLevel<=l.LogLevel.WARN){let n=r.map(N);w.warn(`Firestore (${S}): ${t}`,...n)}}function N(t){if("string"==typeof t)return t;try{return T(t)}catch(r){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t="Unexpected state"){let r=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+t;throw A(r),Error(r)}function P(t,r){t||k()}function x(t,r){t||k()}function D(t,r){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends c.FirebaseError{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(b.UNAUTHENTICATED))}shutdown(){}}class B{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(t){this.authProvider=t,this.currentUser=b.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(t,r){P(void 0===this.tokenListener);let n=this.tokenCounter,i=t=>this.tokenCounter!==n?(n=this.tokenCounter,r(t)):Promise.resolve(),s=new F;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),s.resolve(),s=new F,t.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let r=s;t.enqueueRetryable(async()=>{await r.promise,await i(this.currentUser)})},o=t=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),a())};this.authProvider.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){let t=this.authProvider.getImmediate({optional:!0});t?o(t):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new F)}},0),a()}getToken(){let t=this.tokenCounter,r=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(r).then(r=>this.tokenCounter!==t?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new j(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let t=this.auth&&this.auth.getUid();return P(null===t||"string"==typeof t),new b(t)}}class z{constructor(t,r,n){this.sessionIndex=t,this.iamToken=r,this.authTokenFactory=n,this.type="FirstParty",this.user=b.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let t=this.getAuthToken();return t&&this._headers.set("Authorization",t),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class q{constructor(t,r,n){this.sessionIndex=t,this.iamToken=r,this.authTokenFactory=n}getToken(){return Promise.resolve(new z(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(t,r){t.enqueueRetryable(()=>r(b.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(t){this.appCheckProvider=t,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(t,r){P(void 0===this.tokenListener);let n=t=>{null!=t.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);let n=t.token!==this.latestAppCheckToken;return this.latestAppCheckToken=t.token,I("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?r(t.token):Promise.resolve()};this.tokenListener=r=>{t.enqueueRetryable(()=>n(r))};let i=t=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(t=>i(t)),setTimeout(()=>{if(!this.appCheck){let t=this.appCheckProvider.getImmediate({optional:!0});t?i(t):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(t).then(t=>t?(P("string"==typeof t.token),this.latestAppCheckToken=t.token,new H(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}}class G{getToken(){return Promise.resolve(new H(""))}invalidateToken(){}start(t,r){}shutdown(){}}function K(t){if(!t)return new V;switch(t.type){case"firstParty":return new q(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new M(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t){return d.randomBytes(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length,n="",i=20;for(;n.length<i;){let s=$(40);for(let a=0;a<s.length;++a)n.length<i&&s[a]<r&&(n+=t.charAt(s[a]%t.length))}return n}}function Q(t,r){return t<r?-1:t>r?1:0}function Z(t,r,n){return t.length===r.length&&t.every((t,i)=>n(t,r[i]))}function J(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X=-62135596800,ee=1e6;class et{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0||r>=1e9)throw new M(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<X||t>=253402300800)throw new M(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return et.fromMillis(Date.now())}static fromDate(t){return et.fromMillis(t.getTime())}static fromMillis(t){let r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*ee);return new et(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ee}_compareTo(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-X).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.timestamp=t}static fromTimestamp(t){return new er(t)}static min(){return new er(new et(0,0))}static max(){return new er(new et(253402300799,1e9-1))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en="__name__";class ei{constructor(t,r,n){void 0===r?r=0:r>t.length&&k(),void 0===n?n=t.length-r:n>t.length-r&&k(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return 0===ei.comparator(this,t)}child(t){let r=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(t=>{r.push(t)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){let n=Math.min(t.length,r.length);for(let i=0;i<n;i++){let n=t.get(i),s=r.get(i);if(n<s)return -1;if(n>s)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class es extends ei{construct(t,r,n){return new es(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let r=[];for(let n of t){if(n.indexOf("//")>=0)throw new M(L.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(t=>t.length>0))}return new es(r)}static emptyPath(){return new es([])}}let ea=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eo extends ei{construct(t,r,n){return new eo(t,r,n)}static isValidIdentifier(t){return ea.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===en}static keyField(){return new eo([en])}static fromServerFormat(t){let r=[],n="",i=0,s=()=>{if(0===n.length)throw new M(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""},a=!1;for(;i<t.length;){let r=t[i];if("\\"===r){if(i+1===t.length)throw new M(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let r=t[i+1];if(!("\\"===r||"."===r||"`"===r))throw new M(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=r,i+=2}else"`"===r?a=!a:"."!==r||a?n+=r:s(),i++}if(s(),a)throw new M(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new eo(r)}static emptyPath(){return new eo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t){this.path=t}static fromPath(t){return new el(es.fromString(t))}static fromName(t){return new el(es.fromString(t).popFirst(5))}static empty(){return new el(es.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===es.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return es.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new el(new es(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=-1,ec=0;class ed{constructor(t,r,n,i){this.indexId=t,this.collectionGroup=r,this.fields=n,this.indexState=i}}function eh(t){return t.fields.find(t=>2===t.kind)}function ef(t){return t.fields.filter(t=>2!==t.kind)}function ep(t){let r=ef(t);return 0===r.length?0:r[r.length-1].kind}function eg(t,r){let n=Q(t.collectionGroup,r.collectionGroup);if(0!==n)return n;for(let i=0;i<Math.min(t.fields.length,r.fields.length);++i)if(0!==(n=ey(t.fields[i],r.fields[i])))return n;return Q(t.fields.length,r.fields.length)}function em(t){return`id=${t.indexId}|cg=${t.collectionGroup}|f=${t.fields.map(t=>`${t.fieldPath}:${t.kind}`).join(",")}`}ed.UNKNOWN_ID=-1;class ev{constructor(t,r){this.fieldPath=t,this.kind=r}}function ey(t,r){let n=eo.comparator(t.fieldPath,r.fieldPath);return 0!==n?n:Q(t.kind,r.kind)}class e_{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new e_(ec,eE.min())}}function eb(t,r){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1;return new eE(er.fromTimestamp(1e9===i?new et(n+1,0):new et(n,i)),el.empty(),r)}function eS(t){return new eE(t.readTime,t.key,eu)}class eE{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new eE(er.min(),el.empty(),eu)}static max(){return new eE(er.max(),el.empty(),eu)}}function eT(t,r){let n=t.readTime.compareTo(r.readTime);return 0!==n||0!==(n=el.comparator(t.documentKey,r.documentKey))?n:Q(t.largestBatchId,r.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t){if(t.code===L.FAILED_PRECONDITION&&t.message===ew)I("LocalStore","Unexpectedly lost primary lease");else throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,r){return(this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new eI((n,i)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(n,i)},this.catchCallback=t=>{this.wrapFailure(r,t).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{let r=t();if(r instanceof eI)return r;return eI.resolve(r)}catch(t){return eI.reject(t)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):eI.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):eI.reject(r)}static resolve(t){return new eI((r,n)=>{r(t)})}static reject(t){return new eI((r,n)=>{n(t)})}static waitFor(t){return new eI((r,n)=>{let i=0,s=0,a=!1;t.forEach(t=>{++i,t.next(()=>{++s,a&&s===i&&r()},t=>n(t))}),a=!0,s===i&&r()})}static or(t){let r=eI.resolve(!1);for(let n of t)r=r.next(t=>t?eI.resolve(t):n());return r}static forEach(t,r){let n=[];return t.forEach((t,i)=>{n.push(r.call(this,t,i))}),this.waitFor(n)}static mapArray(t,r){return new eI((n,i)=>{let s=t.length,a=Array(s),o=0;for(let l=0;l<s;l++){let u=l;r(t[u]).next(t=>{a[u]=t,++o===s&&n(a)},t=>i(t))}})}static doWhile(t,r){return new eI((n,i)=>{let s=()=>{!0===t()?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eA="SimpleDb",eO=3;class eN{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.completionDeferred=new F,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{r.error?this.completionDeferred.reject(new eD(t,r.error)):this.completionDeferred.resolve()},this.transaction.onerror=r=>{let n=eV(r.target.error);this.completionDeferred.reject(new eD(t,n))}}static open(t,r,n,i){try{return new eN(r,t.transaction(i,n))}catch(t){throw new eD(r,t)}}get completionPromise(){return this.completionDeferred.promise}abort(t){t&&this.completionDeferred.reject(t),this.aborted||(I(eA,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){return new eM(this.transaction.objectStore(t))}}class ek{constructor(t,r,n){this.name=t,this.version=r,this.schemaConverter=n,12.2===ek.getIOSVersion(c.getUA())&&A("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return I(eA,"Removing database:",t),eF(window.indexedDB.deleteDatabase(t)).toPromise()}static isAvailable(){if(!c.isIndexedDBAvailable())return!1;if(ek.isMockPersistence())return!0;let t=c.getUA(),r=ek.getIOSVersion(t),n=0<r&&r<10,i=eP(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)&&!n&&!s}static isMockPersistence(){var t;return"undefined"!=typeof process&&(null===(t=process.env)||void 0===t?void 0:t.USE_MOCK_PERSISTENCE)==="YES"}static getStore(t,r){return t.store(r)}static getIOSVersion(t){let r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(r?r[1].split("_").slice(0,2).join("."):"-1")}async ensureDb(t){return this.db||(I(eA,"Opening database:",this.name),this.db=await new Promise((r,n)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{r(t.target.result)},i.onblocked=()=>{n(new eD(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=r=>{let i=r.target.error;"VersionError"===i.name?n(new M(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new M(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new eD(t,i))},i.onupgradeneeded=t=>{I(eA,'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);let r=t.target.result;this.schemaConverter.createOrUpgrade(r,i.transaction,t.oldVersion,this.version).next(()=>{I(eA,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=t=>this.versionchangelistener(t)),this.db}setVersionChangeListener(t){this.versionchangelistener=t,this.db&&(this.db.onversionchange=r=>t(r))}async runTransaction(t,r,n,i){let s="readonly"===r,a=0;for(;;){++a;try{this.db=await this.ensureDb(t);let r=eN.open(this.db,t,s?"readonly":"readwrite",n),a=i(r).next(t=>(r.maybeCommit(),t)).catch(t=>(r.abort(t),eI.reject(t))).toPromise();return a.catch(()=>{}),await r.completionPromise,a}catch(n){let t=n,r="FirebaseError"!==t.name&&a<eO;if(I(eA,"Transaction failed with error:",t.message,"Retrying:",r),this.close(),!r)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eP(t){let r=t.match(/Android ([\d.]+)/i);return Number(r?r[1].split(".").slice(0,2).join("."):"-1")}class ex{constructor(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(t){this.dbCursor=t}done(){this.shouldStop=!0}skip(t){this.nextKey=t}delete(){return eF(this.dbCursor.delete())}}class eD extends M{constructor(t,r){super(L.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function eL(t){return"IndexedDbTransactionError"===t.name}class eM{constructor(t){this.store=t}put(t,r){let n;return void 0!==r?(I(eA,"PUT",this.store.name,t,r),n=this.store.put(r,t)):(I(eA,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),eF(n)}add(t){return I(eA,"ADD",this.store.name,t,t),eF(this.store.add(t))}get(t){return eF(this.store.get(t)).next(r=>(void 0===r&&(r=null),I(eA,"GET",this.store.name,t,r),r))}delete(t){return I(eA,"DELETE",this.store.name,t),eF(this.store.delete(t))}count(){return I(eA,"COUNT",this.store.name),eF(this.store.count())}loadAll(t,r){let n=this.options(t,r),i=n.index?this.store.index(n.index):this.store;if("function"==typeof i.getAll){let t=i.getAll(n.range);return new eI((r,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{r(t.target.result)}})}{let t=this.cursor(n),r=[];return this.iterateCursor(t,(t,n)=>{r.push(n)}).next(()=>r)}}loadFirst(t,r){let n=this.store.getAll(t,null===r?void 0:r);return new eI((t,r)=>{n.onerror=t=>{r(t.target.error)},n.onsuccess=r=>{t(r.target.result)}})}deleteAll(t,r){I(eA,"DELETE ALL",this.store.name);let n=this.options(t,r);n.keysOnly=!1;let i=this.cursor(n);return this.iterateCursor(i,(t,r,n)=>n.delete())}iterate(t,r){let n;r?n=t:(n={},r=t);let i=this.cursor(n);return this.iterateCursor(i,r)}iterateSerial(t){let r=this.cursor({});return new eI((n,i)=>{r.onerror=t=>{i(eV(t.target.error))},r.onsuccess=r=>{let i=r.target.result;if(!i){n();return}t(i.primaryKey,i.value).next(t=>{t?i.continue():n()})}})}iterateCursor(t,r){let n=[];return new eI((i,s)=>{t.onerror=t=>{s(t.target.error)},t.onsuccess=t=>{let s=t.target.result;if(!s){i();return}let a=new ex(s),o=r(s.primaryKey,s.value,a);if(o instanceof eI){let t=o.catch(t=>(a.done(),eI.reject(t)));n.push(t)}a.isDone?i():null===a.skipToKey?s.continue():s.continue(a.skipToKey)}}).next(()=>eI.waitFor(n))}options(t,r){let n;return void 0!==t&&("string"==typeof t?n=t:r=t),{index:n,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),!t.index)return this.store.openCursor(t.range,r);{let n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,r):n.openCursor(t.range,r)}}}function eF(t){return new eI((r,n)=>{t.onsuccess=t=>{r(t.target.result)},t.onerror=t=>{n(eV(t.target.error))}})}let ej=!1;function eV(t){let r=ek.getIOSVersion(c.getUA());if(r>=12.2&&r<13){let r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){let t=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ej||(ej=!0,setTimeout(()=>{throw t},0)),t}}return t}let eB="IndexBackfiller",eU=15e3,ez=6e4,eq=50;class eH{constructor(t,r){this.asyncQueue=t,this.backfiller=r,this.task=null}start(){this.schedule(eU)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(t){I(eB,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,async()=>{this.task=null;try{let t=await this.backfiller.backfill();I(eB,`Documents written: ${t}`)}catch(t){eL(t)?I(eB,"Ignoring IndexedDB error during index backfill: ",t):await eR(t)}await this.schedule(ez)})}}class eW{constructor(t,r){this.localStore=t,this.persistence=r}async backfill(t=eq){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.writeIndexEntries(r,t))}writeIndexEntries(t,r){let n=new Set,i=r,s=!0;return eI.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(r=>{if(!(null===r||n.has(r)))return I(eB,`Processing collection: ${r}`),this.writeEntriesForCollectionGroup(t,r,i).next(t=>{i-=t,n.add(r)});s=!1})).next(()=>r-i)}writeEntriesForCollectionGroup(t,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(i=>this.localStore.localDocuments.getNextDocuments(t,r,i,n).next(n=>{let s=n.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.getNewOffset(i,n)).next(n=>(I(eB,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(t,r,n))).next(()=>s.size)}))}getNewOffset(t,r){let n=t;return r.changes.forEach((t,r)=>{let i=eS(r);eT(i,n)>0&&(n=i)}),new eE(n.readTime,n.documentKey,Math.max(r.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=t=>this.setPreviousValue(t),this.writeNewSequenceNumber=t=>r.writeSequenceNumber(t))}setPreviousValue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t}}eG.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eK="\x01",e$="\x01",eY="\x10",eQ="\x11";function eZ(t){let r="";for(let n=0;n<t.length;n++)r.length>0&&(r=eX(r)),r=eJ(t.get(n),r);return eX(r)}function eJ(t,r){let n=r,i=t.length;for(let r=0;r<i;r++){let i=t.charAt(r);switch(i){case"\0":n+=eK+eY;break;case eK:n+=eK+eQ;break;default:n+=i}}return n}function eX(t){return t+eK+e$}function e0(t){let r=t.length;if(P(r>=2),2===r)return P(t.charAt(0)===eK&&t.charAt(1)===e$),es.emptyPath();let n=r-2,i=[],s="";for(let a=0;a<r;){let r=t.indexOf(eK,a);switch((r<0||r>n)&&k(),t.charAt(r+1)){case e$:let o;let l=t.substring(a,r);0===s.length?o=l:(s+=l,o=s,s=""),i.push(o);break;case eY:s+=t.substring(a,r)+"\0";break;case eQ:s+=t.substring(a,r+1);break;default:k()}a=r+2}return new es(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e1="remoteDocuments",e2="owner",e4="owner",e3="mutationQueues",e5="userId",e6="mutations",e9="batchId",e8="userMutationsIndex",e7=["userId","batchId"];function te(t){return[t]}function tt(t,r){return[t,eZ(r)]}function tr(t,r,n){return[t,eZ(r),n]}let tn={},ti="documentMutations",ts="remoteDocumentsV14",ta=["prefixPath","collectionGroup","readTime","documentId"],to="documentKeyIndex",tl=["prefixPath","collectionGroup","documentId"],tu="collectionGroupIndex",tc=["collectionGroup","readTime","prefixPath","documentId"],td="remoteDocumentGlobal",th="remoteDocumentGlobalKey",tf="targets",tp="targetId",tg="queryTargetsIndex",tm=["canonicalId","targetId"],tv="targetDocuments",ty=["targetId","path"],t_="documentTargetsIndex",tb=["path","targetId"],tS="targetGlobalKey",tE="targetGlobal",tT="collectionParents",tw=["collectionId","parent"],tC="clientMetadata",tR="clientId",tI="bundles",tA="bundleId",tO="namedQueries",tN="name",tk="indexConfiguration",tP="indexId",tx="collectionGroupIndex",tD="collectionGroup",tL="indexState",tM=["indexId","uid"],tF="sequenceNumberIndex",tj=["uid","sequenceNumber"],tV="indexEntries",tB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tU="documentKeyIndex",tz=["indexId","uid","orderedDocumentKey"],tq="documentOverlays",tH=["userId","collectionPath","documentId"],tW="collectionPathOverlayIndex",tG=["userId","collectionPath","largestBatchId"],tK="collectionGroupOverlayIndex",t$=["userId","collectionGroup","largestBatchId"],tY="globals",tQ="name",tZ=[e3,e6,ti,e1,tf,e2,tE,tv,tC,td,tT,tI,tO],tJ=[...tZ,tq],tX=[e3,e6,ti,ts,tf,e2,tE,tv,tC,td,tT,tI,tO,tq],t0=tX,t1=[...t0,tk,tL,tV],t2=t1,t4=[...t1,tY];function t3(t){return 17===t?t4:16===t?t2:15===t?t1:14===t?t0:13===t?tX:12===t?tJ:11===t?tZ:void k()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends eC{constructor(t,r){super(),this.simpleDbTransaction=t,this.currentSequenceNumber=r}}function t6(t,r){let n=D(t);return ek.getStore(n.simpleDbTransaction,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){let r=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&r++;return r}function t8(t,r){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&r(n,t[n])}function t7(t,r){let n=[];for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.push(r(t[i],i,t));return n}function re(t){for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t,r){this.comparator=t,this.root=r||rn.EMPTY}insert(t,r){return new rt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new rt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){let n=this.comparator(t,r.key);if(0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){let i=this.comparator(t,n.key);if(0===i)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){let t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rr(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rr(this.root,t,this.comparator,!1)}getReverseIterator(){return new rr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rr(this.root,t,this.comparator,!0)}}class rr{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=r?n(t.key,r):1,r&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else if(0===s){this.nodeStack.push(t);break}else this.nodeStack.push(t),t=this.isReverse?t.right:t.left}getNext(){let t=this.nodeStack.pop(),r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,r,n,i,s){this.key=t,this.value=r,this.color=null!=n?n:rn.RED,this.left=null!=i?i:rn.EMPTY,this.right=null!=s?s:rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,s){return new rn(null!=t?t:this.key,null!=r?r:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this,s=n(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,r,n),null):0===s?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n))).fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}remove(t,r){let n;let i=this;if(0>r(t,i.key))i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===r(t,i.key)){if(i.right.isEmpty())return rn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}rotateLeft(){let t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();let t=this.left.check();if(t===this.right.check())return t+(this.isRed()?0:1);throw k()}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;class ri{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,r,n,i,s){return this}insert(t,r,n){return new rn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}rn.EMPTY=new ri;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.comparator=t,this.data=new rt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new ra(this.data.getIterator())}getIteratorFrom(t){return new ra(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(t=>{r=r.add(t)}),r}isEqual(t){if(!(t instanceof rs)||this.size!==t.size)return!1;let r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){let t=r.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){let t=[];return this.forEach(r=>{t.push(r)}),t}toString(){let t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){let r=new rs(this.comparator);return r.data=t,r}}class ra{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ro(t,r,n,i,s){let a=t.getIterator(),o=r.getIterator(),l=rl(a),u=rl(o);for(;l||u;){let t=!1,r=!1;if(l&&u){let i=n(l,u);i<0?r=!0:i>0&&(t=!0)}else null!=l?r=!0:t=!0;t?(i(u),u=rl(o)):r?(s(l),l=rl(a)):(l=rl(a),u=rl(o))}}function rl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this.fields=t,t.sort(eo.comparator)}static empty(){return new ru([])}unionWith(t){let r=new rs(eo.comparator);for(let t of this.fields)r=r.add(t);for(let n of t)r=r.add(n);return new ru(r.toArray())}covers(t){for(let r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Z(this.fields,t.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){return Buffer.from(t,"base64").toString("binary")}function rd(t){return Buffer.from(t,"binary").toString("base64")}function rh(){return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t){this.binaryString=t}static fromBase64String(t){return new rf(rc(t))}static fromUint8Array(t){return new rf(rp(t))}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return rd(this.binaryString)}toUint8Array(){return rg(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Q(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}function rp(t){let r="";for(let n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return r}function rg(t){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}rf.EMPTY_BYTE_STRING=new rf("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rv(t){if(P(!!t),"string"==typeof t){let r=0,n=rm.exec(t);if(P(!!n),n[1]){let t=n[1];r=Number(t=(t+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(t).getTime()/1e3),nanos:r}}return{seconds:ry(t.seconds),nanos:ry(t.nanos)}}function ry(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function r_(t){return"string"==typeof t?rf.fromBase64String(t):rf.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rb="server_timestamp",rS="__type__",rE="__previous_value__",rT="__local_write_time__";function rw(t){var r,n;return(null===(n=((null===(r=null==t?void 0:t.mapValue)||void 0===r?void 0:r.fields)||{})[rS])||void 0===n?void 0:n.stringValue)===rb}function rC(t,r){let n={fields:{[rS]:{stringValue:rb},[rT]:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return r&&rw(r)&&(r=rR(r)),r&&(n.fields[rE]=r),{mapValue:n}}function rR(t){let r=t.mapValue.fields[rE];return rw(r)?rR(r):r}function rI(t){let r=rv(t.mapValue.fields[rT].timestampValue);return new et(r.seconds,r.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t,r,n,i,s,a,o,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}let rO="(default)";class rN{constructor(t,r){this.projectId=t,this.database=r||rO}static empty(){return new rN("","")}get isDefaultDatabase(){return this.database===rO}isEqual(t){return t instanceof rN&&t.projectId===this.projectId&&t.database===this.database}}function rk(t,r){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new M(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rN(t.options.projectId,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rP=-1;function rx(t){return null==t}function rD(t){return 0===t&&1/t==-1/0}function rL(t){return"number"==typeof t&&Number.isInteger(t)&&!rD(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rM="__type__",rF="__max__",rj={mapValue:{fields:{__type__:{stringValue:rF}}}},rV="__vector__",rB="value",rU={nullValue:"NULL_VALUE"};function rz(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rw(t)?4:nm(t)?9007199254740991:np(t)?10:11:k()}function rq(t,r){if(t===r)return!0;let n=rz(t);if(n!==rz(r))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===r.booleanValue;case 4:return rI(t).isEqual(rI(r));case 3:return rH(t,r);case 5:return t.stringValue===r.stringValue;case 6:return rG(t,r);case 7:return t.referenceValue===r.referenceValue;case 8:return rW(t,r);case 2:return rK(t,r);case 9:return Z(t.arrayValue.values||[],r.arrayValue.values||[],rq);case 10:case 11:return r$(t,r);default:return k()}}function rH(t,r){if("string"==typeof t.timestampValue&&"string"==typeof r.timestampValue&&t.timestampValue.length===r.timestampValue.length)return t.timestampValue===r.timestampValue;let n=rv(t.timestampValue),i=rv(r.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}function rW(t,r){return ry(t.geoPointValue.latitude)===ry(r.geoPointValue.latitude)&&ry(t.geoPointValue.longitude)===ry(r.geoPointValue.longitude)}function rG(t,r){return r_(t.bytesValue).isEqual(r_(r.bytesValue))}function rK(t,r){if("integerValue"in t&&"integerValue"in r)return ry(t.integerValue)===ry(r.integerValue);if("doubleValue"in t&&"doubleValue"in r){let n=ry(t.doubleValue),i=ry(r.doubleValue);return n===i?rD(n)===rD(i):isNaN(n)&&isNaN(i)}return!1}function r$(t,r){let n=t.mapValue.fields||{},i=r.mapValue.fields||{};if(t9(n)!==t9(i))return!1;for(let t in n)if(n.hasOwnProperty(t)&&(void 0===i[t]||!rq(n[t],i[t])))return!1;return!0}function rY(t,r){return void 0!==(t.values||[]).find(t=>rq(t,r))}function rQ(t,r){if(t===r)return 0;let n=rz(t),i=rz(r);if(n!==i)return Q(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,r.booleanValue);case 2:return rZ(t,r);case 3:return rJ(t.timestampValue,r.timestampValue);case 4:return rJ(rI(t),rI(r));case 5:return Q(t.stringValue,r.stringValue);case 6:return r1(t.bytesValue,r.bytesValue);case 7:return rX(t.referenceValue,r.referenceValue);case 8:return r0(t.geoPointValue,r.geoPointValue);case 9:return r2(t.arrayValue,r.arrayValue);case 10:return r4(t.mapValue,r.mapValue);case 11:return r3(t.mapValue,r.mapValue);default:throw k()}}function rZ(t,r){let n=ry(t.integerValue||t.doubleValue),i=ry(r.integerValue||r.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}function rJ(t,r){if("string"==typeof t&&"string"==typeof r&&t.length===r.length)return Q(t,r);let n=rv(t),i=rv(r),s=Q(n.seconds,i.seconds);return 0!==s?s:Q(n.nanos,i.nanos)}function rX(t,r){let n=t.split("/"),i=r.split("/");for(let t=0;t<n.length&&t<i.length;t++){let r=Q(n[t],i[t]);if(0!==r)return r}return Q(n.length,i.length)}function r0(t,r){let n=Q(ry(t.latitude),ry(r.latitude));return 0!==n?n:Q(ry(t.longitude),ry(r.longitude))}function r1(t,r){let n=r_(t),i=r_(r);return n.compareTo(i)}function r2(t,r){let n=t.values||[],i=r.values||[];for(let t=0;t<n.length&&t<i.length;++t){let r=rQ(n[t],i[t]);if(r)return r}return Q(n.length,i.length)}function r4(t,r){var n,i,s,a;let o=t.fields||{},l=r.fields||{},u=null===(n=o[rB])||void 0===n?void 0:n.arrayValue,c=null===(i=l[rB])||void 0===i?void 0:i.arrayValue,d=Q((null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==d?d:r2(u,c)}function r3(t,r){if(t===rj.mapValue&&r===rj.mapValue)return 0;if(t===rj.mapValue)return 1;if(r===rj.mapValue)return -1;let n=t.fields||{},i=Object.keys(n),s=r.fields||{},a=Object.keys(s);i.sort(),a.sort();for(let t=0;t<i.length&&t<a.length;++t){let r=Q(i[t],a[t]);if(0!==r)return r;let o=rQ(n[i[t]],s[a[t]]);if(0!==o)return o}return Q(i.length,a.length)}function r5(t){return r6(t)}function r6(t){if("nullValue"in t)return"null";if("booleanValue"in t)return""+t.booleanValue;if("integerValue"in t)return""+t.integerValue;if("doubleValue"in t)return""+t.doubleValue;if("timestampValue"in t)return r8(t.timestampValue);if("stringValue"in t)return t.stringValue;if("bytesValue"in t)return r9(t.bytesValue);else if("referenceValue"in t)return ne(t.referenceValue);else if("geoPointValue"in t)return r7(t.geoPointValue);else if("arrayValue"in t)return nr(t.arrayValue);else if("mapValue"in t)return nt(t.mapValue);else return k()}function r9(t){return r_(t).toBase64()}function r8(t){let r=rv(t);return`time(${r.seconds},${r.nanos})`}function r7(t){return`geo(${t.latitude},${t.longitude})`}function ne(t){return el.fromName(t).toString()}function nt(t){let r=Object.keys(t.fields||{}).sort(),n="{",i=!0;for(let s of r)i?i=!1:n+=",",n+=`${s}:${r6(t.fields[s])}`;return n+"}"}function nr(t){let r="[",n=!0;for(let i of t.values||[])n?n=!1:r+=",",r+=r6(i);return r+"]"}function nn(t){switch(rz(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let r=rR(t);return r?16+nn(r):16;case 5:return 2*t.stringValue.length;case 6:return r_(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return ns(t.arrayValue);case 10:case 11:return ni(t.mapValue);default:throw k()}}function ni(t){let r=0;return t8(t.fields,(t,n)=>{r+=t.length+nn(n)}),r}function ns(t){return(t.values||[]).reduce((t,r)=>t+nn(r),0)}function na(t,r){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${r.path.canonicalString()}`}}function no(t){return!!t&&"integerValue"in t}function nl(t){return!!t&&"doubleValue"in t}function nu(t){return no(t)||nl(t)}function nc(t){return!!t&&"arrayValue"in t}function nd(t){return!!t&&"nullValue"in t}function nh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function np(t){var r,n;return(null===(n=((null===(r=null==t?void 0:t.mapValue)||void 0===r?void 0:r.fields)||{})[rM])||void 0===n?void 0:n.stringValue)===rV}function ng(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let r={mapValue:{fields:{}}};return t8(t.mapValue.fields,(t,n)=>r.mapValue.fields[t]=ng(n)),r}{if(!t.arrayValue)return Object.assign({},t);let r={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)r.arrayValue.values[n]=ng(t.arrayValue.values[n]);return r}}function nm(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rF}let nv={mapValue:{fields:{[rM]:{stringValue:rV},[rB]:{arrayValue:{}}}}};function ny(t){if("nullValue"in t)return rU;if("booleanValue"in t)return{booleanValue:!1};if("integerValue"in t||"doubleValue"in t)return{doubleValue:NaN};if("timestampValue"in t)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in t)return{stringValue:""};if("bytesValue"in t)return{bytesValue:""};if("referenceValue"in t)return na(rN.empty(),el.empty());else if("geoPointValue"in t)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in t)return{arrayValue:{}};else if(!("mapValue"in t))return k();else return np(t)?nv:{mapValue:{}}}function n_(t){if("nullValue"in t)return{booleanValue:!1};if("booleanValue"in t)return{doubleValue:NaN};if("integerValue"in t||"doubleValue"in t)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in t)return{stringValue:""};if("stringValue"in t)return{bytesValue:""};if("bytesValue"in t)return na(rN.empty(),el.empty());if("referenceValue"in t)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in t)return{arrayValue:{}};else if("arrayValue"in t)return nv;else if(!("mapValue"in t))return k();else return np(t)?{mapValue:{}}:rj}function nb(t,r){let n=rQ(t.value,r.value);return 0!==n?n:t.inclusive&&!r.inclusive?-1:!t.inclusive&&r.inclusive?1:0}function nS(t,r){let n=rQ(t.value,r.value);return 0!==n?n:t.inclusive&&!r.inclusive?1:!t.inclusive&&r.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t){this.value=t}static empty(){return new nE({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(!nf(r=(r.mapValue.fields||{})[t.get(n)]))return null;return(r=(r.mapValue.fields||{})[t.lastSegment()])||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=ng(r)}setAll(t){let r=eo.emptyPath(),n={},i=[];t.forEach((t,s)=>{if(!r.isImmediateParentOf(s)){let t=this.getFieldsMap(r);this.applyChanges(t,n,i),n={},i=[],r=s.popLast()}t?n[s.lastSegment()]=ng(t):i.push(s.lastSegment())});let s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(t){let r=this.field(t.popLast());nf(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return rq(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){for(let i of(t8(r,(r,n)=>t[r]=n),n))delete t[i]}clone(){return new nE(ng(this.value))}}function nT(t){let r=[];return t8(t.fields,(t,n)=>{let i=new eo([t]);if(nf(n)){let t=nT(n.mapValue).fields;if(0===t.length)r.push(i);else for(let n of t)r.push(i.child(n))}else r.push(i)}),new ru(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,r,n,i,s,a,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new nw(t,0,er.min(),er.min(),er.min(),nE.empty(),0)}static newFoundDocument(t,r,n,i){return new nw(t,1,r,er.min(),n,i,0)}static newNoDocument(t,r){return new nw(t,2,r,er.min(),er.min(),nE.empty(),0)}static newUnknownDocument(t,r){return new nw(t,3,r,er.min(),er.min(),nE.empty(),2)}convertToFoundDocument(t,r){return this.createTime.isEqual(er.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nE.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nE.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=er.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof nw&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function nC(t,r,n){let i=r.data.field(t),s=n.data.field(t);return null!==i&&null!==s?rQ(i,s):k()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,r){this.position=t,this.inclusive=r}}function nI(t,r,n){let i=0;for(let s=0;s<t.position.length;s++){let a=r[s],o=t.position[s];if(i=a.field.isKeyField()?el.comparator(el.fromName(o.referenceValue),n.key):rQ(o,n.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function nA(t,r,n){let i=nI(t,r,n);return t.inclusive?i>=0:i>0}function nO(t,r,n){let i=nI(t,r,n);return t.inclusive?i<=0:i<0}function nN(t,r){if(null===t)return null===r;if(null===r||t.inclusive!==r.inclusive||t.position.length!==r.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rq(t.position[n],r.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t,r="asc"){this.field=t,this.dir=r}}function nP(t){return t.field.canonicalString()+t.dir}function nx(t){return`${t.field.canonicalString()} (${t.dir})`}function nD(t,r){return t.dir===r.dir&&t.field.isEqual(r.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{}class nM extends nL{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,n):new nQ(t,r,n):"array-contains"===r?new n0(t,n):"in"===r?new n1(t,n):"not-in"===r?new n2(t,n):"array-contains-any"===r?new n4(t,n):new nM(t,r,n)}static createKeyFieldInFilter(t,r,n){return"in"===r?new nZ(t,n):new nJ(t,n)}matches(t){let r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(rQ(r,this.value)):null!==r&&rz(this.value)===rz(r)&&this.matchesComparison(rQ(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nF extends nL{constructor(t,r){super(),this.filters=t,this.op=r,this.memoizedFlattenedFilters=null}static create(t,r){return new nF(t,r)}matches(t){return nj(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function nj(t){return"and"===t.op}function nV(t){return"or"===t.op}function nB(t){return nU(t)&&nj(t)}function nU(t){for(let r of t.filters)if(r instanceof nF)return!1;return!0}function nz(t){if(t instanceof nM)return t.field.canonicalString()+t.op.toString()+r5(t.value);if(nB(t))return t.filters.map(t=>nz(t)).join(",");{let r=t.filters.map(t=>nz(t)).join(",");return`${t.op}(${r})`}}function nq(t,r){return t instanceof nM?nH(t,r):t instanceof nF?nW(t,r):void k()}function nH(t,r){return r instanceof nM&&t.op===r.op&&t.field.isEqual(r.field)&&rq(t.value,r.value)}function nW(t,r){return r instanceof nF&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((t,n,i)=>t&&nq(n,r.filters[i]),!0)}function nG(t,r){let n=t.filters.concat(r);return nF.create(n,t.op)}function nK(t){return t instanceof nM?nY(t):t instanceof nF?n$(t):"Filter"}function n$(t){return t.op.toString()+" {"+t.getFilters().map(nK).join(" ,")+"}"}function nY(t){return`${t.field.canonicalString()} ${t.op} ${r5(t.value)}`}class nQ extends nM{constructor(t,r,n){super(t,r,n),this.key=el.fromName(n.referenceValue)}matches(t){let r=el.comparator(t.key,this.key);return this.matchesComparison(r)}}class nZ extends nM{constructor(t,r){super(t,"in",r),this.keys=nX("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class nJ extends nM{constructor(t,r){super(t,"not-in",r),this.keys=nX("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function nX(t,r){var n;return((null===(n=r.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>el.fromName(t.referenceValue))}class n0 extends nM{constructor(t,r){super(t,"array-contains",r)}matches(t){let r=t.data.field(this.field);return nc(r)&&rY(r.arrayValue,this.value)}}class n1 extends nM{constructor(t,r){super(t,"in",r)}matches(t){let r=t.data.field(this.field);return null!==r&&rY(this.value.arrayValue,r)}}class n2 extends nM{constructor(t,r){super(t,"not-in",r)}matches(t){if(rY(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let r=t.data.field(this.field);return null!==r&&!rY(this.value.arrayValue,r)}}class n4 extends nM{constructor(t,r){super(t,"array-contains-any",r)}matches(t){let r=t.data.field(this.field);return!!nc(r)&&!!r.arrayValue.values&&r.arrayValue.values.some(t=>rY(this.value.arrayValue,t))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,r=null,n=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.memoizedCanonicalId=null}}function n5(t,r=null,n=[],i=[],s=null,a=null,o=null){return new n3(t,r,n,i,s,a,o)}function n6(t){let r=D(t);if(null===r.memoizedCanonicalId){let t=r.path.canonicalString();null!==r.collectionGroup&&(t+="|cg:"+r.collectionGroup),t+="|f:"+r.filters.map(t=>nz(t)).join(",")+"|ob:"+r.orderBy.map(t=>nP(t)).join(","),rx(r.limit)||(t+="|l:"+r.limit),r.startAt&&(t+="|lb:"+(r.startAt.inclusive?"b:":"a:")+r.startAt.position.map(t=>r5(t)).join(",")),r.endAt&&(t+="|ub:"+(r.endAt.inclusive?"a:":"b:")+r.endAt.position.map(t=>r5(t)).join(",")),r.memoizedCanonicalId=t}return r.memoizedCanonicalId}function n9(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(t=>nK(t)).join(", ")}]`),rx(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(t=>nx(t)).join(", ")}]`),t.startAt&&(r+=", startAt: "+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(t=>r5(t)).join(",")),t.endAt&&(r+=", endAt: "+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(t=>r5(t)).join(",")),`Target(${r})`}function n8(t,r){if(t.limit!==r.limit||t.orderBy.length!==r.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nD(t.orderBy[n],r.orderBy[n]))return!1;if(t.filters.length!==r.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nq(t.filters[n],r.filters[n]))return!1;return!!(t.collectionGroup===r.collectionGroup&&t.path.isEqual(r.path)&&nN(t.startAt,r.startAt))&&nN(t.endAt,r.endAt)}function n7(t){return el.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function ie(t,r){return t.filters.filter(t=>t instanceof nM&&t.field.isEqual(r))}function it(t,r){let n=eh(r);if(void 0===n)return null;for(let r of ie(t,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}function ir(t,r){let n=new Map;for(let i of ef(r))for(let r of ie(t,i.fieldPath))switch(r.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),r.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),r.value),Array.from(n.values())}return null}function ii(t,r){let n=[],i=!0;for(let s of ef(r)){let r=0===s.kind?ia(t,s.fieldPath,t.startAt):io(t,s.fieldPath,t.startAt);n.push(r.value),i&&(i=r.inclusive)}return new nR(n,i)}function is(t,r){let n=[],i=!0;for(let s of ef(r)){let r=0===s.kind?io(t,s.fieldPath,t.endAt):ia(t,s.fieldPath,t.endAt);n.push(r.value),i&&(i=r.inclusive)}return new nR(n,i)}function ia(t,r,n){let i=rU,s=!0;for(let n of ie(t,r)){let t=rU,r=!0;switch(n.op){case"<":case"<=":t=ny(n.value);break;case"==":case"in":case">=":t=n.value;break;case">":t=n.value,r=!1;break;case"!=":case"not-in":t=rU}0>nb({value:i,inclusive:s},{value:t,inclusive:r})&&(i=t,s=r)}if(null!==n){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(r)){let t=n.position[a];0>nb({value:i,inclusive:s},{value:t,inclusive:n.inclusive})&&(i=t,s=n.inclusive);break}}return{value:i,inclusive:s}}function io(t,r,n){let i=rj,s=!0;for(let n of ie(t,r)){let t=rj,r=!0;switch(n.op){case">=":case">":t=n_(n.value),r=!1;break;case"==":case"in":case"<=":t=n.value;break;case"<":t=n.value,r=!1;break;case"!=":case"not-in":t=rj}nS({value:i,inclusive:s},{value:t,inclusive:r})>0&&(i=t,s=r)}if(null!==n){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(r)){let t=n.position[a];nS({value:i,inclusive:s},{value:t,inclusive:n.inclusive})>0&&(i=t,s=n.inclusive);break}}return{value:i,inclusive:s}}function il(t){let r=new rs(eo.comparator),n=!1;for(let i of t.filters)for(let t of i.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?n=!0:r=r.add(t.field));for(let n of t.orderBy)n.field.isKeyField()||(r=r.add(n.field));return r.size+(n?1:0)}function iu(t){return null!==t.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function id(t,r,n,i,s,a,o,l){return new ic(t,r,n,i,s,a,o,l)}function ih(t){return new ic(t)}function ip(t,r){return new ic(r,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ig(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function im(t){let r=new rs(eo.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(r=r.add(t.field))})}),r}function iv(t){return new ic(es.emptyPath(),t)}function iy(t){return el.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function i_(t){return null!==t.collectionGroup}function ib(t){let r=D(t);if(null===r.memoizedNormalizedOrderBy){r.memoizedNormalizedOrderBy=[];let t=new Set;for(let n of r.explicitOrderBy)r.memoizedNormalizedOrderBy.push(n),t.add(n.field.canonicalString());let n=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";im(r).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||r.memoizedNormalizedOrderBy.push(new nk(i,n))}),t.has(eo.keyField().canonicalString())||r.memoizedNormalizedOrderBy.push(new nk(eo.keyField(),n))}return r.memoizedNormalizedOrderBy}function iS(t){let r=D(t);return r.memoizedTarget||(r.memoizedTarget=iT(r,ib(t))),r.memoizedTarget}function iE(t){let r=D(t);return r.memoizedAggregateTarget||(r.memoizedAggregateTarget=iT(r,t.explicitOrderBy)),r.memoizedAggregateTarget}function iT(t,r){if("F"===t.limitType)return n5(t.path,t.collectionGroup,r,t.filters,t.limit,t.startAt,t.endAt);{r=r.map(t=>{let r="desc"===t.dir?"asc":"desc";return new nk(t.field,r)});let n=t.endAt?new nR(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new nR(t.startAt.position,t.startAt.inclusive):null;return n5(t.path,t.collectionGroup,r,t.filters,t.limit,n,i)}}function iw(t,r){let n=t.filters.concat([r]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iC(t,r){let n=t.explicitOrderBy.concat([r]);return new ic(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function iR(t,r,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),r,n,t.startAt,t.endAt)}function iI(t,r){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,r,t.endAt)}function iA(t,r){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,r)}function iO(t,r){return n8(iS(t),iS(r))&&t.limitType===r.limitType}function iN(t){return`${n6(iS(t))}|lt:${t.limitType}`}function ik(t){return`Query(target=${n9(iS(t))}; limitType=${t.limitType})`}function iP(t,r){return r.isFoundDocument()&&ix(t,r)&&iD(t,r)&&iL(t,r)&&iM(t,r)}function ix(t,r){let n=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):el.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}function iD(t,r){for(let n of ib(t))if(!n.field.isKeyField()&&null===r.data.field(n.field))return!1;return!0}function iL(t,r){for(let n of t.filters)if(!n.matches(r))return!1;return!0}function iM(t,r){return(!t.startAt||!!nO(t.startAt,ib(t),r))&&(!t.endAt||!!nA(t.endAt,ib(t),r))}function iF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ij(t){return(r,n)=>{let i=!1;for(let s of ib(t)){let t=iV(s,r,n);if(0!==t)return t;i=i||s.field.isKeyField()}return 0}}function iV(t,r,n){let i=t.field.isKeyField()?el.comparator(r.key,n.key):nC(t.field,r,n);switch(t.dir){case"asc":return i;case"desc":return -1*i;default:return k()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){let r=this.mapKeyFn(t),n=this.inner[r];if(void 0!==n){for(let[r,i]of n)if(this.equalsFn(r,t))return i}}has(t){return void 0!==this.get(t)}set(t,r){let n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i){this.inner[n]=[[t,r]],this.innerSize++;return}for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t)){i[n]=[t,r];return}i.push([t,r]),this.innerSize++}delete(t){let r=this.mapKeyFn(t),n=this.inner[r];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){t8(this.inner,(r,n)=>{for(let[r,i]of n)t(r,i)})}isEmpty(){return re(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iU=new rt(el.comparator);function iz(){return iU}let iq=new rt(el.comparator);function iH(...t){let r=iq;for(let n of t)r=r.insert(n.key,n);return r}function iW(){return iY()}function iG(t){let r=iq;return t.forEach((t,n)=>r=r.insert(t,n.overlayedDocument)),r}function iK(){return iY()}function i$(){return iY()}function iY(){return new iB(t=>t.toString(),(t,r)=>t.isEqual(r))}let iQ=new rt(el.comparator);function iZ(){return iQ}let iJ=new rs(el.comparator);function iX(...t){let r=iJ;for(let n of t)r=r.add(n);return r}let i0=new rs(Q);function i1(){return i0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,r){if(t.useProto3Json){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rD(r)?"-0":r}}function i4(t){return{integerValue:""+t}}function i3(t,r){return rL(r)?i4(r):i2(t,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this._=void 0}}function i6(t,r,n){return t instanceof se?rC(n,r):t instanceof st?sr(t,r):t instanceof sn?si(t,r):sa(t,r)}function i9(t,r,n){return t instanceof st?sr(t,r):t instanceof sn?si(t,r):n}function i8(t,r){return t instanceof ss?nu(r)?r:{integerValue:0}:null}function i7(t,r){return t instanceof st&&r instanceof st||t instanceof sn&&r instanceof sn?Z(t.elements,r.elements,rq):t instanceof ss&&r instanceof ss?rq(t.operand,r.operand):t instanceof se&&r instanceof se}class se extends i5{}class st extends i5{constructor(t){super(),this.elements=t}}function sr(t,r){let n=sl(r);for(let r of t.elements)n.some(t=>rq(t,r))||n.push(r);return{arrayValue:{values:n}}}class sn extends i5{constructor(t){super(),this.elements=t}}function si(t,r){let n=sl(r);for(let r of t.elements)n=n.filter(t=>!rq(t,r));return{arrayValue:{values:n}}}class ss extends i5{constructor(t,r){super(),this.serializer=t,this.operand=r}}function sa(t,r){let n=i8(t,r),i=so(n)+so(t.operand);return no(n)&&no(t.operand)?i4(i):i2(t.serializer,i)}function so(t){return ry(t.integerValue||t.doubleValue)}function sl(t){return nc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,r){this.field=t,this.transform=r}}function sc(t,r){return t.field.isEqual(r.field)&&i7(t.transform,r.transform)}function sd(t,r){return void 0===t&&void 0===r||!!t&&!!r&&Z(t,r,(t,r)=>sc(t,r))}class sh{constructor(t,r){this.version=t,this.transformResults=r}}class sf{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new sf}static exists(t){return new sf(void 0,t)}static updateTime(t){return new sf(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sp(t,r){return void 0!==t.updateTime?r.isFoundDocument()&&r.version.isEqual(t.updateTime):void 0===t.exists||t.exists===r.isFoundDocument()}class sg{}function sm(t,r){if(!t.hasLocalMutations||r&&0===r.fields.length)return null;if(null===r)return t.isNoDocument()?new sN(t.key,sf.none()):new sS(t.key,t.data,sf.none());{let n=t.data,i=nE.empty(),s=new rs(eo.comparator);for(let t of r.fields)if(!s.has(t)){let r=n.field(t);null===r&&t.length>1&&(t=t.popLast(),r=n.field(t)),null===r?i.delete(t):i.set(t,r),s=s.add(t)}return new sw(t.key,i,new ru(s.toArray()),sf.none())}}function sv(t,r,n){t instanceof sS?sE(t,r,n):t instanceof sw?sC(t,r,n):sk(t,r,n)}function sy(t,r,n,i){return t instanceof sS?sT(t,r,n,i):t instanceof sw?sR(t,r,n,i):sP(t,r,n)}function s_(t,r){let n=null;for(let i of t.fieldTransforms){let t=r.data.field(i.field),s=i8(i.transform,t||null);null!=s&&(null===n&&(n=nE.empty()),n.set(i.field,s))}return n||null}function sb(t,r){return!!(t.type===r.type&&t.key.isEqual(r.key)&&t.precondition.isEqual(r.precondition)&&sd(t.fieldTransforms,r.fieldTransforms))&&(0===t.type?t.value.isEqual(r.value):1!==t.type||t.data.isEqual(r.data)&&t.fieldMask.isEqual(r.fieldMask))}class sS extends sg{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}function sE(t,r,n){let i=t.value.clone(),s=sA(t.fieldTransforms,r,n.transformResults);i.setAll(s),r.convertToFoundDocument(n.version,i).setHasCommittedMutations()}function sT(t,r,n,i){if(!sp(t.precondition,r))return n;let s=t.value.clone(),a=sO(t.fieldTransforms,i,r);return s.setAll(a),r.convertToFoundDocument(r.version,s).setHasLocalMutations(),null}class sw extends sg{constructor(t,r,n,i,s=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sC(t,r,n){if(!sp(t.precondition,r)){r.convertToUnknownDocument(n.version);return}let i=sA(t.fieldTransforms,r,n.transformResults),s=r.data;s.setAll(sI(t)),s.setAll(i),r.convertToFoundDocument(n.version,s).setHasCommittedMutations()}function sR(t,r,n,i){if(!sp(t.precondition,r))return n;let s=sO(t.fieldTransforms,i,r),a=r.data;return(a.setAll(sI(t)),a.setAll(s),r.convertToFoundDocument(r.version,a).setHasLocalMutations(),null===n)?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}function sI(t){let r=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);r.set(n,i)}}),r}function sA(t,r,n){let i=new Map;P(t.length===n.length);for(let s=0;s<n.length;s++){let a=t[s],o=a.transform,l=r.data.field(a.field);i.set(a.field,i9(o,l,n[s]))}return i}function sO(t,r,n){let i=new Map;for(let s of t){let t=s.transform,a=n.data.field(s.field);i.set(s.field,i6(t,a,r))}return i}class sN extends sg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function sk(t,r,n){r.convertToNoDocument(n.version).setHasCommittedMutations()}function sP(t,r,n){return sp(t.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):n}class sx extends sg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){let n=r.mutationResults;for(let r=0;r<this.mutations.length;r++){let i=this.mutations[r];i.key.isEqual(t.key)&&sv(i,t,n[r])}}applyToLocalView(t,r){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(r=sy(n,t,r,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(r=sy(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){let n=i$();return this.mutations.forEach(i=>{let s=t.get(i.key),a=s.overlayedDocument,o=this.applyToLocalView(a,s.mutatedFields),l=sm(a,o=r.has(i.key)?null:o);null!==l&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(er.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),iX())}isEqual(t){return this.batchId===t.batchId&&Z(this.mutations,t.mutations,(t,r)=>sb(t,r))&&Z(this.baseMutations,t.baseMutations,(t,r)=>sb(t,r))}}class sL{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){P(t.mutations.length===n.length);let i=iZ(),s=t.mutations;for(let t=0;t<s.length;t++)i=i.insert(s[t].key,n[t].version);return new sL(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(t,r){this.count=t,this.unchangedNames=r}}function sj(t){switch(t){case L.OK:return k();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return k()}}function sV(t){return sj(t)&&t!==L.ABORTED}function sB(t){if(void 0===t)return A("GRPC error has no .code"),L.UNKNOWN;switch(t){case i.OK:return L.OK;case i.CANCELLED:return L.CANCELLED;case i.UNKNOWN:return L.UNKNOWN;case i.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case i.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case i.INTERNAL:return L.INTERNAL;case i.UNAVAILABLE:return L.UNAVAILABLE;case i.UNAUTHENTICATED:return L.UNAUTHENTICATED;case i.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case i.NOT_FOUND:return L.NOT_FOUND;case i.ALREADY_EXISTS:return L.ALREADY_EXISTS;case i.PERMISSION_DENIED:return L.PERMISSION_DENIED;case i.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case i.ABORTED:return L.ABORTED;case i.OUT_OF_RANGE:return L.OUT_OF_RANGE;case i.UNIMPLEMENTED:return L.UNIMPLEMENTED;case i.DATA_LOSS:return L.DATA_LOSS;default:return k()}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(i||(i={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sz=null;function sq(t){if(sz)throw Error("a TestingHooksSpi instance is already set");sz=t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(){return new u.TextEncoder}function sW(){return new u.TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sG=new h.Integer([4294967295,4294967295],0);function sK(t){let r=sH().encode(t),n=new h.Md5;return n.update(r),new Uint8Array(n.digest())}function s$(t){let r=new DataView(t.buffer),n=r.getUint32(0,!0),i=r.getUint32(4,!0),s=r.getUint32(8,!0),a=r.getUint32(12,!0);return[new h.Integer([n,i],0),new h.Integer([s,a],0)]}class sY{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new sQ(`Invalid padding: ${r}`);if(n<0||t.length>0&&0===this.hashCount)throw new sQ(`Invalid hash count: ${n}`);if(0===t.length&&0!==r)throw new sQ(`Invalid padding when bitmap length is 0: ${r}`);this.bitCount=8*t.length-r,this.bitCountInInteger=h.Integer.fromNumber(this.bitCount)}getBitIndex(t,r,n){let i=t.add(r.multiply(h.Integer.fromNumber(n)));return 1===i.compare(sG)&&(i=new h.Integer([i.getBits(0),i.getBits(1)],0)),i.modulo(this.bitCountInInteger).toNumber()}isBitSet(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(0===this.bitCount)return!1;let[r,n]=s$(sK(t));for(let t=0;t<this.hashCount;t++){let i=this.getBitIndex(r,n,t);if(!this.isBitSet(i))return!1}return!0}static create(t,r,n){let i=t%8==0?0:8-t%8,s=new sY(new Uint8Array(Math.ceil(t/8)),i,r);return n.forEach(t=>s.insert(t)),s}insert(t){if(0===this.bitCount)return;let[r,n]=s$(sK(t));for(let t=0;t<this.hashCount;t++){let i=this.getBitIndex(r,n,t);this.setBit(i)}}setBit(t){let r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class sQ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(t,r,n,i,s){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,r,n){let i=new Map;return i.set(t,sJ.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new sZ(er.min(),i,new rt(Q),iz(),iX())}}class sJ{constructor(t,r,n,i,s){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new sJ(n,r,iX(),iX(),iX())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(t,r,n,i){this.updatedTargetIds=t,this.removedTargetIds=r,this.key=n,this.newDoc=i}}class s0{constructor(t,r){this.targetId=t,this.existenceFilter=r}}class s1{constructor(t,r,n=rf.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class s2{constructor(){this.pendingResponses=0,this.documentChanges=s6(),this._resumeToken=rf.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(t){t.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=t)}toTargetChange(){let t=iX(),r=iX(),n=iX();return this.documentChanges.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:k()}}),new sJ(this._resumeToken,this._current,t,r,n)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=s6()}addDocumentChange(t,r){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,r)}removeDocumentChange(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,P(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let s4="WatchChangeAggregator";class s3{constructor(t){this.metadataProvider=t,this.targetStates=new Map,this.pendingDocumentUpdates=iz(),this.pendingDocumentTargetMapping=s5(),this.pendingTargetResets=new rt(Q)}handleDocumentChange(t){for(let r of t.updatedTargetIds)t.newDoc&&t.newDoc.isFoundDocument()?this.addDocumentToTarget(r,t.newDoc):this.removeDocumentFromTarget(r,t.key,t.newDoc);for(let r of t.removedTargetIds)this.removeDocumentFromTarget(r,t.key,t.newDoc)}handleTargetChange(t){this.forEachTarget(t,r=>{let n=this.ensureTargetState(r);switch(t.state){case 0:this.isActiveTarget(r)&&n.updateResumeToken(t.resumeToken);break;case 1:n.recordTargetResponse(),n.isPending||n.clearPendingChanges(),n.updateResumeToken(t.resumeToken);break;case 2:n.recordTargetResponse(),n.isPending||this.removeTarget(r);break;case 3:this.isActiveTarget(r)&&(n.markCurrent(),n.updateResumeToken(t.resumeToken));break;case 4:this.isActiveTarget(r)&&(this.resetTarget(r),n.updateResumeToken(t.resumeToken));break;default:k()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.targetStates.forEach((t,n)=>{this.isActiveTarget(n)&&r(n)})}handleExistenceFilter(t){let r=t.targetId,n=t.existenceFilter.count,i=this.targetDataForActiveTarget(r);if(i){let s=i.target;if(n7(s)){if(0===n){let t=new el(s.path);this.removeDocumentFromTarget(r,t,nw.newNoDocument(t,er.min()))}else P(1===n)}else{let i=this.getCurrentDocumentCountForTarget(r);if(i!==n){let n=this.parseBloomFilter(t),s=n?this.applyBloomFilter(n,t,i):1;if(0!==s){this.resetTarget(r);let t=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(r,t)}null==sz||sz.notifyOnExistenceFilterMismatch(s9(i,t.existenceFilter,this.metadataProvider.getDatabaseId(),n,s))}}}}parseBloomFilter(t){let r,n;let i=t.existenceFilter.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=i;try{r=r_(s).toUint8Array()}catch(t){if(t instanceof sU)return O("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{n=new sY(r,a,o)}catch(t){return t instanceof sQ?O("BloomFilter error: ",t):O("Applying bloom filter failed: ",t),null}return 0===n.bitCount?null:n}applyBloomFilter(t,r,n){return r.existenceFilter.count===n-this.filterRemovedDocuments(t,r.targetId)?0:2}filterRemovedDocuments(t,r){let n=this.metadataProvider.getRemoteKeysForTarget(r),i=0;return n.forEach(n=>{let s=this.metadataProvider.getDatabaseId(),a=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;!t.mightContain(a)&&(this.removeDocumentFromTarget(r,n,null),i++)}),i}createRemoteEvent(t){let r=new Map;this.targetStates.forEach((n,i)=>{let s=this.targetDataForActiveTarget(i);if(s){if(n.current&&n7(s.target)){let r=new el(s.target.path);null!==this.pendingDocumentUpdates.get(r)||this.targetContainsDocument(i,r)||this.removeDocumentFromTarget(i,r,nw.newNoDocument(r,t))}n.hasPendingChanges&&(r.set(i,n.toTargetChange()),n.clearPendingChanges())}});let n=iX();this.pendingDocumentTargetMapping.forEach((t,r)=>{let i=!0;r.forEachWhile(t=>{let r=this.targetDataForActiveTarget(t);return!r||"TargetPurposeLimboResolution"===r.purpose||(i=!1,!1)}),i&&(n=n.add(t))}),this.pendingDocumentUpdates.forEach((r,n)=>n.setReadTime(t));let i=new sZ(t,r,this.pendingTargetResets,this.pendingDocumentUpdates,n);return this.pendingDocumentUpdates=iz(),this.pendingDocumentTargetMapping=s5(),this.pendingTargetResets=new rt(Q),i}addDocumentToTarget(t,r){if(!this.isActiveTarget(t))return;let n=this.targetContainsDocument(t,r.key)?2:0;this.ensureTargetState(t).addDocumentChange(r.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(r.key,r),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(r.key,this.ensureDocumentTargetMapping(r.key).add(t))}removeDocumentFromTarget(t,r,n){if(!this.isActiveTarget(t))return;let i=this.ensureTargetState(t);this.targetContainsDocument(t,r)?i.addDocumentChange(r,1):i.removeDocumentChange(r),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(r,this.ensureDocumentTargetMapping(r).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(r,n))}removeTarget(t){this.targetStates.delete(t)}getCurrentDocumentCountForTarget(t){let r=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}recordPendingTargetRequest(t){this.ensureTargetState(t).recordPendingTargetRequest()}ensureTargetState(t){let r=this.targetStates.get(t);return r||(r=new s2,this.targetStates.set(t,r)),r}ensureDocumentTargetMapping(t){let r=this.pendingDocumentTargetMapping.get(t);return r||(r=new rs(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,r)),r}isActiveTarget(t){let r=null!==this.targetDataForActiveTarget(t);return r||I(s4,"Detected inactive target",t),r}targetDataForActiveTarget(t){let r=this.targetStates.get(t);return r&&r.isPending?null:this.metadataProvider.getTargetDataForTarget(t)}resetTarget(t){this.targetStates.set(t,new s2),this.metadataProvider.getRemoteKeysForTarget(t).forEach(r=>{this.removeDocumentFromTarget(t,r,null)})}targetContainsDocument(t,r){return this.metadataProvider.getRemoteKeysForTarget(t).has(r)}}function s5(){return new rt(el.comparator)}function s6(){return new rt(el.comparator)}function s9(t,r,n,i,s){var a,o,l,u,c,d;let h={localCacheCount:t,existenceFilterCount:r.count,databaseId:n.database,projectId:n.projectId},f=r.unchangedNames;return f&&(h.bloomFilter={applied:0===s,hashCount:null!==(a=null==f?void 0:f.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(l=null===(o=null==f?void 0:f.bits)||void 0===o?void 0:o.bitmap)||void 0===l?void 0:l.length)&&void 0!==u?u:0,padding:null!==(d=null===(c=null==f?void 0:f.bits)||void 0===c?void 0:c.padding)&&void 0!==d?d:0,mightContain:t=>{var r;return null!==(r=null==i?void 0:i.mightContain(t))&&void 0!==r&&r}}),h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s8=(()=>{let t={};return t.asc="ASCENDING",t.desc="DESCENDING",t})(),s7=(()=>{let t={};return t["<"]="LESS_THAN",t["<="]="LESS_THAN_OR_EQUAL",t[">"]="GREATER_THAN",t[">="]="GREATER_THAN_OR_EQUAL",t["=="]="EQUAL",t["!="]="NOT_EQUAL",t["array-contains"]="ARRAY_CONTAINS",t.in="IN",t["not-in"]="NOT_IN",t["array-contains-any"]="ARRAY_CONTAINS_ANY",t})(),ae=(()=>{let t={};return t.and="AND",t.or="OR",t})();class at{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ar(t){return new M(void 0===t.code?L.UNKNOWN:sB(t.code),t.message||"")}function an(t,r){return t.useProto3Json||rx(r)?r:{value:r}}function ai(t){let r;return rx(r="object"==typeof t?t.value:t)?null:r}function as(t,r){if(!t.useProto3Json)return{seconds:""+r.seconds,nanos:r.nanoseconds};{let t=new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),n=("000000000"+r.nanoseconds).slice(-9);return`${t}.${n}Z`}}function aa(t){let r=rv(t);return new et(r.seconds,r.nanos)}function ao(t,r){return t.useProto3Json?r.toBase64():r.toUint8Array()}function al(t,r){return t.useProto3Json?(P(void 0===r||"string"==typeof r),rf.fromBase64String(r||"")):(P(void 0===r||r instanceof Buffer||r instanceof Uint8Array),rf.fromUint8Array(r||new Uint8Array))}function au(t,r){return as(t,r.toTimestamp())}function ac(t){return P(!!t),er.fromTimestamp(aa(t))}function ad(t,r){return ah(t,r).canonicalString()}function ah(t,r){let n=a_(t).child("documents");return void 0===r?n:n.child(r)}function af(t){let r=es.fromString(t);return P(oc(r)),r}function ap(t,r){return ad(t.databaseId,r.path)}function ag(t,r){let n=af(r);if(n.get(1)!==t.databaseId.projectId)throw new M(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new el(ab(n))}function am(t,r){return ad(t.databaseId,r)}function av(t){let r=af(t);return 4===r.length?es.emptyPath():ab(r)}function ay(t){return new es(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a_(t){return new es(["projects",t.projectId,"databases",t.database])}function ab(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function aS(t,r,n){return{name:ap(t,r),fields:n.value.mapValue.fields}}function aE(t,r){return{name:ap(t,r.key),fields:r.data.value.mapValue.fields,updateTime:as(t,r.version.toTimestamp()),createTime:as(t,r.createTime.toTimestamp())}}function aT(t,r,n){let i=ag(t,r.name),s=ac(r.updateTime),a=r.createTime?ac(r.createTime):er.min(),o=new nE({mapValue:{fields:r.fields}}),l=nw.newFoundDocument(i,s,a,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function aw(t,r){P(!!r.found),r.found.name,r.found.updateTime;let n=ag(t,r.found.name),i=ac(r.found.updateTime),s=r.found.createTime?ac(r.found.createTime):er.min(),a=new nE({mapValue:{fields:r.found.fields}});return nw.newFoundDocument(n,i,s,a)}function aC(t,r){P(!!r.missing),P(!!r.readTime);let n=ag(t,r.missing),i=ac(r.readTime);return nw.newNoDocument(n,i)}function aR(t,r){return"found"in r?aw(t,r):"missing"in r?aC(t,r):k()}function aI(t,r){let n;if("targetChange"in r){r.targetChange;let i=aA(r.targetChange.targetChangeType||"NO_CHANGE"),s=r.targetChange.targetIds||[],a=al(t,r.targetChange.resumeToken),o=r.targetChange.cause;n=new s1(i,s,a,o&&ar(o)||null)}else if("documentChange"in r){r.documentChange;let i=r.documentChange;i.document,i.document.name,i.document.updateTime;let s=ag(t,i.document.name),a=ac(i.document.updateTime),o=i.document.createTime?ac(i.document.createTime):er.min(),l=new nE({mapValue:{fields:i.document.fields}}),u=nw.newFoundDocument(s,a,o,l);n=new sX(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in r){r.documentDelete;let i=r.documentDelete;i.document;let s=ag(t,i.document),a=i.readTime?ac(i.readTime):er.min(),o=nw.newNoDocument(s,a);n=new sX([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in r){r.documentRemove;let i=r.documentRemove;i.document;let s=ag(t,i.document);n=new sX([],i.removedTargetIds||[],s,null)}else{if(!("filter"in r))return k();r.filter;let t=r.filter;t.targetId;let{count:i=0,unchangedNames:s}=t,a=new sF(i,s);n=new s0(t.targetId,a)}return n}function aA(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:k()}function aO(t){if(!("targetChange"in t))return er.min();let r=t.targetChange;return r.targetIds&&r.targetIds.length||!r.readTime?er.min():ac(r.readTime)}function aN(t,r){let n;if(r instanceof sS)n={update:aS(t,r.key,r.value)};else if(r instanceof sN)n={delete:ap(t,r.key)};else if(r instanceof sw)n={update:aS(t,r.key,r.data),updateMask:ol(r.fieldMask)};else{if(!(r instanceof sx))return k();n={verify:ap(t,r.key)}}return r.fieldTransforms.length>0&&(n.updateTransforms=r.fieldTransforms.map(r=>aM(t,r))),r.precondition.isNone||(n.currentDocument=aP(t,r.precondition)),n}function ak(t,r){let n=r.currentDocument?ax(r.currentDocument):sf.none(),i=r.updateTransforms?r.updateTransforms.map(r=>aF(t,r)):[];if(r.update){r.update.name;let s=ag(t,r.update.name),a=new nE({mapValue:{fields:r.update.fields}});return r.updateMask?new sw(s,a,ou(r.updateMask),n,i):new sS(s,a,n,i)}return r.delete?new sN(ag(t,r.delete),n):r.verify?new sx(ag(t,r.verify),n):k()}function aP(t,r){return void 0!==r.updateTime?{updateTime:au(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:k()}function ax(t){return void 0!==t.updateTime?sf.updateTime(ac(t.updateTime)):void 0!==t.exists?sf.exists(t.exists):sf.none()}function aD(t,r){let n=t.updateTime?ac(t.updateTime):ac(r);return n.isEqual(er.min())&&(n=ac(r)),new sh(n,t.transformResults||[])}function aL(t,r){return t&&t.length>0?(P(void 0!==r),t.map(t=>aD(t,r))):[]}function aM(t,r){let n=r.transform;if(n instanceof se)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof st)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sn)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ss)return{fieldPath:r.field.canonicalString(),increment:n.operand};throw k()}function aF(t,r){let n=null;return"setToServerValue"in r?(P("REQUEST_TIME"===r.setToServerValue),n=new se):"appendMissingElements"in r?n=new st(r.appendMissingElements.values||[]):"removeAllFromArray"in r?n=new sn(r.removeAllFromArray.values||[]):"increment"in r?n=new ss(t,r.increment):k(),new su(eo.fromServerFormat(r.fieldPath),n)}function aj(t,r){return{documents:[am(t,r.path)]}}function aV(t){return P(1===t.documents.length),iS(ih(av(t.documents[0])))}function aB(t,r){let n;let i={structuredQuery:{}},s=r.path;null!==r.collectionGroup?(n=s,i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(n=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=am(t,n);let a=aK(r.filters);a&&(i.structuredQuery.where=a);let o=aQ(r.orderBy);o&&(i.structuredQuery.orderBy=o);let l=an(t,r.limit);return null!==l&&(i.structuredQuery.limit=l),r.startAt&&(i.structuredQuery.startAt=aJ(r.startAt)),r.endAt&&(i.structuredQuery.endAt=aX(r.endAt)),{queryTarget:i,parent:n}}function aU(t,r,n,i){let{queryTarget:s,parent:a}=aB(t,r),o={},l=[],u=0;return n.forEach(t=>{let r=i?t.alias:`aggregate_${u++}`;o[r]=t.alias,"count"===t.aggregateType?l.push({alias:r,count:{}}):"avg"===t.aggregateType?l.push({alias:r,avg:{field:a8(t.fieldPath)}}):"sum"===t.aggregateType&&l.push({alias:r,sum:{field:a8(t.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:s.structuredQuery},parent:s.parent},aliasMap:o,parent:a}}function az(t){let r=av(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,s=null;if(i>0){P(1===i);let t=n.from[0];t.allDescendants?s=t.collectionId:r=r.child(t.collectionId)}let a=[];n.where&&(a=a$(n.where));let o=[];n.orderBy&&(o=aZ(n.orderBy));let l=null;n.limit&&(l=ai(n.limit));let u=null;n.startAt&&(u=a0(n.startAt));let c=null;return n.endAt&&(c=a1(n.endAt)),id(r,s,o,a,l,"F",u,c)}function aq(t){return iS(az(t))}function aH(t,r){let n=aW(r.purpose);return null==n?null:{"goog-listen-tags":n}}function aW(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}function aG(t,r){let n;let i=r.target;if((n=n7(i)?{documents:aj(t,i)}:{query:aB(t,i).queryTarget}).targetId=r.targetId,r.resumeToken.approximateByteSize()>0){n.resumeToken=ao(t,r.resumeToken);let i=an(t,r.expectedCount);null!==i&&(n.expectedCount=i)}else if(r.snapshotVersion.compareTo(er.min())>0){n.readTime=as(t,r.snapshotVersion.toTimestamp());let i=an(t,r.expectedCount);null!==i&&(n.expectedCount=i)}return n}function aK(t){if(0!==t.length)return or(nF.create(t,"and"))}function a$(t){let r=aY(t);return r instanceof nF&&nB(r)?r.getFilters():[r]}function aY(t){return void 0!==t.unaryFilter?os(t):void 0!==t.fieldFilter?oa(t):void 0!==t.compositeFilter?oo(t):k()}function aQ(t){if(0!==t.length)return t.map(t=>oe(t))}function aZ(t){return t.map(t=>ot(t))}function aJ(t){return{before:t.inclusive,values:t.position}}function aX(t){return{before:!t.inclusive,values:t.position}}function a0(t){let r=!!t.before;return new nR(t.values||[],r)}function a1(t){let r=!t.before;return new nR(t.values||[],r)}function a2(t){return s8[t]}function a4(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function a3(t){return s7[t]}function a5(t){return ae[t]}function a6(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}function a9(t){switch(t){case"AND":return"and";case"OR":return"or";default:return k()}}function a8(t){return{fieldPath:t.canonicalString()}}function a7(t){return eo.fromServerFormat(t.fieldPath)}function oe(t){return{field:a8(t.field),direction:a2(t.dir)}}function ot(t){return new nk(a7(t.field),a4(t.direction))}function or(t){return t instanceof nM?oi(t):t instanceof nF?on(t):k()}function on(t){let r=t.getFilters().map(t=>or(t));return 1===r.length?r[0]:{compositeFilter:{op:a5(t.op),filters:r}}}function oi(t){if("=="===t.op){if(nh(t.value))return{unaryFilter:{field:a8(t.field),op:"IS_NAN"}};if(nd(t.value))return{unaryFilter:{field:a8(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nh(t.value))return{unaryFilter:{field:a8(t.field),op:"IS_NOT_NAN"}};if(nd(t.value))return{unaryFilter:{field:a8(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:a8(t.field),op:a3(t.op),value:t.value}}}function os(t){switch(t.unaryFilter.op){case"IS_NAN":let r=a7(t.unaryFilter.field);return nM.create(r,"==",{doubleValue:NaN});case"IS_NULL":let n=a7(t.unaryFilter.field);return nM.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=a7(t.unaryFilter.field);return nM.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=a7(t.unaryFilter.field);return nM.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}function oa(t){return nM.create(a7(t.fieldFilter.field),a6(t.fieldFilter.op),t.fieldFilter.value)}function oo(t){return nF.create(t.compositeFilter.filters.map(t=>aY(t)),a9(t.compositeFilter.op))}function ol(t){let r=[];return t.fields.forEach(t=>r.push(t.canonicalString())),{fieldPaths:r}}function ou(t){return new ru((t.fieldPaths||[]).map(t=>eo.fromServerFormat(t)))}function oc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,r,n,i,s=er.min(),a=er.min(),o=rf.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new od(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t){this.remoteSerializer=t}}function of(t,r){let n;if(r.document)n=aT(t.remoteSerializer,r.document,!!r.hasCommittedMutations);else if(r.noDocument){let t=el.fromSegments(r.noDocument.path),i=oy(r.noDocument.readTime);n=nw.newNoDocument(t,i),r.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!r.unknownDocument)return k();let t=el.fromSegments(r.unknownDocument.path),i=oy(r.unknownDocument.version);n=nw.newUnknownDocument(t,i)}return r.readTime&&n.setReadTime(om(r.readTime)),n}function op(t,r){let n=r.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:og(r.readTime),hasCommittedMutations:r.hasCommittedMutations};if(r.isFoundDocument())i.document=aE(t.remoteSerializer,r);else if(r.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:ov(r.version)};else{if(!r.isUnknownDocument())return k();i.unknownDocument={path:n.path.toArray(),version:ov(r.version)}}return i}function og(t){let r=t.toTimestamp();return[r.seconds,r.nanoseconds]}function om(t){let r=new et(t[0],t[1]);return er.fromTimestamp(r)}function ov(t){let r=t.toTimestamp();return{seconds:r.seconds,nanoseconds:r.nanoseconds}}function oy(t){let r=new et(t.seconds,t.nanoseconds);return er.fromTimestamp(r)}function o_(t,r,n){let i=n.baseMutations.map(r=>aN(t.remoteSerializer,r)),s=n.mutations.map(r=>aN(t.remoteSerializer,r));return{userId:r,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:s}}function ob(t,r){let n=(r.baseMutations||[]).map(r=>ak(t.remoteSerializer,r));for(let t=0;t<r.mutations.length-1;++t){let n=r.mutations[t];if(t+1<r.mutations.length&&void 0!==r.mutations[t+1].transform){let i=r.mutations[t+1];n.updateTransforms=i.transform.fieldTransforms,r.mutations.splice(t+1,1),++t}}let i=r.mutations.map(r=>ak(t.remoteSerializer,r)),s=et.fromMillis(r.localWriteTimeMs);return new sD(r.batchId,s,n,i)}function oS(t){let r;let n=oy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?oy(t.lastLimboFreeSnapshotVersion):er.min();return new od(r=oT(t.query)?aV(t.query):aq(t.query),t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,n,i,rf.fromBase64String(t.resumeToken))}function oE(t,r){let n;let i=ov(r.snapshotVersion),s=ov(r.lastLimboFreeSnapshotVersion);n=n7(r.target)?aj(t.remoteSerializer,r.target):aB(t.remoteSerializer,r.target).queryTarget;let a=r.resumeToken.toBase64();return{targetId:r.targetId,canonicalId:n6(r.target),readTime:i,resumeToken:a,lastListenSequenceNumber:r.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:n}}function oT(t){return void 0!==t.documents}function ow(t){return{id:t.bundleId,createTime:oy(t.createTime),version:t.version}}function oC(t){return{bundleId:t.id,createTime:ov(ac(t.createTime)),version:t.version}}function oR(t){return{name:t.name,query:oA(t.bundledQuery),readTime:oy(t.readTime)}}function oI(t){return{name:t.name,readTime:ov(ac(t.readTime)),bundledQuery:t.bundledQuery}}function oA(t){let r=az({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?iR(r,r.limit,"L"):r}function oO(t){return{name:t.name,query:oA(t.bundledQuery),readTime:ac(t.readTime)}}function oN(t){return{id:t.id,version:t.version,createTime:ac(t.createTime)}}function ok(t,r){return new sM(r.largestBatchId,ak(t.remoteSerializer,r.overlayMutation))}function oP(t,r,n){let[i,s,a]=ox(r,n.mutation.key);return{userId:r,collectionPath:s,documentId:a,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:aN(t.remoteSerializer,n.mutation)}}function ox(t,r){let n=r.path.lastSegment();return[t,eZ(r.path.popLast()),n]}function oD(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(t=>[t.fieldPath.canonicalString(),t.kind])}}function oL(t,r){let n=r?new e_(r.sequenceNumber,new eE(oy(r.readTime),new el(e0(r.documentKey)),r.largestBatchId)):e_.empty(),i=t.fields.map(([t,r])=>new ev(eo.fromServerFormat(t),r));return new ed(t.indexId,t.collectionGroup,i,n)}function oM(t,r,n,i){return{indexId:t,uid:r,sequenceNumber:n,readTime:ov(i.readTime),documentKey:eZ(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{getBundleMetadata(t,r){return oj(t).get(r).next(t=>{if(t)return ow(t)})}saveBundleMetadata(t,r){return oj(t).put(oC(r))}getNamedQuery(t,r){return oV(t).get(r).next(t=>{if(t)return oR(t)})}saveNamedQuery(t,r){return oV(t).put(oI(r))}}function oj(t){return t6(t,tI)}function oV(t){return t6(t,tO)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(t,r){this.serializer=t,this.userId=r}static forUser(t,r){return new oB(t,r.uid||"")}getOverlay(t,r){return oU(t).get(ox(this.userId,r)).next(t=>t?ok(this.serializer,t):null)}getOverlays(t,r){let n=iK();return eI.forEach(r,r=>this.getOverlay(t,r).next(t=>{null!==t&&n.set(r,t)})).next(()=>n)}saveOverlays(t,r,n){let i=[];return n.forEach((n,s)=>{let a=new sM(r,s);i.push(this.saveOverlay(t,a))}),eI.waitFor(i)}removeOverlaysForBatchId(t,r,n){let i=new Set;r.forEach(t=>i.add(eZ(t.getCollectionPath())));let s=[];return i.forEach(r=>{let i=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,n+1],!1,!0);s.push(oU(t).deleteAll(tW,i))}),eI.waitFor(s)}getOverlaysForCollection(t,r,n){let i=iK(),s=eZ(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return oU(t).loadAll(tW,a).next(t=>{for(let r of t){let t=ok(this.serializer,r);i.set(t.getKey(),t)}return i})}getOverlaysForCollectionGroup(t,r,n,i){let s;let a=iK(),o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return oU(t).iterate({index:tK,range:o},(t,r,n)=>{let o=ok(this.serializer,r);a.size()<i||o.largestBatchId===s?(a.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>a)}saveOverlay(t,r){return oU(t).put(oP(this.serializer,this.userId,r))}}function oU(t){return t6(t,tq)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{globalsStore(t){return t6(t,tY)}getSessionToken(t){return this.globalsStore(t).get("sessionToken").next(t=>{let r=null==t?void 0:t.value;return r?rf.fromUint8Array(r):rf.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.globalsStore(t).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oq=5,oH=10,oW=13,oG=15,oK=20,o$=25,oY=30,oQ=37,oZ=45,oJ=50,oX=53,o0=55,o1=60,o2=2;class o4{constructor(){}writeIndexValue(t,r){this.writeIndexValueAux(t,r),r.writeInfinity()}writeIndexValueAux(t,r){if("nullValue"in t)this.writeValueTypeLabel(r,oq);else if("booleanValue"in t)this.writeValueTypeLabel(r,oH),r.writeNumber(t.booleanValue?1:0);else if("integerValue"in t)this.writeValueTypeLabel(r,oG),r.writeNumber(ry(t.integerValue));else if("doubleValue"in t){let n=ry(t.doubleValue);isNaN(n)?this.writeValueTypeLabel(r,oW):(this.writeValueTypeLabel(r,oG),rD(n)?r.writeNumber(0):r.writeNumber(n))}else if("timestampValue"in t){let n=t.timestampValue;this.writeValueTypeLabel(r,oK),"string"==typeof n&&(n=rv(n)),r.writeString(`${n.seconds||""}`),r.writeNumber(n.nanos||0)}else if("stringValue"in t)this.writeIndexString(t.stringValue,r),this.writeTruncationMarker(r);else if("bytesValue"in t)this.writeValueTypeLabel(r,oY),r.writeBytes(r_(t.bytesValue)),this.writeTruncationMarker(r);else if("referenceValue"in t)this.writeIndexEntityRef(t.referenceValue,r);else if("geoPointValue"in t){let n=t.geoPointValue;this.writeValueTypeLabel(r,oZ),r.writeNumber(n.latitude||0),r.writeNumber(n.longitude||0)}else"mapValue"in t?nm(t)?this.writeValueTypeLabel(r,Number.MAX_SAFE_INTEGER):np(t)?this.writeIndexVector(t.mapValue,r):(this.writeIndexMap(t.mapValue,r),this.writeTruncationMarker(r)):"arrayValue"in t?(this.writeIndexArray(t.arrayValue,r),this.writeTruncationMarker(r)):k()}writeIndexString(t,r){this.writeValueTypeLabel(r,o$),this.writeUnlabeledIndexString(t,r)}writeUnlabeledIndexString(t,r){r.writeString(t)}writeIndexMap(t,r){let n=t.fields||{};for(let t of(this.writeValueTypeLabel(r,o0),Object.keys(n)))this.writeIndexString(t,r),this.writeIndexValueAux(n[t],r)}writeIndexVector(t,r){var n,i;let s=t.fields||{};this.writeValueTypeLabel(r,oX);let a=rB,o=(null===(i=null===(n=s[a].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.length)||0;this.writeValueTypeLabel(r,oG),r.writeNumber(ry(o)),this.writeIndexString(a,r),this.writeIndexValueAux(s[a],r)}writeIndexArray(t,r){let n=t.values||[];for(let t of(this.writeValueTypeLabel(r,oJ),n))this.writeIndexValueAux(t,r)}writeIndexEntityRef(t,r){this.writeValueTypeLabel(r,oQ),el.fromName(t).path.forEach(t=>{this.writeValueTypeLabel(r,o1),this.writeUnlabeledIndexString(t,r)})}writeValueTypeLabel(t,r){t.writeNumber(r)}writeTruncationMarker(t){t.writeNumber(o2)}}o4.INSTANCE=new o4;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o3="\uD800",o5="\uDBFF",o6=0,o9=255,o8=1,o7=255,le=255,lt=0,lr=64,ln=8,li=1024;function ls(t){let r=new DataView(new ArrayBuffer(8));return r.setFloat64(0,t,!1),new Uint8Array(r.buffer)}function la(t){if(0===t)return 8;let r=0;return t>>4==0&&(r+=4,t<<=4),t>>6==0&&(r+=2,t<<=2),t>>7==0&&(r+=1),r}function lo(t){let r=0;for(let n=0;n<8;++n){let i=la(255&t[n]);if(r+=i,8!==i)break}return r}function ll(t){return Math.ceil((lr-lo(t))/ln)}class lu{constructor(){this.buffer=new Uint8Array(li),this.position=0}writeBytesAscending(t){let r=t[Symbol.iterator](),n=r.next();for(;!n.done;)this.writeByteAscending(n.value),n=r.next();this.writeSeparatorAscending()}writeBytesDescending(t){let r=t[Symbol.iterator](),n=r.next();for(;!n.done;)this.writeByteDescending(n.value),n=r.next();this.writeSeparatorDescending()}writeUtf8Ascending(t){for(let r of t){let t=r.charCodeAt(0);if(t<128)this.writeByteAscending(t);else if(t<2048)this.writeByteAscending(960|t>>>6),this.writeByteAscending(128|63&t);else if(r<o3||o5<r)this.writeByteAscending(480|t>>>12),this.writeByteAscending(128|63&t>>>6),this.writeByteAscending(128|63&t);else{let t=r.codePointAt(0);this.writeByteAscending(240|t>>>18),this.writeByteAscending(128|63&t>>>12),this.writeByteAscending(128|63&t>>>6),this.writeByteAscending(128|63&t)}}this.writeSeparatorAscending()}writeUtf8Descending(t){for(let r of t){let t=r.charCodeAt(0);if(t<128)this.writeByteDescending(t);else if(t<2048)this.writeByteDescending(960|t>>>6),this.writeByteDescending(128|63&t);else if(r<o3||o5<r)this.writeByteDescending(480|t>>>12),this.writeByteDescending(128|63&t>>>6),this.writeByteDescending(128|63&t);else{let t=r.codePointAt(0);this.writeByteDescending(240|t>>>18),this.writeByteDescending(128|63&t>>>12),this.writeByteDescending(128|63&t>>>6),this.writeByteDescending(128|63&t)}}this.writeSeparatorDescending()}writeNumberAscending(t){let r=this.toOrderedBits(t),n=ll(r);this.ensureAvailable(1+n),this.buffer[this.position++]=255&n;for(let t=r.length-n;t<r.length;++t)this.buffer[this.position++]=255&r[t]}writeNumberDescending(t){let r=this.toOrderedBits(t),n=ll(r);this.ensureAvailable(1+n),this.buffer[this.position++]=~(255&n);for(let t=r.length-n;t<r.length;++t)this.buffer[this.position++]=~(255&r[t])}writeInfinityAscending(){this.writeEscapedByteAscending(o7),this.writeEscapedByteAscending(le)}writeInfinityDescending(){this.writeEscapedByteDescending(o7),this.writeEscapedByteDescending(le)}reset(){this.position=0}seed(t){this.ensureAvailable(t.length),this.buffer.set(t,this.position),this.position+=t.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(t){let r=ls(t),n=(128&r[0])!=0;r[0]^=n?255:128;for(let t=1;t<r.length;++t)r[t]^=n?255:0;return r}writeByteAscending(t){let r=255&t;r===o6?(this.writeEscapedByteAscending(o6),this.writeEscapedByteAscending(o9)):r===o7?(this.writeEscapedByteAscending(o7),this.writeEscapedByteAscending(lt)):this.writeEscapedByteAscending(r)}writeByteDescending(t){let r=255&t;r===o6?(this.writeEscapedByteDescending(o6),this.writeEscapedByteDescending(o9)):r===o7?(this.writeEscapedByteDescending(o7),this.writeEscapedByteDescending(lt)):this.writeEscapedByteDescending(t)}writeSeparatorAscending(){this.writeEscapedByteAscending(o6),this.writeEscapedByteAscending(o8)}writeSeparatorDescending(){this.writeEscapedByteDescending(o6),this.writeEscapedByteDescending(o8)}writeEscapedByteAscending(t){this.ensureAvailable(1),this.buffer[this.position++]=t}writeEscapedByteDescending(t){this.ensureAvailable(1),this.buffer[this.position++]=~t}ensureAvailable(t){let r=t+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);let i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class lc{constructor(t){this.orderedCode=t}writeBytes(t){this.orderedCode.writeBytesAscending(t)}writeString(t){this.orderedCode.writeUtf8Ascending(t)}writeNumber(t){this.orderedCode.writeNumberAscending(t)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class ld{constructor(t){this.orderedCode=t}writeBytes(t){this.orderedCode.writeBytesDescending(t)}writeString(t){this.orderedCode.writeUtf8Descending(t)}writeNumber(t){this.orderedCode.writeNumberDescending(t)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class lh{constructor(){this.orderedCode=new lu,this.ascending=new lc(this.orderedCode),this.descending=new ld(this.orderedCode)}seed(t){this.orderedCode.seed(t)}forKind(t){return 0===t?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,r,n,i){this.indexId=t,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}successor(){let t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new lf(this.indexId,this.documentKey,this.arrayValue,n)}}function lp(t,r){let n=t.indexId-r.indexId;return 0!==n||0!==(n=lg(t.arrayValue,r.arrayValue))||0!==(n=lg(t.directionalValue,r.directionalValue))?n:el.comparator(t.documentKey,r.documentKey)}function lg(t,r){for(let n=0;n<t.length&&n<r.length;++n){let i=t[n]-r[n];if(0!==i)return i}return t.length-r.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t){for(let r of(this.inequalityFilters=new rs((t,r)=>eo.comparator(t.field,r.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.orderBys=t.orderBy,this.equalityFilters=[],t.filters)){let t=r;t.isInequality()?this.inequalityFilters=this.inequalityFilters.add(t):this.equalityFilters.push(t)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(t){if(P(t.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let r=eh(t);if(void 0!==r&&!this.hasMatchingEqualityFilter(r))return!1;let n=ef(t),i=new Set,s=0,a=0;for(;s<n.length;++s)if(this.hasMatchingEqualityFilter(n[s]))i=i.add(n[s].fieldPath.canonicalString());else break;if(s===n.length)return!0;if(this.inequalityFilters.size>0){let t=this.inequalityFilters.getIterator().getNext();if(!i.has(t.field.canonicalString())){let r=n[s];if(!this.matchesFilter(t,r)||!this.matchesOrderBy(this.orderBys[a++],r))return!1}++s}for(;s<n.length;++s){let t=n[s];if(a>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[a++],t))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let t=new rs(eo.comparator),r=[];for(let n of this.equalityFilters)if(!n.field.isKeyField()){if("array-contains"===n.op||"array-contains-any"===n.op)r.push(new ev(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),r.push(new ev(n.field,0))}}for(let n of this.orderBys)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),r.push(new ev(n.field,"asc"===n.dir?0:1)));return new ed(ed.UNKNOWN_ID,this.collectionId,r,e_.empty())}hasMatchingEqualityFilter(t){for(let r of this.equalityFilters)if(this.matchesFilter(r,t))return!0;return!1}matchesFilter(t,r){if(void 0===t||!t.field.isEqual(r.fieldPath))return!1;let n="array-contains"===t.op||"array-contains-any"===t.op;return 2===r.kind===n}matchesOrderBy(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){var r,n;if(P(t instanceof nM||t instanceof nF),t instanceof nM){if(!(t instanceof n1))return t;{let i=(null===(n=null===(r=t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map(r=>nM.create(t.field,"==",r)))||[];return nF.create(i,"or")}}let i=t.filters.map(t=>lv(t));return nF.create(i,t.op)}function ly(t){if(0===t.getFilters().length)return[];let r=lT(lv(t));return(P(lS(r)),l_(r)||lb(r))?[r]:r.getFilters()}function l_(t){return t instanceof nM}function lb(t){return t instanceof nF&&nB(t)}function lS(t){return l_(t)||lb(t)||lE(t)}function lE(t){if(t instanceof nF&&nV(t)){for(let r of t.getFilters())if(!l_(r)&&!lb(r))return!1;return!0}return!1}function lT(t){if(P(t instanceof nM||t instanceof nF),t instanceof nM)return t;if(1===t.filters.length)return lT(t.filters[0]);let r=t.filters.map(t=>lT(t)),n=nF.create(r,t.op);return lS(n=lA(n))?n:(P(n instanceof nF),P(nj(n)),P(n.filters.length>1),n.filters.reduce((t,r)=>lw(t,r)))}function lw(t,r){let n;return P(t instanceof nM||t instanceof nF),P(r instanceof nM||r instanceof nF),lA(n=t instanceof nM?r instanceof nM?lC(t,r):lI(t,r):r instanceof nM?lI(r,t):lR(t,r))}function lC(t,r){return nF.create([t,r],"and")}function lR(t,r){if(P(t.filters.length>0&&r.filters.length>0),nj(t)&&nj(r))return nG(t,r.getFilters());let n=nV(t)?t:r,i=nV(t)?r:t,s=n.filters.map(t=>lw(t,i));return nF.create(s,"or")}function lI(t,r){if(nj(r))return nG(r,t.getFilters());{let n=r.filters.map(r=>lw(t,r));return nF.create(n,"or")}}function lA(t){if(P(t instanceof nM||t instanceof nF),t instanceof nM)return t;let r=t.getFilters();if(1===r.length)return lA(r[0]);if(nU(t))return t;let n=r.map(t=>lA(t)),i=[];return(n.forEach(r=>{r instanceof nM?i.push(r):r instanceof nF&&(r.op===t.op?i.push(...r.filters):i.push(r))}),1===i.length)?i[0]:nF.create(i,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.collectionParentIndex=new lN}addToCollectionParentIndex(t,r){return this.collectionParentIndex.add(r),eI.resolve()}getCollectionParents(t,r){return eI.resolve(this.collectionParentIndex.getEntries(r))}addFieldIndex(t,r){return eI.resolve()}deleteFieldIndex(t,r){return eI.resolve()}deleteAllFieldIndexes(t){return eI.resolve()}createTargetIndexes(t,r){return eI.resolve()}getDocumentsMatchingTarget(t,r){return eI.resolve(null)}getIndexType(t,r){return eI.resolve(0)}getFieldIndexes(t,r){return eI.resolve([])}getNextCollectionGroupToUpdate(t){return eI.resolve(null)}getMinOffset(t,r){return eI.resolve(eE.min())}getMinOffsetFromCollectionGroup(t,r){return eI.resolve(eE.min())}updateCollectionGroup(t,r,n){return eI.resolve()}updateIndexEntries(t,r){return eI.resolve()}}class lN{constructor(){this.index={}}add(t){let r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new rs(es.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(t){let r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new rs(es.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lk="IndexedDbIndexManager",lP=new Uint8Array(0);class lx{constructor(t,r){this.databaseId=r,this.collectionParentsCache=new lN,this.targetToDnfSubTargets=new iB(t=>n6(t),(t,r)=>n8(t,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.collectionParentsCache.has(r)){let n=r.lastSegment(),i=r.popLast();t.addOnCommittedListener(()=>{this.collectionParentsCache.add(r)});let s={collectionId:n,parent:eZ(i)};return lD(t).put(s)}return eI.resolve()}getCollectionParents(t,r){let n=[],i=IDBKeyRange.bound([r,""],[J(r),""],!1,!0);return lD(t).loadAll(i).next(t=>{for(let i of t){if(i.collectionId!==r)break;n.push(e0(i.parent))}return n})}addFieldIndex(t,r){let n=lM(t),i=oD(r);delete i.indexId;let s=n.add(i);if(!r.indexState)return s.next();{let n=lF(t);return s.next(t=>{n.put(oM(t,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}}deleteFieldIndex(t,r){let n=lM(t),i=lF(t),s=lL(t);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){let r=lM(t),n=lL(t),i=lF(t);return r.deleteAll().next(()=>n.deleteAll()).next(()=>i.deleteAll())}createTargetIndexes(t,r){return eI.forEach(this.getSubTargets(r),r=>this.getIndexType(t,r).next(n=>{if(0===n||1===n){let n=new lm(r).buildTargetIndex();if(null!=n)return this.addFieldIndex(t,n)}}))}getDocumentsMatchingTarget(t,r){let n=lL(t),i=!0,s=new Map;return eI.forEach(this.getSubTargets(r),r=>this.getFieldIndex(t,r).next(t=>{i&&(i=!!t),s.set(r,t)})).next(()=>{if(!i)return eI.resolve(null);{let t=iX(),i=[];return eI.forEach(s,(s,a)=>{I(lk,`Using index ${em(s)} to execute ${n6(r)}`);let o=it(a,s),l=ir(a,s),u=ii(a,s),c=is(a,s),d=this.encodeBound(s,a,u),h=this.encodeBound(s,a,c),f=this.encodeValues(s,a,l),p=this.generateIndexRanges(s.indexId,o,d,u.inclusive,h,c.inclusive,f);return eI.forEach(p,s=>n.loadFirst(s,r.limit).next(r=>{r.forEach(r=>{let n=el.fromSegments(r.documentKey);t.has(n)||(t=t.add(n),i.push(n))})}))}).next(()=>i)}})}getSubTargets(t){let r=this.targetToDnfSubTargets.get(t);return r||(r=0===t.filters.length?[t]:ly(nF.create(t.filters,"and")).map(r=>n5(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.targetToDnfSubTargets.set(t,r)),r}generateIndexRanges(t,r,n,i,s,a,o){let l=(null!=r?r.length:1)*Math.max(n.length,s.length),u=l/(null!=r?r.length:1),c=[];for(let d=0;d<l;++d){let l=r?this.encodeSingleElement(r[d/u]):lP,h=this.generateLowerBound(t,l,n[d%u],i),f=this.generateUpperBound(t,l,s[d%u],a),p=o.map(r=>this.generateLowerBound(t,l,r,!0));c.push(...this.createRange(h,f,p))}return c}generateLowerBound(t,r,n,i){let s=new lf(t,el.empty(),r,n);return i?s:s.successor()}generateUpperBound(t,r,n,i){let s=new lf(t,el.empty(),r,n);return i?s.successor():s}getFieldIndex(t,r){let n=new lm(r),i=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,i).next(t=>{let r=null;for(let i of t)n.servedByIndex(i)&&(!r||i.fields.length>r.fields.length)&&(r=i);return r})}getIndexType(t,r){let n=2,i=this.getSubTargets(r);return eI.forEach(i,r=>this.getFieldIndex(t,r).next(t=>{t?0!==n&&t.fields.length<il(r)&&(n=1):n=0})).next(()=>iu(r)&&i.length>1&&2===n?1:n)}encodeDirectionalElements(t,r){let n=new lh;for(let i of ef(t)){let t=r.data.field(i.fieldPath);if(null==t)return null;let s=n.forKind(i.kind);o4.INSTANCE.writeIndexValue(t,s)}return n.encodedBytes()}encodeSingleElement(t){let r=new lh;return o4.INSTANCE.writeIndexValue(t,r.forKind(0)),r.encodedBytes()}encodeDirectionalKey(t,r){let n=new lh;return o4.INSTANCE.writeIndexValue(na(this.databaseId,r),n.forKind(ep(t))),n.encodedBytes()}encodeValues(t,r,n){if(null===n)return[];let i=[];i.push(new lh);let s=0;for(let a of ef(t)){let t=n[s++];for(let n of i)if(this.isInFilter(r,a.fieldPath)&&nc(t))i=this.expandIndexValues(i,a,t);else{let r=n.forKind(a.kind);o4.INSTANCE.writeIndexValue(t,r)}}return this.getEncodedBytes(i)}encodeBound(t,r,n){return this.encodeValues(t,r,n.position)}getEncodedBytes(t){let r=[];for(let n=0;n<t.length;++n)r[n]=t[n].encodedBytes();return r}expandIndexValues(t,r,n){let i=[...t],s=[];for(let t of n.arrayValue.values||[])for(let n of i){let i=new lh;i.seed(n.encodedBytes()),o4.INSTANCE.writeIndexValue(t,i.forKind(r.kind)),s.push(i)}return s}isInFilter(t,r){return!!t.filters.find(t=>t instanceof nM&&t.field.isEqual(r)&&("in"===t.op||"not-in"===t.op))}getFieldIndexes(t,r){let n=lM(t),i=lF(t);return(r?n.loadAll(tx,IDBKeyRange.bound(r,r)):n.loadAll()).next(t=>{let r=[];return eI.forEach(t,t=>i.get([t.indexId,this.uid]).next(n=>{r.push(oL(t,n))})).next(()=>r)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(t=>0===t.length?null:(t.sort((t,r)=>{let n=t.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==n?n:Q(t.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(t,r,n){let i=lM(t),s=lF(t);return this.getNextSequenceNumber(t).next(t=>i.loadAll(tx,IDBKeyRange.bound(r,r)).next(r=>eI.forEach(r,r=>s.put(oM(r.indexId,this.uid,t,n)))))}updateIndexEntries(t,r){let n=new Map;return eI.forEach(r,(r,i)=>{let s=n.get(r.collectionGroup);return(s?eI.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(s=>(n.set(r.collectionGroup,s),eI.forEach(s,n=>this.getExistingIndexEntries(t,r,n).next(r=>{let s=this.computeIndexEntries(i,n);return r.isEqual(s)?eI.resolve():this.updateEntries(t,i,n,r,s)}))))})}addIndexEntry(t,r,n,i){return lL(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(n,r.key),documentKey:r.key.path.toArray()})}deleteIndexEntry(t,r,n,i){return lL(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.encodeDirectionalKey(n,r.key),r.key.path.toArray()])}getExistingIndexEntries(t,r,n){let i=lL(t),s=new rs(lp);return i.iterate({index:tU,range:IDBKeyRange.only([n.indexId,this.uid,this.encodeDirectionalKey(n,r)])},(t,i)=>{s=s.add(new lf(n.indexId,r,i.arrayValue,i.directionalValue))}).next(()=>s)}computeIndexEntries(t,r){let n=new rs(lp),i=this.encodeDirectionalElements(r,t);if(null==i)return n;let s=eh(r);if(null!=s){let a=t.data.field(s.fieldPath);if(nc(a))for(let s of a.arrayValue.values||[])n=n.add(new lf(r.indexId,t.key,this.encodeSingleElement(s),i))}else n=n.add(new lf(r.indexId,t.key,lP,i));return n}updateEntries(t,r,n,i,s){I(lk,"Updating index entries for document '%s'",r.key);let a=[];return ro(i,s,lp,i=>{a.push(this.addIndexEntry(t,r,n,i))},i=>{a.push(this.deleteIndexEntry(t,r,n,i))}),eI.waitFor(a)}getNextSequenceNumber(t){let r=1;return lF(t).iterate({index:tF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,n,i)=>{i.done(),r=n.sequenceNumber+1}).next(()=>r)}createRange(t,r,n){n=n.sort((t,r)=>lp(t,r)).filter((t,r,n)=>!r||0!==lp(t,n[r-1]));let i=[];for(let s of(i.push(t),n)){let n=lp(s,t),a=lp(s,r);if(0===n)i[0]=t.successor();else if(n>0&&a<0)i.push(s),i.push(s.successor());else if(a>0)break}i.push(r);let s=[];for(let t=0;t<i.length;t+=2){if(this.isRangeMatchable(i[t],i[t+1]))return[];let r=[i[t].indexId,this.uid,i[t].arrayValue,i[t].directionalValue,lP,[]],n=[i[t+1].indexId,this.uid,i[t+1].arrayValue,i[t+1].directionalValue,lP,[]];s.push(IDBKeyRange.bound(r,n))}return s}isRangeMatchable(t,r){return lp(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(lj)}getMinOffset(t,r){return eI.mapArray(this.getSubTargets(r),r=>this.getFieldIndex(t,r).next(t=>t||k())).next(lj)}}function lD(t){return t6(t,tT)}function lL(t){return t6(t,tV)}function lM(t){return t6(t,tk)}function lF(t){return t6(t,tL)}function lj(t){P(0!==t.length);let r=t[0].indexState.offset,n=r.largestBatchId;for(let i=1;i<t.length;i++){let s=t[i].indexState.offset;0>eT(s,r)&&(r=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new eE(r.readTime,r.documentKey,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,r,n){let i=t.store(e6),s=t.store(ti),a=[],o=IDBKeyRange.only(n.batchId),l=0,u=i.iterate({range:o},(t,r,n)=>(l++,n.delete()));a.push(u.next(()=>{P(1===l)}));let c=[];for(let t of n.mutations){let i=tr(r,t.key.path,n.batchId);a.push(s.delete(i)),c.push(t.key)}return eI.waitFor(a).next(()=>c)}function lB(t){let r;if(!t)return 0;if(t.document)r=t.document;else if(t.unknownDocument)r=t.unknownDocument;else if(t.noDocument)r=t.noDocument;else throw k();return JSON.stringify(r).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(t,r,n,i){this.userId=t,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.documentKeysByBatchId={}}static forUser(t,r,n,i){return P(""!==t.uid),new lU(t.isAuthenticated()?t.uid:"",r,n,i)}checkEmpty(t){let r=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lH(t).iterate({index:e8,range:n},(t,n,i)=>{r=!1,i.done()}).next(()=>r)}addMutationBatch(t,r,n,i){let s=lW(t),a=lH(t);return a.add({}).next(o=>{P("number"==typeof o);let l=new sD(o,r,n,i),u=o_(this.serializer,this.userId,l),c=[],d=new rs((t,r)=>Q(t.canonicalString(),r.canonicalString()));for(let t of i){let r=tr(this.userId,t.key.path,o);d=d.add(t.key.path.popLast()),c.push(a.put(u)),c.push(s.put(r,tn))}return d.forEach(r=>{c.push(this.indexManager.addToCollectionParentIndex(t,r))}),t.addOnCommittedListener(()=>{this.documentKeysByBatchId[o]=l.keys()}),eI.waitFor(c).next(()=>l)})}lookupMutationBatch(t,r){return lH(t).get(r).next(t=>t?(P(t.userId===this.userId),ob(this.serializer,t)):null)}lookupMutationKeys(t,r){return this.documentKeysByBatchId[r]?eI.resolve(this.documentKeysByBatchId[r]):this.lookupMutationBatch(t,r).next(t=>{if(!t)return null;{let n=t.keys();return this.documentKeysByBatchId[r]=n,n}})}getNextMutationBatchAfterBatchId(t,r){let n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]),s=null;return lH(t).iterate({index:e8,range:i},(t,r,i)=>{r.userId===this.userId&&(P(r.batchId>=n),s=ob(this.serializer,r)),i.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){let r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=rP;return lH(t).iterate({index:e8,range:r,reverse:!0},(t,r,i)=>{n=r.batchId,i.done()}).next(()=>n)}getAllMutationBatches(t){let r=IDBKeyRange.bound([this.userId,rP],[this.userId,Number.POSITIVE_INFINITY]);return lH(t).loadAll(e8,r).next(t=>t.map(t=>ob(this.serializer,t)))}getAllMutationBatchesAffectingDocumentKey(t,r){let n=tt(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return lW(t).iterate({range:i},(n,i,a)=>{let[o,l,u]=n,c=e0(l);if(o!==this.userId||!r.path.isEqual(c)){a.done();return}return lH(t).get(u).next(t=>{if(!t)throw k();P(t.userId===this.userId),s.push(ob(this.serializer,t))})}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new rs(Q),i=[];return r.forEach(r=>{let s=tt(this.userId,r.path),a=IDBKeyRange.lowerBound(s),o=lW(t).iterate({range:a},(t,i,s)=>{let[a,o,l]=t,u=e0(o);if(a!==this.userId||!r.path.isEqual(u)){s.done();return}n=n.add(l)});i.push(o)}),eI.waitFor(i).next(()=>this.lookupMutationBatches(t,n))}getAllMutationBatchesAffectingQuery(t,r){let n=r.path,i=n.length+1,s=tt(this.userId,n),a=IDBKeyRange.lowerBound(s),o=new rs(Q);return lW(t).iterate({range:a},(t,r,s)=>{let[a,l,u]=t,c=e0(l);if(a!==this.userId||!n.isPrefixOf(c)){s.done();return}c.length===i&&(o=o.add(u))}).next(()=>this.lookupMutationBatches(t,o))}lookupMutationBatches(t,r){let n=[],i=[];return r.forEach(r=>{i.push(lH(t).get(r).next(t=>{if(null===t)throw k();P(t.userId===this.userId),n.push(ob(this.serializer,t))}))}),eI.waitFor(i).next(()=>n)}removeMutationBatch(t,r){return lV(t.simpleDbTransaction,this.userId,r).next(n=>(t.addOnCommittedListener(()=>{this.removeCachedMutationKeys(r.batchId)}),eI.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}removeCachedMutationKeys(t){delete this.documentKeysByBatchId[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return eI.resolve();let n=IDBKeyRange.lowerBound(te(this.userId)),i=[];return lW(t).iterate({range:n},(t,r,n)=>{if(t[0]!==this.userId){n.done();return}{let r=e0(t[1]);i.push(r)}}).next(()=>{P(0===i.length)})})}containsKey(t,r){return lz(t,this.userId,r)}getMutationQueueMetadata(t){return lG(t).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:rP,lastStreamToken:""})}}function lz(t,r,n){let i=tt(r,n.path),s=i[1],a=IDBKeyRange.lowerBound(i),o=!1;return lW(t).iterate({range:a,keysOnly:!0},(t,n,i)=>{let[a,l,u]=t;a===r&&l===s&&(o=!0),i.done()}).next(()=>o)}function lq(t,r){let n=!1;return lG(t).iterateSerial(i=>lz(t,i,r).next(t=>(t&&(n=!0),eI.resolve(!t)))).next(()=>n)}function lH(t){return t6(t,e6)}function lW(t){return t6(t,ti)}function lG(t){return t6(t,e3)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lK=2;class l${constructor(t){this.lastId=t}next(){return this.lastId+=lK,this.lastId}static forTargetCache(){return new l$(2-lK)}static forSyncEngine(){return new l$(1-lK)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.retrieveMetadata(t).next(r=>{let n=new l$(r.highestTargetId);return r.highestTargetId=n.next(),this.saveMetadata(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.retrieveMetadata(t).next(t=>er.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.retrieveMetadata(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,r,n){return this.retrieveMetadata(t).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.saveMetadata(t,i)))}addTargetData(t,r){return this.saveTargetData(t,r).next(()=>this.retrieveMetadata(t).next(n=>(n.targetCount+=1,this.updateMetadataFromTargetData(r,n),this.saveMetadata(t,n))))}updateTargetData(t,r){return this.saveTargetData(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>lQ(t).delete(r.targetId)).next(()=>this.retrieveMetadata(t)).next(r=>(P(r.targetCount>0),r.targetCount-=1,this.saveMetadata(t,r)))}removeTargets(t,r,n){let i=0,s=[];return lQ(t).iterate((a,o)=>{let l=oS(o);l.sequenceNumber<=r&&null===n.get(l.targetId)&&(i++,s.push(this.removeTargetData(t,l)))}).next(()=>eI.waitFor(s)).next(()=>i)}forEachTarget(t,r){return lQ(t).iterate((t,n)=>{r(oS(n))})}retrieveMetadata(t){return lZ(t).get(tS).next(t=>(P(null!==t),t))}saveMetadata(t,r){return lZ(t).put(tS,r)}saveTargetData(t,r){return lQ(t).put(oE(this.serializer,r))}updateMetadataFromTargetData(t,r){let n=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,n=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.retrieveMetadata(t).next(t=>t.targetCount)}getTargetData(t,r){let n=n6(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),s=null;return lQ(t).iterate({range:i,index:tg},(t,n,i)=>{let a=oS(n);n8(r,a.target)&&(s=a,i.done())}).next(()=>s)}addMatchingKeys(t,r,n){let i=[],s=lJ(t);return r.forEach(r=>{let a=eZ(r.path);i.push(s.put({targetId:n,path:a})),i.push(this.referenceDelegate.addReference(t,n,r))}),eI.waitFor(i)}removeMatchingKeys(t,r,n){let i=lJ(t);return eI.forEach(r,r=>{let s=eZ(r.path);return eI.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(t,n,r)])})}removeMatchingKeysForTargetId(t,r){let n=lJ(t),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,r){let n=IDBKeyRange.bound([r],[r+1],!1,!0),i=lJ(t),s=iX();return i.iterate({range:n,keysOnly:!0},(t,r,n)=>{let i=new el(e0(t[1]));s=s.add(i)}).next(()=>s)}containsKey(t,r){let n=eZ(r.path),i=IDBKeyRange.bound([n],[J(n)],!1,!0),s=0;return lJ(t).iterate({index:t_,keysOnly:!0,range:i},([t,r],n,i)=>{0!==t&&(s++,i.done())}).next(()=>s>0)}getTargetDataForTarget(t,r){return lQ(t).get(r).next(t=>t?oS(t):null)}}function lQ(t){return t6(t,tf)}function lZ(t){return t6(t,tE)}function lJ(t){return t6(t,tv)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lX={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l0=-1,l1=41943040;class l2{constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new l2(t,l2.DEFAULT_COLLECTION_PERCENTILE,l2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}l2.DEFAULT_COLLECTION_PERCENTILE=10,l2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,l2.DEFAULT=new l2(l1,l2.DEFAULT_COLLECTION_PERCENTILE,l2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),l2.DISABLED=new l2(l0,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l4="LruGarbageCollector",l3=1048576,l5=6e4,l6=3e5;function l9([t,r],[n,i]){let s=Q(t,n);return 0===s?Q(r,i):s}class l8{constructor(t){this.maxElements=t,this.buffer=new rs(l9),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(t){let r=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(r);else{let t=this.buffer.last();0>l9(r,t)&&(this.buffer=this.buffer.delete(t).add(r))}}get maxValue(){return this.buffer.last()[0]}}class l7{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==l0&&this.scheduleGC(l5)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(t){I(l4,`Garbage collection scheduled in ${t}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){eL(t)?I(l4,"Ignoring IndexedDB error during garbage collection: ",t):await eR(t)}await this.scheduleGC(l6)})}}class ue{constructor(t,r){this.delegate=t,this.params=r}calculateTargetCount(t,r){return this.delegate.getSequenceNumberCount(t).next(t=>Math.floor(r/100*t))}nthSequenceNumber(t,r){if(0===r)return eI.resolve(eG.INVALID);let n=new l8(r);return this.delegate.forEachTarget(t,t=>n.addElement(t.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(t,t=>n.addElement(t))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.delegate.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.delegate.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===l0?(I("LruGarbageCollector","Garbage collection skipped; disabled"),eI.resolve(lX)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lX):this.runGarbageCollection(t,r))}getCacheSize(t){return this.delegate.getCacheSize(t)}runGarbageCollection(t,r){let n,i,s,a,o,u,c;let d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(r=>(r>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${r}`),i=this.params.maximumSequenceNumbersToCollect):i=r,a=Date.now(),this.nthSequenceNumber(t,i))).next(i=>(n=i,o=Date.now(),this.removeTargets(t,n,r))).next(r=>(s=r,u=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(c=Date.now(),C()<=l.LogLevel.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in ${o-a}ms
	Removed ${s} targets in ${u-o}ms
	Removed ${t} documents in ${c-u}ms
Total Duration: ${c-d}ms`),eI.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:t})))}}function ut(t,r){return new ue(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,r){this.db=t,this.garbageCollector=ut(this,r)}getSequenceNumberCount(t){let r=this.orphanedDocumentCount(t);return this.db.getTargetCache().getTargetCount(t).next(t=>r.next(r=>t+r))}orphanedDocumentCount(t){let r=0;return this.forEachOrphanedDocumentSequenceNumber(t,t=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}forEachOrphanedDocumentSequenceNumber(t,r){return this.forEachOrphanedDocument(t,(t,n)=>r(n))}addReference(t,r,n){return us(t,n)}removeReference(t,r,n){return us(t,n)}removeTargets(t,r,n){return this.db.getTargetCache().removeTargets(t,r,n)}markPotentiallyOrphaned(t,r){return us(t,r)}isPinned(t,r){return lq(t,r)}removeOrphanedDocuments(t,r){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.forEachOrphanedDocument(t,(a,o)=>{if(o<=r){let r=this.isPinned(t,a).next(r=>{if(!r)return s++,n.getEntry(t,a).next(()=>(n.removeEntry(a,er.min()),lJ(t).delete(un(a))))});i.push(r)}}).next(()=>eI.waitFor(i)).next(()=>n.apply(t)).next(()=>s)}removeTarget(t,r){let n=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,r){return us(t,r)}forEachOrphanedDocument(t,r){let n;let i=lJ(t),s=eG.INVALID;return i.iterate({index:t_},([t,i],{path:a,sequenceNumber:o})=>{0===t?(s!==eG.INVALID&&r(new el(e0(n)),s),s=o,n=a):s=eG.INVALID}).next(()=>{s!==eG.INVALID&&r(new el(e0(n)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function un(t){return[0,eZ(t.path)]}function ui(t,r){return{targetId:0,path:eZ(t.path),sequenceNumber:r}}function us(t,r){return lJ(t).put(ui(r,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.changes=new iB(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,nw.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();let n=this.changes.get(r);return void 0!==n?eI.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,n){return ud(t).put(n)}removeEntry(t,r,n){return ud(t).delete(uf(r,n))}updateMetadata(t,r){return this.getMetadata(t).next(n=>(n.byteSize+=r,this.setMetadata(t,n)))}getEntry(t,r){let n=nw.newInvalidDocument(r);return ud(t).iterate({index:to,range:IDBKeyRange.only(uh(r))},(t,i)=>{n=this.maybeDecodeDocument(r,i)}).next(()=>n)}getSizedEntry(t,r){let n={size:0,document:nw.newInvalidDocument(r)};return ud(t).iterate({index:to,range:IDBKeyRange.only(uh(r))},(t,i)=>{n={document:this.maybeDecodeDocument(r,i),size:lB(i)}}).next(()=>n)}getEntries(t,r){let n=iz();return this.forEachDbEntry(t,r,(t,r)=>{let i=this.maybeDecodeDocument(t,r);n=n.insert(t,i)}).next(()=>n)}getSizedEntries(t,r){let n=iz(),i=new rt(el.comparator);return this.forEachDbEntry(t,r,(t,r)=>{let s=this.maybeDecodeDocument(t,r);n=n.insert(t,s),i=i.insert(t,lB(r))}).next(()=>({documents:n,sizeMap:i}))}forEachDbEntry(t,r,n){if(r.isEmpty())return eI.resolve();let i=new rs(ug);r.forEach(t=>i=i.add(t));let s=IDBKeyRange.bound(uh(i.first()),uh(i.last())),a=i.getIterator(),o=a.getNext();return ud(t).iterate({index:to,range:s},(t,r,i)=>{let s=el.fromSegments([...r.prefixPath,r.collectionGroup,r.documentId]);for(;o&&0>ug(o,s);)n(o,null),o=a.getNext();o&&o.isEqual(s)&&(n(o,r),o=a.hasNext()?a.getNext():null),o?i.skip(uh(o)):i.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,r,n,i,s){let a=r.path,o=[a.popLast().toArray(),a.lastSegment(),og(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ud(t).loadAll(IDBKeyRange.bound(o,l,!0)).next(t=>{null==s||s.incrementDocumentReadCount(t.length);let n=iz();for(let s of t){let t=this.maybeDecodeDocument(el.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);t.isFoundDocument()&&(iP(r,t)||i.has(t.key))&&(n=n.insert(t.key,t))}return n})}getAllFromCollectionGroup(t,r,n,i){let s=iz(),a=up(r,n),o=up(r,eE.max());return ud(t).iterate({index:tu,range:IDBKeyRange.bound(a,o,!0)},(t,r,n)=>{let a=this.maybeDecodeDocument(el.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);(s=s.insert(a.key,a)).size===i&&n.done()}).next(()=>s)}newChangeBuffer(t){return new uu(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return uc(t).get(th).next(t=>(P(!!t),t))}setMetadata(t,r){return uc(t).put(th,r)}maybeDecodeDocument(t,r){if(r){let t=of(this.serializer,r);if(!(t.isNoDocument()&&t.version.isEqual(er.min())))return t}return nw.newInvalidDocument(t)}}function ul(t){return new uo(t)}class uu extends ua{constructor(t,r){super(),this.documentCache=t,this.trackRemovals=r,this.documentStates=new iB(t=>t.toString(),(t,r)=>t.isEqual(r))}applyChanges(t){let r=[],n=0,i=new rs((t,r)=>Q(t.canonicalString(),r.canonicalString()));return this.changes.forEach((s,a)=>{let o=this.documentStates.get(s);if(r.push(this.documentCache.removeEntry(t,s,o.readTime)),a.isValidDocument()){let l=op(this.documentCache.serializer,a);i=i.add(s.path.popLast());let u=lB(l);n+=u-o.size,r.push(this.documentCache.addEntry(t,s,l))}else if(n-=o.size,this.trackRemovals){let n=op(this.documentCache.serializer,a.convertToNoDocument(er.min()));r.push(this.documentCache.addEntry(t,s,n))}}),i.forEach(n=>{r.push(this.documentCache.indexManager.addToCollectionParentIndex(t,n))}),r.push(this.documentCache.updateMetadata(t,n)),eI.waitFor(r)}getFromCache(t,r){return this.documentCache.getSizedEntry(t,r).next(t=>(this.documentStates.set(r,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(t,r){return this.documentCache.getSizedEntries(t,r).next(({documents:t,sizeMap:r})=>(r.forEach((r,n)=>{this.documentStates.set(r,{size:n,readTime:t.get(r).readTime})}),t))}}function uc(t){return t6(t,td)}function ud(t){return t6(t,ts)}function uh(t){let r=t.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],r[r.length-1]]}function uf(t,r){let n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],og(r),n[n.length-1]]}function up(t,r){let n=r.documentKey.path.toArray();return[t,og(r.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ug(t,r){let n=t.path.toArray(),i=r.path.toArray(),s=0;for(let t=0;t<n.length-2&&t<i.length-2;++t)if(s=Q(n[t],i[t]))return s;return(s=Q(n.length,i.length))||(s=Q(n[n.length-2],i[i.length-2]))?s:Q(n[n.length-1],i[i.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um=17;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(t=>(null!==n&&sy(n.mutation,t,ru.empty(),et.now()),t))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(r=>this.getLocalViewOfDocuments(t,r,iX()).next(()=>r))}getLocalViewOfDocuments(t,r,n=iX()){let i=iK();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(t=>{let r=iH();return t.forEach((t,n)=>{r=r.insert(t,n.overlayedDocument)}),r}))}getOverlayedDocuments(t,r){let n=iK();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,iX()))}populateOverlays(t,r,n){let i=[];return n.forEach(t=>{r.has(t)||i.push(t)}),this.documentOverlayCache.getOverlays(t,i).next(t=>{t.forEach((t,n)=>{r.set(t,n)})})}computeViews(t,r,n,i){let s=iz(),a=iY(),o=iW();return r.forEach((t,r)=>{let o=n.get(r.key);i.has(r.key)&&(void 0===o||o.mutation instanceof sw)?s=s.insert(r.key,r):void 0!==o?(a.set(r.key,o.mutation.getFieldMask()),sy(o.mutation,r,o.mutation.getFieldMask(),et.now())):a.set(r.key,ru.empty())}),this.recalculateAndSaveOverlays(t,s).next(t=>(t.forEach((t,r)=>a.set(t,r)),r.forEach((t,r)=>{var n;return o.set(t,new uv(r,null!==(n=a.get(t))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(t,r){let n=iY(),i=new rt((t,r)=>t-r),s=iX();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(t=>{for(let s of t)s.keys().forEach(t=>{let a=r.get(t);if(null===a)return;let o=n.get(t)||ru.empty();o=s.applyToLocalView(a,o),n.set(t,o);let l=(i.get(s.batchId)||iX()).add(t);i=i.insert(s.batchId,l)})}).next(()=>{let a=[],o=i.getReverseIterator();for(;o.hasNext();){let i=o.getNext(),l=i.key,u=i.value,c=i$();u.forEach(t=>{if(!s.has(t)){let i=sm(r.get(t),n.get(t));null!==i&&c.set(t,i),s=s.add(t)}}),a.push(this.documentOverlayCache.saveOverlays(t,l,c))}return eI.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,r,n,i){return iy(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):i_(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-s.size):eI.resolve(iK()),o=eu,l=s;return a.next(r=>eI.forEach(r,(r,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),s.get(r))?eI.resolve():this.remoteDocumentCache.getEntry(t,r).next(t=>{l=l.insert(r,t)})).next(()=>this.populateOverlays(t,r,s)).next(()=>this.computeViews(t,l,r,iX())).next(t=>({batchId:o,changes:iG(t)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new el(r)).next(t=>{let r=iH();return t.isFoundDocument()&&(r=r.insert(t.key,t)),r})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){let s=r.collectionGroup,a=iH();return this.indexManager.getCollectionParents(t,s).next(o=>eI.forEach(o,o=>{let l=ip(r,o.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,n,i).next(t=>{t.forEach((t,r)=>{a=a.insert(t,r)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,s,i))).next(t=>{s.forEach((r,n)=>{let i=n.getKey();null===t.get(i)&&(t=t.insert(i,nw.newInvalidDocument(i)))});let n=iH();return t.forEach((t,i)=>{let a=s.get(t);void 0!==a&&sy(a.mutation,i,ru.empty(),et.now()),iP(r,i)&&(n=n.insert(t,i))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t){this.serializer=t,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(t,r){return eI.resolve(this.bundles.get(r))}saveBundleMetadata(t,r){return this.bundles.set(r.id,oN(r)),eI.resolve()}getNamedQuery(t,r){return eI.resolve(this.namedQueries.get(r))}saveNamedQuery(t,r){return this.namedQueries.set(r.name,oO(r)),eI.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.overlays=new rt(el.comparator),this.overlayByBatchId=new Map}getOverlay(t,r){return eI.resolve(this.overlays.get(r))}getOverlays(t,r){let n=iK();return eI.forEach(r,r=>this.getOverlay(t,r).next(t=>{null!==t&&n.set(r,t)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((n,i)=>{this.saveOverlay(t,r,i)}),eI.resolve()}removeOverlaysForBatchId(t,r,n){let i=this.overlayByBatchId.get(n);return void 0!==i&&(i.forEach(t=>this.overlays=this.overlays.remove(t)),this.overlayByBatchId.delete(n)),eI.resolve()}getOverlaysForCollection(t,r,n){let i=iK(),s=r.length+1,a=new el(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let t=o.getNext().value,a=t.getKey();if(!r.isPrefixOf(a.path))break;a.path.length===s&&t.largestBatchId>n&&i.set(t.getKey(),t)}return eI.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let s=new rt((t,r)=>t-r),a=this.overlays.getIterator();for(;a.hasNext();){let t=a.getNext().value;if(t.getKey().getCollectionGroup()===r&&t.largestBatchId>n){let r=s.get(t.largestBatchId);null===r&&(r=iK(),s=s.insert(t.largestBatchId,r)),r.set(t.getKey(),t)}}let o=iK(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((t,r)=>o.set(t,r)),!(o.size()>=i)););return eI.resolve(o)}saveOverlay(t,r,n){let i=this.overlays.get(n.key);if(null!==i){let t=this.overlayByBatchId.get(i.largestBatchId).delete(n.key);this.overlayByBatchId.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new sM(r,n));let s=this.overlayByBatchId.get(r);void 0===s&&(s=iX(),this.overlayByBatchId.set(r,s)),this.overlayByBatchId.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.sessionToken=rf.EMPTY_BYTE_STRING}getSessionToken(t){return eI.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,eI.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.refsByKey=new rs(uT.compareByKey),this.refsByTarget=new rs(uT.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(t,r){let n=new uT(t,r);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)}addReferences(t,r){t.forEach(t=>this.addReference(t,r))}removeReference(t,r){this.removeRef(new uT(t,r))}removeReferences(t,r){t.forEach(t=>this.removeReference(t,r))}removeReferencesForId(t){let r=new el(new es([])),n=new uT(r,t),i=new uT(r,t+1),s=[];return this.refsByTarget.forEachInRange([n,i],t=>{this.removeRef(t),s.push(t.key)}),s}removeAllReferences(){this.refsByKey.forEach(t=>this.removeRef(t))}removeRef(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)}referencesForId(t){let r=new el(new es([])),n=new uT(r,t),i=new uT(r,t+1),s=iX();return this.refsByTarget.forEachInRange([n,i],t=>{s=s.add(t.key)}),s}containsKey(t){let r=new uT(t,0),n=this.refsByKey.firstAfterOrEqual(r);return null!==n&&t.isEqual(n.key)}}class uT{constructor(t,r){this.key=t,this.targetOrBatchId=r}static compareByKey(t,r){return el.comparator(t.key,r.key)||Q(t.targetOrBatchId,r.targetOrBatchId)}static compareByTargetId(t,r){return Q(t.targetOrBatchId,r.targetOrBatchId)||el.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new rs(uT.compareByKey)}checkEmpty(t){return eI.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,n,i){let s=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new sD(s,r,n,i);for(let r of(this.mutationQueue.push(a),i))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new uT(r.key,s)),this.indexManager.addToCollectionParentIndex(t,r.key.path.popLast());return eI.resolve(a)}lookupMutationBatch(t,r){return eI.resolve(this.findMutationBatch(r))}getNextMutationBatchAfterBatchId(t,r){let n=r+1,i=this.indexOfBatchId(n),s=i<0?0:i;return eI.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return eI.resolve(0===this.mutationQueue.length?rP:this.nextBatchId-1)}getAllMutationBatches(t){return eI.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){let n=new uT(r,0),i=new uT(r,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([n,i],t=>{let r=this.findMutationBatch(t.targetOrBatchId);s.push(r)}),eI.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new rs(Q);return r.forEach(t=>{let r=new uT(t,0),i=new uT(t,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([r,i],t=>{n=n.add(t.targetOrBatchId)})}),eI.resolve(this.findMutationBatches(n))}getAllMutationBatchesAffectingQuery(t,r){let n=r.path,i=n.length+1,s=n;el.isDocumentKey(s)||(s=s.child(""));let a=new uT(new el(s),0),o=new rs(Q);return this.batchesByDocumentKey.forEachWhile(t=>{let r=t.key.path;return!!n.isPrefixOf(r)&&(r.length===i&&(o=o.add(t.targetOrBatchId)),!0)},a),eI.resolve(this.findMutationBatches(o))}findMutationBatches(t){let r=[];return t.forEach(t=>{let n=this.findMutationBatch(t);null!==n&&r.push(n)}),r}removeMutationBatch(t,r){P(0===this.indexOfExistingBatchId(r.batchId,"removed")),this.mutationQueue.shift();let n=this.batchesByDocumentKey;return eI.forEach(r.mutations,i=>{let s=new uT(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.batchesByDocumentKey=n})}removeCachedMutationKeys(t){}containsKey(t,r){let n=new uT(r,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return eI.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,eI.resolve()}indexOfExistingBatchId(t,r){return this.indexOfBatchId(t)}indexOfBatchId(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}findMutationBatch(t){let r=this.indexOfBatchId(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return new rt(el.comparator)}class uR{constructor(t){this.sizer=t,this.docs=uC(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){let n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.sizer(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){let n=this.docs.get(r);return eI.resolve(n?n.document.mutableCopy():nw.newInvalidDocument(r))}getEntries(t,r){let n=iz();return r.forEach(t=>{let r=this.docs.get(t);n=n.insert(t,r?r.document.mutableCopy():nw.newInvalidDocument(t))}),eI.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let s=iz(),a=r.path,o=new el(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){let{key:t,value:{document:o}}=l.getNext();if(!a.isPrefixOf(t.path))break;!(t.path.length>a.length+1||0>=eT(eS(o),n))&&(i.has(o.key)||iP(r,o))&&(s=s.insert(o.key,o.mutableCopy()))}return eI.resolve(s)}getAllFromCollectionGroup(t,r,n,i){k()}forEachDocumentKey(t,r){return eI.forEach(this.docs,t=>r(t))}newChangeBuffer(t){return new uA(this)}getSize(t){return eI.resolve(this.size)}}function uI(t){return new uR(t)}class uA extends ua{constructor(t){super(),this.documentCache=t}applyChanges(t){let r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.documentCache.addEntry(t,i)):this.documentCache.removeEntry(n)}),eI.waitFor(r)}getFromCache(t,r){return this.documentCache.getEntry(t,r)}getAllFromCache(t,r){return this.documentCache.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.persistence=t,this.targets=new iB(t=>n6(t),n8),this.lastRemoteSnapshotVersion=er.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new uE,this.targetCount=0,this.targetIdGenerator=l$.forTargetCache()}forEachTarget(t,r){return this.targets.forEach((t,n)=>r(n)),eI.resolve()}getLastRemoteSnapshotVersion(t){return eI.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return eI.resolve(this.highestSequenceNumber)}allocateTargetId(t){return this.highestTargetId=this.targetIdGenerator.next(),eI.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.highestSequenceNumber&&(this.highestSequenceNumber=r),eI.resolve()}saveTargetData(t){this.targets.set(t.target,t);let r=t.targetId;r>this.highestTargetId&&(this.targetIdGenerator=new l$(r),this.highestTargetId=r),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)}addTargetData(t,r){return this.saveTargetData(r),this.targetCount+=1,eI.resolve()}updateTargetData(t,r){return this.saveTargetData(r),eI.resolve()}removeTargetData(t,r){return this.targets.delete(r.target),this.references.removeReferencesForId(r.targetId),this.targetCount-=1,eI.resolve()}removeTargets(t,r,n){let i=0,s=[];return this.targets.forEach((a,o)=>{o.sequenceNumber<=r&&null===n.get(o.targetId)&&(this.targets.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),eI.waitFor(s).next(()=>i)}getTargetCount(t){return eI.resolve(this.targetCount)}getTargetData(t,r){let n=this.targets.get(r)||null;return eI.resolve(n)}addMatchingKeys(t,r,n){return this.references.addReferences(r,n),eI.resolve()}removeMatchingKeys(t,r,n){this.references.removeReferences(r,n);let i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(r=>{s.push(i.markPotentiallyOrphaned(t,r))}),eI.waitFor(s)}removeMatchingKeysForTargetId(t,r){return this.references.removeReferencesForId(r),eI.resolve()}getMatchingKeysForTargetId(t,r){let n=this.references.referencesForId(r);return eI.resolve(n)}containsKey(t,r){return eI.resolve(this.references.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uN="MemoryPersistence";class uk{constructor(t,r){this.mutationQueues={},this.overlays={},this.listenSequence=new eG(0),this._started=!1,this._started=!0,this.globalsCache=new uS,this.referenceDelegate=t(this),this.targetCache=new uO(this);let n=t=>this.referenceDelegate.documentSize(t);this.indexManager=new lO,this.remoteDocumentCache=uI(n),this.serializer=new oh(r),this.bundleCache=new u_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new ub,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.mutationQueues[t.toKey()];return n||(n=new uw(r,this.referenceDelegate),this.mutationQueues[t.toKey()]=n),n}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(t,r,n){I(uN,"Starting transaction:",t);let i=new uP(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(t=>this.referenceDelegate.onTransactionCommitted(i).next(()=>t)).toPromise().then(t=>(i.raiseOnCommittedEvent(),t))}mutationQueuesContainKey(t,r){return eI.or(Object.values(this.mutationQueues).map(n=>()=>n.containsKey(t,r)))}}class uP extends eC{constructor(t){super(),this.currentSequenceNumber=t}}class ux{constructor(t){this.persistence=t,this.localViewReferences=new uE,this._orphanedDocuments=null}static factory(t){return new ux(t)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw k()}addReference(t,r,n){return this.localViewReferences.addReference(n,r),this.orphanedDocuments.delete(n.toString()),eI.resolve()}removeReference(t,r,n){return this.localViewReferences.removeReference(n,r),this.orphanedDocuments.add(n.toString()),eI.resolve()}markPotentiallyOrphaned(t,r){return this.orphanedDocuments.add(r.toString()),eI.resolve()}removeTarget(t,r){this.localViewReferences.removeReferencesForId(r.targetId).forEach(t=>this.orphanedDocuments.add(t.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(t=>{t.forEach(t=>this.orphanedDocuments.add(t.toString()))}).next(()=>n.removeTargetData(t,r))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(t){let r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eI.forEach(this.orphanedDocuments,n=>{let i=el.fromPath(n);return this.isReferenced(t,i).next(t=>{t||r.removeEntry(i,er.min())})}).next(()=>(this._orphanedDocuments=null,r.apply(t)))}updateLimboDocument(t,r){return this.isReferenced(t,r).next(t=>{t?this.orphanedDocuments.delete(r.toString()):this.orphanedDocuments.add(r.toString())})}documentSize(t){return 0}isReferenced(t,r){return eI.or([()=>eI.resolve(this.localViewReferences.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.mutationQueuesContainKey(t,r)])}}class uD{constructor(t,r){this.persistence=t,this.orphanedSequenceNumbers=new iB(t=>eZ(t.path),(t,r)=>t.isEqual(r)),this.garbageCollector=ut(this,r)}static factory(t,r){return new uD(t,r)}onTransactionStarted(){}onTransactionCommitted(t){return eI.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}getSequenceNumberCount(t){let r=this.orphanedDocumentCount(t);return this.persistence.getTargetCache().getTargetCount(t).next(t=>r.next(r=>t+r))}orphanedDocumentCount(t){let r=0;return this.forEachOrphanedDocumentSequenceNumber(t,t=>{r++}).next(()=>r)}forEachOrphanedDocumentSequenceNumber(t,r){return eI.forEach(this.orphanedSequenceNumbers,(n,i)=>this.isPinned(t,n,i).next(t=>t?eI.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.forEachDocumentKey(t,i=>this.isPinned(t,i,r).next(t=>{t||(n++,s.removeEntry(i,er.min()))})).next(()=>s.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.orphanedSequenceNumbers.set(r,t.currentSequenceNumber),eI.resolve()}removeTarget(t,r){let n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.orphanedSequenceNumbers.set(n,t.currentSequenceNumber),eI.resolve()}removeReference(t,r,n){return this.orphanedSequenceNumbers.set(n,t.currentSequenceNumber),eI.resolve()}updateLimboDocument(t,r){return this.orphanedSequenceNumbers.set(r,t.currentSequenceNumber),eI.resolve()}documentSize(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=nn(t.data.value)),r}isPinned(t,r,n){return eI.or([()=>this.persistence.mutationQueuesContainKey(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{let t=this.orphanedSequenceNumbers.get(r);return eI.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(t){this.serializer=t}createOrUpgrade(t,r,n,i){let s=new eN("createOrUpgrade",r);n<1&&i>=1&&(uF(t),uj(t),uq(t),uB(t));let a=eI.resolve();return n<3&&i>=3&&(0!==n&&(uH(t),uq(t)),a=a.next(()=>uG(s))),n<4&&i>=4&&(0!==n&&(a=a.next(()=>uV(t,s))),a=a.next(()=>{uK(t)})),n<5&&i>=5&&(a=a.next(()=>this.removeAcknowledgedMutations(s))),n<6&&i>=6&&(a=a.next(()=>(uz(t),this.addDocumentGlobal(s)))),n<7&&i>=7&&(a=a.next(()=>this.ensureSequenceNumbers(s))),n<8&&i>=8&&(a=a.next(()=>this.createCollectionParentIndex(t,s))),n<9&&i>=9&&(a=a.next(()=>{uW(t)})),n<10&&i>=10&&(a=a.next(()=>this.rewriteCanonicalIds(s))),n<11&&i>=11&&(a=a.next(()=>{u$(t),uY(t)})),n<12&&i>=12&&(a=a.next(()=>{uZ(t)})),n<13&&i>=13&&(a=a.next(()=>uU(t)).next(()=>this.rewriteRemoteDocumentCache(t,s)).next(()=>t.deleteObjectStore(e1))),n<14&&i>=14&&(a=a.next(()=>this.runOverlayMigration(t,s))),n<15&&i>=15&&(a=a.next(()=>uQ(t))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore(tL).clear()}).next(()=>{r.objectStore(tV).clear()})),n<17&&i>=17&&(a=a.next(()=>{uJ(t)})),a}addDocumentGlobal(t){let r=0;return t.store(e1).iterate((t,n)=>{r+=lB(n)}).next(()=>{let n={byteSize:r};return t.store(td).put(th,n)})}removeAcknowledgedMutations(t){let r=t.store(e3),n=t.store(e6);return r.loadAll().next(r=>eI.forEach(r,r=>{let i=IDBKeyRange.bound([r.userId,rP],[r.userId,r.lastAcknowledgedBatchId]);return n.loadAll(e8,i).next(n=>eI.forEach(n,n=>{P(n.userId===r.userId);let i=ob(this.serializer,n);return lV(t,r.userId,i).next(()=>{})}))}))}ensureSequenceNumbers(t){let r=t.store(tv),n=t.store(e1);return t.store(tE).get(tS).next(t=>{let i=n=>r.put({targetId:0,path:eZ(n),sequenceNumber:t.highestListenSequenceNumber}),s=[];return n.iterate((t,n)=>{let a=new es(t),o=uM(a);s.push(r.get(o).next(t=>t?eI.resolve():i(a)))}).next(()=>eI.waitFor(s))})}createCollectionParentIndex(t,r){t.createObjectStore(tT,{keyPath:tw});let n=r.store(tT),i=new lN,s=t=>{if(i.add(t)){let r=t.lastSegment(),i=t.popLast();return n.put({collectionId:r,parent:eZ(i)})}};return r.store(e1).iterate({keysOnly:!0},(t,r)=>s(new es(t).popLast())).next(()=>r.store(ti).iterate({keysOnly:!0},([t,r,n],i)=>s(e0(r).popLast())))}rewriteCanonicalIds(t){let r=t.store(tf);return r.iterate((t,n)=>{let i=oS(n),s=oE(this.serializer,i);return r.put(s)})}rewriteRemoteDocumentCache(t,r){let n=r.store(e1),i=[];return n.iterate((t,n)=>{let s=r.store(ts),a=uX(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(s.put(o))}).next(()=>eI.waitFor(i))}runOverlayMigration(t,r){let n=r.store(e6),i=ul(this.serializer),s=new uk(ux.factory,this.serializer.remoteSerializer);return n.loadAll().next(t=>{let n=new Map;return t.forEach(t=>{var r;let i=null!==(r=n.get(t.userId))&&void 0!==r?r:iX();ob(this.serializer,t).keys().forEach(t=>i=i.add(t)),n.set(t.userId,i)}),eI.forEach(n,(t,n)=>{let a=new b(n),o=oB.forUser(this.serializer,a),l=s.getIndexManager(a);return new uy(i,lU.forUser(a,this.serializer,l,s.referenceDelegate),o,l).recalculateAndSaveOverlaysForDocumentKeys(new t5(r,eG.INVALID),t).next()})})}}function uM(t){return[0,eZ(t)]}function uF(t){t.createObjectStore(e2)}function uj(t){t.createObjectStore(e3,{keyPath:e5}),t.createObjectStore(e6,{keyPath:e9,autoIncrement:!0}).createIndex(e8,e7,{unique:!0}),t.createObjectStore(ti)}function uV(t,r){return r.store(e6).loadAll().next(n=>{t.deleteObjectStore(e6),t.createObjectStore(e6,{keyPath:e9,autoIncrement:!0}).createIndex(e8,e7,{unique:!0});let i=r.store(e6),s=n.map(t=>i.put(t));return eI.waitFor(s)})}function uB(t){t.createObjectStore(e1)}function uU(t){let r=t.createObjectStore(ts,{keyPath:ta});r.createIndex(to,tl),r.createIndex(tu,tc)}function uz(t){t.createObjectStore(td)}function uq(t){t.createObjectStore(tv,{keyPath:ty}).createIndex(t_,tb,{unique:!0}),t.createObjectStore(tf,{keyPath:tp}).createIndex(tg,tm,{unique:!0}),t.createObjectStore(tE)}function uH(t){t.deleteObjectStore(tv),t.deleteObjectStore(tf),t.deleteObjectStore(tE)}function uW(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}function uG(t){let r=t.store(tE),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:er.min().toTimestamp(),targetCount:0};return r.put(tS,n)}function uK(t){t.createObjectStore(tC,{keyPath:tR})}function u$(t){t.createObjectStore(tI,{keyPath:tA})}function uY(t){t.createObjectStore(tO,{keyPath:tN})}function uQ(t){t.createObjectStore(tk,{keyPath:tP,autoIncrement:!0}).createIndex(tx,tD,{unique:!1}),t.createObjectStore(tL,{keyPath:tM}).createIndex(tF,tj,{unique:!1}),t.createObjectStore(tV,{keyPath:tB}).createIndex(tU,tz,{unique:!1})}function uZ(t){let r=t.createObjectStore(tq,{keyPath:tH});r.createIndex(tW,tG,{unique:!1}),r.createIndex(tK,t$,{unique:!1})}function uJ(t){t.createObjectStore(tY,{keyPath:tQ})}function uX(t){return t.document?new el(es.fromString(t.document.name).popFirst(5)):t.noDocument?el.fromSegments(t.noDocument.path):t.unknownDocument?el.fromSegments(t.unknownDocument.path):k()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0="IndexedDbPersistence",u1=18e5,u2=5e3,u4=4e3,u3="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",u5="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",u6="firestore_zombie",u9="main";class u8{constructor(t,r,n,i,s,a,o,l,u,c,d=um){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=n,this.queue=s,this.window=a,this.document=o,this.sequenceNumberSyncer=u,this.forceOwningTab=c,this.schemaVersion=d,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=t=>Promise.resolve(),!u8.isAvailable())throw new M(L.UNIMPLEMENTED,u5);this.referenceDelegate=new ur(this,i),this.dbName=r+u9,this.serializer=new oh(l),this.simpleDb=new ek(this.dbName,this.schemaVersion,new uL(this.serializer)),this.globalsCache=new oz,this.targetCache=new lY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ul(this.serializer),this.bundleCache=new oF,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===c&&A(u0,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new M(L.FAILED_PRECONDITION,u3);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.targetCache.getHighestSequenceNumber(t))}).then(t=>{this.listenSequence=new eG(t,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(t=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(t)))}setPrimaryStateListener(t){return this.primaryStateListener=async r=>{if(this.started)return t(r)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.simpleDb.setVersionChangeListener(async r=>{null===r.newVersion&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ce(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(t).next(t=>{t||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(t)).next(r=>this.isPrimary&&!r?this.releasePrimaryLeaseIfHeld(t).next(()=>!1):!!r&&this.acquireOrExtendPrimaryLease(t).next(()=>!0))).catch(t=>{if(eL(t))return I(u0,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return I(u0,"Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.queue.enqueueRetryable(()=>this.primaryStateListener(t)),this.isPrimary=t})}verifyPrimaryLease(t){return u7(t).get(e4).next(t=>eI.resolve(this.isLocalClient(t)))}removeClientMetadata(t){return ce(t).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,u1)){this.lastGarbageCollectionTime=Date.now();let t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=t6(t,tC);return r.loadAll().next(t=>{let n=this.filterActiveClients(t,u1),i=t.filter(t=>-1===n.indexOf(t));return eI.forEach(i,t=>r.delete(t.clientId)).next(()=>i)})}).catch(()=>[]);if(this.webStorage)for(let r of t)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(r.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",u4,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(t){return!!t&&t.ownerId===this.clientId}canActAsPrimary(t){return this.forceOwningTab?eI.resolve(!0):u7(t).get(e4).next(r=>{if(null!==r&&this.isWithinAge(r.leaseTimestampMs,u2)&&!this.isClientZombied(r.ownerId)){if(this.isLocalClient(r)&&this.networkEnabled)return!0;if(!this.isLocalClient(r)){if(!r.allowTabSynchronization)throw new M(L.FAILED_PRECONDITION,u3);return!1}}return!!this.networkEnabled&&!!this.inForeground||ce(t).loadAll().next(t=>void 0===this.filterActiveClients(t,u2).find(t=>{if(this.clientId!==t.clientId){let r=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,i=this.networkEnabled===t.networkEnabled;if(r||n&&i)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&I(u0,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[e2,tC],t=>{let r=new t5(t,eG.INVALID);return this.releasePrimaryLeaseIfHeld(r).next(()=>this.removeClientMetadata(r))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(t,r){return t.filter(t=>this.isWithinAge(t.updateTimeMs,r)&&!this.isClientZombied(t.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",t=>ce(t).loadAll().next(t=>this.filterActiveClients(t,u1).map(t=>t.clientId)))}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(t,r){return lU.forUser(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new lx(t,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(t){return oB.forUser(this.serializer,t)}getBundleCache(){return this.bundleCache}runTransaction(t,r,n){let i;I(u0,"Starting transaction:",t);let s="readonly"===r?"readonly":"readwrite",a=t3(this.schemaVersion);return this.simpleDb.runTransaction(t,s,a,s=>(i=new t5(s,this.listenSequence?this.listenSequence.next():eG.INVALID),"readwrite-primary"===r)?this.verifyPrimaryLease(i).next(t=>!!t||this.canActAsPrimary(i)).next(r=>{if(!r)throw A(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new M(L.FAILED_PRECONDITION,ew);return n(i)}).next(t=>this.acquireOrExtendPrimaryLease(i).next(()=>t)):this.verifyAllowTabSynchronization(i).next(()=>n(i))).then(t=>(i.raiseOnCommittedEvent(),t))}verifyAllowTabSynchronization(t){return u7(t).get(e4).next(t=>{if(null!==t&&this.isWithinAge(t.leaseTimestampMs,u2)&&!this.isClientZombied(t.ownerId)&&!this.isLocalClient(t)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!t.allowTabSynchronization))throw new M(L.FAILED_PRECONDITION,u3)})}acquireOrExtendPrimaryLease(t){let r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return u7(t).put(e4,r)}static isAvailable(){return ek.isAvailable()}releasePrimaryLeaseIfHeld(t){let r=u7(t);return r.get(e4).next(t=>this.isLocalClient(t)?(I(u0,"Releasing primary lease."),r.delete(e4)):eI.resolve())}isWithinAge(t,r){let n=Date.now(),i=n-r,s=n;return!(t<i)&&(!(t>s)||(A(`Detected an update time that is in the future: ${t} > ${s}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let t=/(?:Version|Mobile)\/1[456]/;c.isSafari()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(t){var r;try{let n=(null===(r=this.webStorage)||void 0===r?void 0:r.getItem(this.zombiedClientLocalStorageKey(t)))!==null;return I(u0,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return A(u0,"Failed to get zombied client id.",t),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){A("Failed to set zombie client id.",t)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}}zombiedClientLocalStorageKey(t){return`${u6}_${this.persistenceKey}_${t}`}}function u7(t){return t6(t,e2)}function ce(t){return t6(t,tC)}function ct(t,r){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+r+"/"+n+"/"}async function cr(t){if(!ek.isAvailable())return Promise.resolve();let r=t+u9;await ek.delete(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,r,n,i,s){r=[...r],(t=[...t]).sort(n),r.sort(n);let a=t.length,o=r.length,l=0,u=0;for(;l<o&&u<a;){let a=n(t[u],r[l]);a<0?s(t[u++]):a>0?i(r[l++]):(l++,u++)}for(;l<o;)i(r[l++]);for(;u<a;)s(t[u++])}function ci(t,r){if(t.length!==r.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==r[n])return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs="LocalStore",ca=3e8;class co{constructor(t,r,n,i){this.persistence=t,this.queryEngine=r,this.serializer=i,this.targetDataByTarget=new rt(Q),this.targetIdByTarget=new iB(t=>n6(t),n8),this.collectionGroupReadTime=new Map,this.remoteDocuments=t.getRemoteDocumentCache(),this.targetCache=t.getTargetCache(),this.bundleCache=t.getBundleCache(),this.initializeUserComponents(n)}initializeUserComponents(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uy(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.targetDataByTarget))}}function cl(t,r,n,i){return new co(t,r,n,i)}async function cu(t,r){let n=D(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next(s=>(i=s,n.initializeUserComponents(r),n.mutationQueue.getAllMutationBatches(t))).next(r=>{let s=[],a=[],o=iX();for(let t of i)for(let r of(s.push(t.batchId),t.mutations))o=o.add(r.key);for(let t of r)for(let r of(a.push(t.batchId),t.mutations))o=o.add(r.key);return n.localDocuments.getDocuments(t,o).next(t=>({affectedDocuments:t,removedBatchIds:s,addedBatchIds:a}))})})}function cc(t,r){let n,i;let s=D(t),a=et.now(),o=r.reduce((t,r)=>t.add(r.key),iX());return s.persistence.runTransaction("Locally write mutations","readwrite",t=>{let l=iz(),u=iX();return s.remoteDocuments.getEntries(t,o).next(t=>{(l=t).forEach((t,r)=>{r.isValidDocument()||(u=u.add(t))})}).next(()=>s.localDocuments.getOverlayedDocuments(t,l)).next(i=>{n=i;let o=[];for(let t of r){let r=s_(t,n.get(t.key).overlayedDocument);null!=r&&o.push(new sw(t.key,r,nT(r.value.mapValue),sf.exists(!0)))}return s.mutationQueue.addMutationBatch(t,a,o,r)}).next(r=>{i=r;let a=r.applyToLocalDocumentSet(n,u);return s.documentOverlayCache.saveOverlays(t,r.batchId,a)})}).then(()=>({batchId:i.batchId,changes:iG(n)}))}function cd(t,r){let n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{let i=r.batch.keys(),s=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});return cR(n,t,r,s).next(()=>s.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,r.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,ch(r))).next(()=>n.localDocuments.getDocuments(t,i))})}function ch(t){let r=iX();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(r=r.add(t.batch.mutations[n].key));return r}function cf(t,r){let n=D(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let i;return n.mutationQueue.lookupMutationBatch(t,r).next(r=>(P(null!==r),i=r.keys(),n.mutationQueue.removeMutationBatch(t,r))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,r)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i)).next(()=>n.localDocuments.getDocuments(t,i))})}function cp(t){let r=D(t);return r.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>r.mutationQueue.getHighestUnacknowledgedBatchId(t))}function cg(t){let r=D(t);return r.persistence.runTransaction("Get last remote snapshot version","readonly",t=>r.targetCache.getLastRemoteSnapshotVersion(t))}function cm(t,r){let n=D(t),i=r.snapshotVersion,s=n.targetDataByTarget;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{let a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});s=n.targetDataByTarget;let o=[];r.targetChanges.forEach((a,l)=>{let u=s.get(l);if(!u)return;o.push(n.targetCache.removeMatchingKeys(t,a.removedDocuments,l).next(()=>n.targetCache.addMatchingKeys(t,a.addedDocuments,l)));let c=u.withSequenceNumber(t.currentSequenceNumber);null!==r.targetMismatches.get(l)?c=c.withResumeToken(rf.EMPTY_BYTE_STRING,er.min()).withLastLimboFreeSnapshotVersion(er.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,i)),s=s.insert(l,c),cy(u,c,a)&&o.push(n.targetCache.updateTargetData(t,c))});let l=iz(),u=iX();if(r.documentUpdates.forEach(i=>{r.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),o.push(cv(t,a,r.documentUpdates).next(t=>{l=t.changedDocuments,u=t.existenceChangedKeys})),!i.isEqual(er.min())){let r=n.targetCache.getLastRemoteSnapshotVersion(t).next(r=>n.targetCache.setTargetsMetadata(t,t.currentSequenceNumber,i));o.push(r)}return eI.waitFor(o).next(()=>a.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,l,u)).next(()=>l)}).then(t=>(n.targetDataByTarget=s,t))}function cv(t,r,n){let i=iX(),s=iX();return n.forEach(t=>i=i.add(t)),r.getEntries(t,i).next(t=>{let i=iz();return n.forEach((n,a)=>{let o=t.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(n)),a.isNoDocument()&&a.version.isEqual(er.min())?(r.removeEntry(n,a.readTime),i=i.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(r.addEntry(a),i=i.insert(n,a)):I(cs,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{changedDocuments:i,existenceChangedKeys:s}})}function cy(t,r,n){return!!(0===t.resumeToken.approximateByteSize()||r.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=ca)||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}async function c_(t,r){let n=D(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>eI.forEach(r,r=>eI.forEach(r.addedKeys,i=>n.persistence.referenceDelegate.addReference(t,r.targetId,i)).next(()=>eI.forEach(r.removedKeys,i=>n.persistence.referenceDelegate.removeReference(t,r.targetId,i)))))}catch(t){if(eL(t))I(cs,"Failed to update sequence numbers: "+t);else throw t}for(let t of r){let r=t.targetId;if(!t.fromCache){let t=n.targetDataByTarget.get(r),i=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(i);n.targetDataByTarget=n.targetDataByTarget.insert(r,s)}}}function cb(t,r){let n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===r&&(r=rP),n.mutationQueue.getNextMutationBatchAfterBatchId(t,r)))}function cS(t,r){let n=D(t);return n.persistence.runTransaction("read document","readonly",t=>n.localDocuments.getDocument(t,r))}function cE(t,r){let n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let i;return n.targetCache.getTargetData(t,r).next(s=>s?(i=s,eI.resolve(i)):n.targetCache.allocateTargetId(t).next(s=>(i=new od(r,s,"TargetPurposeListen",t.currentSequenceNumber),n.targetCache.addTargetData(t,i).next(()=>i))))}).then(t=>{let i=n.targetDataByTarget.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.targetDataByTarget=n.targetDataByTarget.insert(t.targetId,t),n.targetIdByTarget.set(r,t.targetId)),t})}function cT(t,r,n){let i=D(t),s=i.targetIdByTarget.get(n);return void 0!==s?eI.resolve(i.targetDataByTarget.get(s)):i.targetCache.getTargetData(r,n)}async function cw(t,r,n){let i=D(t),s=i.targetDataByTarget.get(r),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,t=>i.persistence.referenceDelegate.removeTarget(t,s))}catch(t){if(eL(t))I(cs,`Failed to update sequence numbers for target ${r}: ${t}`);else throw t}i.targetDataByTarget=i.targetDataByTarget.remove(r),i.targetIdByTarget.delete(s.target)}function cC(t,r,n){let i=D(t),s=er.min(),a=iX();return i.persistence.runTransaction("Execute query","readwrite",t=>cT(i,t,iS(r)).next(r=>{if(r)return s=r.lastLimboFreeSnapshotVersion,i.targetCache.getMatchingKeysForTargetId(t,r.targetId).next(t=>{a=t})}).next(()=>i.queryEngine.getDocumentsMatchingQuery(t,r,n?s:er.min(),n?a:iX())).next(t=>(cP(i,iF(r),t),{documents:t,remoteKeys:a})))}function cR(t,r,n,i){let s=n.batch,a=s.keys(),o=eI.resolve();return a.forEach(t=>{o=o.next(()=>i.getEntry(r,t)).next(r=>{let a=n.docVersions.get(t);P(null!==a),0>r.version.compareTo(a)&&(s.applyToRemoteDocument(r,n),r.isValidDocument()&&(r.setReadTime(n.commitVersion),i.addEntry(r)))})}),o.next(()=>t.mutationQueue.removeMutationBatch(r,s))}function cI(t,r){let n=D(t),i=D(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>i.lookupMutationKeys(t,r).next(r=>r?n.localDocuments.getDocuments(t,r):eI.resolve(null)))}function cA(t,r){D(D(t,co).mutationQueue).removeCachedMutationKeys(r)}function cO(t){return D(D(t,co).persistence).getActiveClients()}function cN(t,r){let n=D(t),i=D(n.targetCache),s=n.targetDataByTarget.get(r);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",t=>i.getTargetDataForTarget(t,r).next(t=>t?t.target:null))}function ck(t,r){let n=D(t),i=n.collectionGroupReadTime.get(r)||er.min();return n.persistence.runTransaction("Get new document changes","readonly",t=>n.remoteDocuments.getAllFromCollectionGroup(t,r,eb(i,eu),Number.MAX_SAFE_INTEGER)).then(t=>(cP(n,r,t),t))}function cP(t,r,n){let i=t.collectionGroupReadTime.get(r)||er.min();n.forEach((t,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.collectionGroupReadTime.set(r,i)}function cx(t){return iS(ih(es.fromString(`__bundle__/docs/${t}`)))}async function cD(t,r,n,i){let s=D(t),a=iX(),o=iz();for(let t of n){let n=r.toDocumentKey(t.metadata.name);t.document&&(a=a.add(n));let i=r.toMutableDocument(t);i.setReadTime(r.toSnapshotVersion(t.metadata.readTime)),o=o.insert(n,i)}let l=s.remoteDocuments.newChangeBuffer({trackRemovals:!0}),u=await cE(s,cx(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",t=>cv(t,l,o).next(r=>(l.apply(t),r)).next(r=>s.targetCache.removeMatchingKeysForTargetId(t,u.targetId).next(()=>s.targetCache.addMatchingKeys(t,a,u.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(t,r.changedDocuments,r.existenceChangedKeys)).next(()=>r.changedDocuments)))}function cL(t,r){let n=D(t),i=ac(r.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.bundleCache.getBundleMetadata(t,r.id)).then(t=>!!t&&t.createTime.compareTo(i)>=0)}function cM(t,r){let n=D(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.bundleCache.saveBundleMetadata(t,r))}function cF(t,r){let n=D(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.bundleCache.getNamedQuery(t,r))}async function cj(t,r,n=iX()){let i=await cE(t,iS(oA(r.bundledQuery))),s=D(t);return s.persistence.runTransaction("Save named query","readwrite",t=>{let a=ac(r.readTime);if(i.snapshotVersion.compareTo(a)>=0)return s.bundleCache.saveNamedQuery(t,r);let o=i.withResumeToken(rf.EMPTY_BYTE_STRING,a);return s.targetDataByTarget=s.targetDataByTarget.insert(o.targetId,o),s.targetCache.updateTargetData(t,o).next(()=>s.targetCache.removeMatchingKeysForTargetId(t,i.targetId)).next(()=>s.targetCache.addMatchingKeys(t,n,i.targetId)).next(()=>s.bundleCache.saveNamedQuery(t,r))})}async function cV(t,r){let n=D(t),i=n.indexManager,s=[];return n.persistence.runTransaction("Configure indexes","readwrite",t=>i.getFieldIndexes(t).next(n=>cn(n,r,eg,r=>{s.push(i.addFieldIndex(t,r))},r=>{s.push(i.deleteFieldIndex(t,r))})).next(()=>eI.waitFor(s)))}function cB(t,r){D(t).queryEngine.indexAutoCreationEnabled=r}function cU(t){let r=D(t),n=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",t=>n.deleteAllFieldIndexes(t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cq=100;function cH(){return c.isSafari()?8:eP(c.getUA())>0?6:4}class cW{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=cq,this.relativeIndexReadCostPerDocument=cH()}initialize(t,r){this.localDocumentsView=t,this.indexManager=r,this.initialized=!0}getDocumentsMatchingQuery(t,r,n,i){let s={result:null};return this.performQueryUsingIndex(t,r).next(t=>{s.result=t}).next(()=>{if(!s.result)return this.performQueryUsingRemoteKeys(t,r,i,n).next(t=>{s.result=t})}).next(()=>{if(s.result)return;let n=new cz;return this.executeFullCollectionScan(t,r,n).next(i=>{if(s.result=i,this.indexAutoCreationEnabled)return this.createCacheIndexes(t,r,n,i.size)})}).next(()=>s.result)}createCacheIndexes(t,r,n,i){return n.documentReadCount<this.indexAutoCreationMinCollectionSize?(C()<=l.LogLevel.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",ik(r),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),eI.resolve()):(C()<=l.LogLevel.DEBUG&&I("QueryEngine","Query:",ik(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.relativeIndexReadCostPerDocument*i)?(C()<=l.LogLevel.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",ik(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,iS(r))):eI.resolve()}performQueryUsingIndex(t,r){if(ig(r))return eI.resolve(null);let n=iS(r);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==r.limit&&1===i&&(n=iS(r=iR(r,null,"F"))),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{let s=iX(...i);return this.localDocumentsView.getDocuments(t,s).next(i=>this.indexManager.getMinOffset(t,n).next(n=>{let a=this.applyQuery(r,i);return this.needsRefill(r,a,s,n.readTime)?this.performQueryUsingIndex(t,iR(r,null,"F")):this.appendRemainingResults(t,a,r,n)}))})))}performQueryUsingRemoteKeys(t,r,n,i){return ig(r)||i.isEqual(er.min())?eI.resolve(null):this.localDocumentsView.getDocuments(t,n).next(s=>{let a=this.applyQuery(r,s);return this.needsRefill(r,a,n,i)?eI.resolve(null):(C()<=l.LogLevel.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ik(r)),this.appendRemainingResults(t,a,r,eb(i,eu)).next(t=>t))})}applyQuery(t,r){let n=new rs(ij(t));return r.forEach((r,i)=>{iP(t,i)&&(n=n.add(i))}),n}needsRefill(t,r,n,i){if(null===t.limit)return!1;if(n.size!==r.size)return!0;let s="F"===t.limitType?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}executeFullCollectionScan(t,r,n){return C()<=l.LogLevel.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",ik(r)),this.localDocumentsView.getDocumentsMatchingQuery(t,r,eE.min(),n)}appendRemainingResults(t,r,n,i){return this.localDocumentsView.getDocumentsMatchingQuery(t,n,i).next(t=>(r.forEach(r=>{t=t.insert(r.key,r)}),t))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cG="firestore_clients";function cK(t,r){return`${cG}_${t}_${r}`}let c$="firestore_mutations";function cY(t,r,n){let i=`${c$}_${t}_${n}`;return r.isAuthenticated()&&(i+=`_${r.uid}`),i}let cQ="firestore_targets";function cZ(t,r){return`${cQ}_${t}_${r}`}let cJ="firestore_online_state";function cX(t){return`${cJ}_${t}`}let c0="firestore_bundle_loaded_v2";function c1(t){return`${c0}_${t}`}let c2="firestore_sequence_number";function c4(t){return`${c2}_${t}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c3="SharedClientState";class c5{constructor(t,r,n,i){this.user=t,this.batchId=r,this.state=n,this.error=i}static fromWebStorageEntry(t,r,n){let i;let s=JSON.parse(n),a="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return(a&&s.error&&(a="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new M(s.error.code,s.error.message)),a)?new c5(t,r,s.state,i):(A(c3,`Failed to parse mutation state for ID '${r}': ${n}`),null)}toWebStorageJSON(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class c6{constructor(t,r,n){this.targetId=t,this.state=r,this.error=n}static fromWebStorageEntry(t,r){let n;let i=JSON.parse(r),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return(s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(n=new M(i.error.code,i.error.message)),s)?new c6(t,i.state,n):(A(c3,`Failed to parse target state for ID '${t}': ${r}`),null)}toWebStorageJSON(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class c9{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static fromWebStorageEntry(t,r){let n=JSON.parse(r),i="object"==typeof n&&n.activeTargetIds instanceof Array,s=i1();for(let t=0;i&&t<n.activeTargetIds.length;++t)i=rL(n.activeTargetIds[t]),s=s.add(n.activeTargetIds[t]);return i?new c9(t,s):(A(c3,`Failed to parse client data for instance '${t}': ${r}`),null)}}class c8{constructor(t,r){this.clientId=t,this.onlineState=r}static fromWebStorageEntry(t){let r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new c8(r.clientId,r.onlineState):(A(c3,`Failed to parse online state: ${t}`),null)}}class c7{constructor(){this.activeTargetIds=i1()}addQueryTarget(t){this.activeTargetIds=this.activeTargetIds.add(t)}removeQueryTarget(t){this.activeTargetIds=this.activeTargetIds.delete(t)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class de{constructor(t,r,n,i,s){this.window=t,this.queue=r,this.persistenceKey=n,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new rt(Q),this.started=!1,this.earlyEvents=[];let a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.localClientStorageKey=cK(this.persistenceKey,this.localClientId),this.sequenceNumberKey=c4(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new c7),this.clientStateKeyRe=RegExp(`^${cG}_${a}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${c$}_${a}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${cQ}_${a}_(\\d+)$`),this.onlineStateKey=cX(this.persistenceKey),this.bundleLoadedKey=c1(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(t){return!!(t&&t.localStorage)}async start(){for(let t of(await this.syncEngine.getActiveClients())){if(t===this.localClientId)continue;let r=this.getItem(cK(this.persistenceKey,t));if(r){let n=c9.fromWebStorageEntry(t,r);n&&(this.activeClients=this.activeClients.insert(n.clientId,n))}}this.persistClientState();let t=this.storage.getItem(this.onlineStateKey);if(t){let r=this.fromWebStorageOnlineState(t);r&&this.handleOnlineStateEvent(r)}for(let t of this.earlyEvents)this.handleWebStorageEvent(t);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(t){let r=!1;return this.activeClients.forEach((n,i)=>{i.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.persistMutationState(t,"pending")}updateMutationState(t,r,n){this.persistMutationState(t,r,n),this.removeMutationState(t)}addLocalQueryTarget(t,r=!0){let n="not-current";if(this.isActiveQueryTarget(t)){let r=this.storage.getItem(cZ(this.persistenceKey,t));if(r){let i=c6.fromWebStorageEntry(t,r);i&&(n=i.state)}}return r&&this.localClientState.addQueryTarget(t),this.persistClientState(),n}removeLocalQueryTarget(t){this.localClientState.removeQueryTarget(t),this.persistClientState()}isLocalQueryTarget(t){return this.localClientState.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(cZ(this.persistenceKey,t))}updateQueryState(t,r,n){this.persistQueryTargetState(t,r,n)}handleUserChange(t,r,n){r.forEach(t=>{this.removeMutationState(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.persistOnlineState(t)}notifyBundleLoaded(t){this.persistBundleLoadedState(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(t){let r=this.storage.getItem(t);return I(c3,"READ",t,r),r}setItem(t,r){I(c3,"SET",t,r),this.storage.setItem(t,r)}removeItem(t){I(c3,"REMOVE",t),this.storage.removeItem(t)}handleWebStorageEvent(t){let r=t;if(r.storageArea===this.storage){if(I(c3,"EVENT",r.key,r.newValue),r.key===this.localClientStorageKey){A("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(r);return}if(null!==r.key){if(this.clientStateKeyRe.test(r.key)){if(null!=r.newValue){let t=this.fromWebStorageClientState(r.key,r.newValue);if(t)return this.handleClientStateEvent(t.clientId,t)}else{let t=this.fromWebStorageClientStateKey(r.key);return this.handleClientStateEvent(t,null)}}else if(this.mutationBatchKeyRe.test(r.key)){if(null!==r.newValue){let t=this.fromWebStorageMutationMetadata(r.key,r.newValue);if(t)return this.handleMutationBatchEvent(t)}}else if(this.queryTargetKeyRe.test(r.key)){if(null!==r.newValue){let t=this.fromWebStorageQueryTargetMetadata(r.key,r.newValue);if(t)return this.handleQueryTargetEvent(t)}}else if(r.key===this.onlineStateKey){if(null!==r.newValue){let t=this.fromWebStorageOnlineState(r.newValue);if(t)return this.handleOnlineStateEvent(t)}}else if(r.key===this.sequenceNumberKey){let t=dt(r.newValue);t!==eG.INVALID&&this.sequenceNumberHandler(t)}else if(r.key===this.bundleLoadedKey){let t=this.fromWebStoreBundleLoadedState(r.newValue);await Promise.all(t.map(t=>this.syncEngine.synchronizeWithChangedDocuments(t)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(t,r,n){let i=new c5(this.currentUser,t,r,n),s=cY(this.persistenceKey,this.currentUser,t);this.setItem(s,i.toWebStorageJSON())}removeMutationState(t){let r=cY(this.persistenceKey,this.currentUser,t);this.removeItem(r)}persistOnlineState(t){let r={clientId:this.localClientId,onlineState:t};this.storage.setItem(this.onlineStateKey,JSON.stringify(r))}persistQueryTargetState(t,r,n){let i=cZ(this.persistenceKey,t),s=new c6(t,r,n);this.setItem(i,s.toWebStorageJSON())}persistBundleLoadedState(t){let r=JSON.stringify(Array.from(t));this.setItem(this.bundleLoadedKey,r)}fromWebStorageClientStateKey(t){let r=this.clientStateKeyRe.exec(t);return r?r[1]:null}fromWebStorageClientState(t,r){let n=this.fromWebStorageClientStateKey(t);return c9.fromWebStorageEntry(n,r)}fromWebStorageMutationMetadata(t,r){let n=this.mutationBatchKeyRe.exec(t),i=Number(n[1]),s=void 0!==n[2]?n[2]:null;return c5.fromWebStorageEntry(new b(s),i,r)}fromWebStorageQueryTargetMetadata(t,r){let n=Number(this.queryTargetKeyRe.exec(t)[1]);return c6.fromWebStorageEntry(n,r)}fromWebStorageOnlineState(t){return c8.fromWebStorageEntry(t)}fromWebStoreBundleLoadedState(t){return JSON.parse(t)}async handleMutationBatchEvent(t){if(t.user.uid!==this.currentUser.uid){I(c3,`Ignoring mutation for non-active user ${t.user.uid}`);return}return this.syncEngine.applyBatchState(t.batchId,t.state,t.error)}handleQueryTargetEvent(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)}handleClientStateEvent(t,r){let n=r?this.activeClients.insert(t,r):this.activeClients.remove(t),i=this.extractActiveQueryTargets(this.activeClients),s=this.extractActiveQueryTargets(n),a=[],o=[];return s.forEach(t=>{i.has(t)||a.push(t)}),i.forEach(t=>{s.has(t)||o.push(t)}),this.syncEngine.applyActiveTargetsChange(a,o).then(()=>{this.activeClients=n})}handleOnlineStateEvent(t){this.activeClients.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}extractActiveQueryTargets(t){let r=i1();return t.forEach((t,n)=>{r=r.unionWith(n.activeTargetIds)}),r}}function dt(t){let r=eG.INVALID;if(null!=t)try{let n=JSON.parse(t);P("number"==typeof n),r=n}catch(t){A(c3,"Failed to read sequence number from WebStorage",t)}return r}class dr{constructor(){this.localState=new c7,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.localState.addQueryTarget(t),this.queryState[t]||"not-current"}updateQueryState(t,r,n){this.queryState[t]=r}removeLocalQueryTarget(t){this.localState.removeQueryTarget(t)}isLocalQueryTarget(t){return this.localState.activeTargetIds.has(t)}clearQueryState(t){delete this.queryState[t]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(t){return this.localState.activeTargetIds.has(t)}start(){return this.localState=new c7,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{addCallback(t){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}onConnected(t){this.wrappedOnConnected=t}onOpen(t){this.wrappedOnOpen=t}onClose(t){this.wrappedOnClose=t}onMessage(t){this.wrappedOnMessage=t}close(){this.closeFn()}send(t){this.sendFn(t)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(t){this.wrappedOnClose(t)}callOnMessage(t){this.wrappedOnMessage(t)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds=null;function da(){return 268435456+Math.round(2147483648*Math.random())}function dl(){return null===ds?ds=da():ds++,"0x"+ds.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){return new Promise((r,n)=>{t((t,i)=>{t?n(t):r(i)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="1.9.1",dd="GrpcConnection",dh=`gl-node/${process.versions.node} fire/${S} grpc/${dc}`;function df(t,r,n,i){P(null===r||"OAuth"===r.type);let s=new m.Metadata;return r&&r.headers.forEach((t,r)=>s.set(r,t)),n&&n.headers.forEach((t,r)=>s.set(r,t)),i&&s.set("X-Firebase-GMPID",i),s.set("X-Goog-Api-Client",dh),s.set("Google-Cloud-Resource-Prefix",t),s.set("x-goog-request-params",t),s}class dp{constructor(t,r){this.databaseInfo=r,this.cachedStub=null,this.firestore=t.google.firestore.v1,this.databasePath=`projects/${r.databaseId.projectId}/databases/${r.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){I(dd,"Creating Firestore stub.");let t=this.databaseInfo.ssl?m.credentials.createSsl():m.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,t)}return this.cachedStub}invokeRPC(t,r,n,i,s){let a=dl(),o=this.ensureActiveStub(),l=df(this.databasePath,i,s,this.databaseInfo.appId),u=Object.assign({database:this.databasePath},n);return du(r=>(I(dd,`RPC '${t}' ${a} invoked with request:`,n),o[t](u,l,(n,i)=>{n?(I(dd,`RPC '${t}' ${a} failed with error:`,n),r(new M(sB(n.code),n.message))):(I(dd,`RPC '${t}' ${a} completed with response:`,i),r(void 0,i))})))}invokeStreamingRPC(t,r,n,i,s,a){let o=dl(),l=[],u=new F;I(dd,`RPC '${t}' ${o} invoked (streaming) with request:`,n);let c=this.ensureActiveStub(),d=df(this.databasePath,i,s,this.databaseInfo.appId),h=Object.assign(Object.assign({},n),{database:this.databasePath}),f=c[t](h,d),p=!1;return f.on("data",r=>{I(dd,`RPC ${t} ${o} received result:`,r),l.push(r),void 0!==a&&l.length===a&&(p=!0,u.resolve(l))}),f.on("end",()=>{I(dd,`RPC '${t}' ${o} completed.`),p||(p=!0,u.resolve(l))}),f.on("error",r=>{I(dd,`RPC '${t}' ${o} failed with error:`,r);let n=sB(r.code);u.reject(new M(n,r.message))}),u.promise}openStream(t,r,n){let i=dl(),s=this.ensureActiveStub(),a=df(this.databasePath,r,n,this.databaseInfo.appId),o=s[t](a),l=!1,u=t=>{l||(l=!0,c.callOnClose(t),o.end())},c=new di({sendFn:r=>{if(l)I(dd,`RPC '${t}' stream ${i} not sending because gRPC stream is closed:`,r);else{I(dd,`RPC '${t}' stream ${i} sending:`,r);try{o.write(r)}catch(t){throw A("Failure sending:",r),A("Error:",t),t}}},closeFn:()=>{I(dd,`RPC '${t}' stream ${i} closed locally via close().`),u()}}),d=!1;return o.on("data",r=>{l||(I(dd,`RPC '${t}' stream ${i} received:`,r),d||(c.callOnConnected(),d=!0),c.callOnMessage(r))}),o.on("end",()=>{I(dd,`RPC '${t}' stream ${i} ended.`),u()}),o.on("error",r=>{l||(O(dd,`RPC '${t}' stream ${i} error. Code:`,r.code,"Message:",r.message),u(new M(sB(r.code),r.message)))}),I(dd,`Opening RPC '${t}' stream ${i} to ${this.databaseInfo.host}`),setTimeout(()=>{c.callOnOpen()},0),c}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let dg={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var dm={nested:dg},dv=Object.freeze({__proto__:null,nested:dg,default:dm});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={longs:String,enums:String,defaults:!0,oneofs:!1};function d_(){let t=v.fromJSON(dv,dy);return m.loadPackageDefinition(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){return new dp(d_(),t)}function dS(){return new dn}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function dT(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){return new at(t,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dC="ExponentialBackoff",dR=1e3,dI=1.5,dA=6e4;class dO{constructor(t,r,n=dR,i=dI,s=dA){this.queue=t,this.timerId=r,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=s,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(t){this.cancel();let r=Math.floor(this.currentBaseMs+this.jitterDelayMs()),n=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,r-n);i>0&&I(dC,`Backing off for ${i} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,()=>(this.lastAttemptTime=Date.now(),t())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dN="PersistentStream",dk=6e4,dP=1e4;class dx{constructor(t,r,n,i,s,a,o,l){this.queue=t,this.idleTimerId=n,this.healthTimerId=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new dO(t,r)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(this.responseCount=0,4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,dk,()=>this.handleIdleCloseTimer()))}sendRequest(t){this.cancelIdleCheck(),this.stream.send(t)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(t,r){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==t?this.backoff.reset():r&&r.code===L.RESOURCE_EXHAUSTED?(A(r.toString()),A("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):r&&r.code===L.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,await this.listener.onClose(r)}tearDown(){}auth(){this.state=1;let t=this.getCloseGuardedDispatcher(this.closeCount),r=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,n])=>{this.closeCount===r&&this.startStream(t,n)},r=>{t(()=>{let t=new M(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.handleStreamClose(t)})})}startStream(t,r){let n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t,r),this.stream.onConnected(()=>{n(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{n(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,dP,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(t=>{n(()=>this.handleStreamClose(t))}),this.stream.onMessage(t=>{n(()=>1==++this.responseCount?this.onFirst(t):this.onNext(t))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(t){return I(dN,`close with error: ${t}`),this.stream=null,this.close(4,t)}getCloseGuardedDispatcher(t){return r=>{this.queue.enqueueAndForget(()=>this.closeCount===t?r():(I(dN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dD extends dx{constructor(t,r,n,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}startRpc(t,r){return this.connection.openStream("Listen",t,r)}onFirst(t){return this.onNext(t)}onNext(t){this.backoff.reset();let r=aI(this.serializer,t),n=aO(t);return this.listener.onWatchChange(r,n)}watch(t){let r={};r.database=ay(this.serializer),r.addTarget=aG(this.serializer,t);let n=aH(this.serializer,t);n&&(r.labels=n),this.sendRequest(r)}unwatch(t){let r={};r.database=ay(this.serializer),r.removeTarget=t,this.sendRequest(r)}}class dL extends dx{constructor(t,r,n,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(t,r){return this.connection.openStream("Write",t,r)}onFirst(t){return P(!!t.streamToken),this.lastStreamToken=t.streamToken,P(!t.writeResults||0===t.writeResults.length),this.listener.onHandshakeComplete()}onNext(t){P(!!t.streamToken),this.lastStreamToken=t.streamToken,this.backoff.reset();let r=aL(t.writeResults,t.commitTime),n=ac(t.commitTime);return this.listener.onMutationResult(n,r)}writeHandshake(){let t={};t.database=ay(this.serializer),this.sendRequest(t)}writeMutations(t){let r={streamToken:this.lastStreamToken,writes:t.map(t=>aN(this.serializer,t))};this.sendRequest(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{}class dF extends dM{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new M(L.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(t,r,n,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.invokeRPC(t,ah(r,n),i,s,a)).catch(t=>{if("FirebaseError"===t.name)throw t.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t;throw new M(L.UNKNOWN,t.toString())})}invokeStreamingRPC(t,r,n,i,s){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.invokeStreamingRPC(t,ah(r,n),i,a,o,s)).catch(t=>{if("FirebaseError"===t.name)throw t.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t;throw new M(L.UNKNOWN,t.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function dj(t,r,n,i){return new dF(t,r,n,i)}async function dV(t,r){let n=D(t),i={writes:r.map(t=>aN(n.serializer,t))};await n.invokeRPC("Commit",n.serializer.databaseId,es.emptyPath(),i)}async function dB(t,r){let n=D(t),i={documents:r.map(t=>ap(n.serializer,t))},s=await n.invokeStreamingRPC("BatchGetDocuments",n.serializer.databaseId,es.emptyPath(),i,r.length),a=new Map;s.forEach(t=>{let r=aR(n.serializer,t);a.set(r.key.toString(),r)});let o=[];return r.forEach(t=>{let r=a.get(t.toString());P(!!r),o.push(r)}),o}async function dU(t,r,n){var i;let s=D(t),{request:a,aliasMap:o,parent:l}=aU(s.serializer,iE(r),n);s.connection.shouldResourcePathBeIncludedInRequest||delete a.parent;let u=(await s.invokeStreamingRPC("RunAggregationQuery",s.serializer.databaseId,l,a,1)).filter(t=>!!t.result);P(1===u.length);let c=null===(i=u[0].result)||void 0===i?void 0:i.aggregateFields;return Object.keys(c).reduce((t,r)=>(t[o[r]]=c[r],t),{})}function dz(t,r,n){let i=D(t);return i.verifyInitialized(),new dL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}function dq(t,r,n){let i=D(t);return i.verifyInitialized(),new dD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dH="OnlineStateTracker",dW=1,dG=1e4;class dK{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",dG,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${dG/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(t){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=dW&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${dW} times. Most recent error: ${t.toString()}`),this.setAndBroadcast("Offline")))}set(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===t&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)}setAndBroadcast(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}logClientOfflineWarningIfNecessary(t){let r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(A(r),this.shouldWarnClientIsOffline=!1):I(dH,r)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d$="RemoteStore",dY=10;class dQ{constructor(t,r,n,i,s){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=s,this.connectivityMonitor.addCallback(t=>{n.enqueueAndForget(async()=>{d7(this)&&(I(d$,"Restarting streams for network reachability change."),await h_(this))})}),this.onlineStateTracker=new dK(n,i)}}function dZ(t,r,n,i,s){return new dQ(t,r,n,i,s)}function dJ(t){let r=D(t);return r.offlineCauses.delete(0),dX(r)}async function dX(t){if(d7(t))for(let r of t.onNetworkStatusChange)await r(!0)}async function d0(t){let r=D(t);r.offlineCauses.add(0),await d1(r),r.onlineStateTracker.set("Offline")}async function d1(t){for(let r of t.onNetworkStatusChange)await r(!1)}async function d2(t){let r=D(t);I(d$,"RemoteStore shutting down."),r.offlineCauses.add(5),await d1(r),r.connectivityMonitor.shutdown(),r.onlineStateTracker.set("Unknown")}function d4(t,r){let n=D(t);!n.listenTargets.has(r.targetId)&&(n.listenTargets.set(r.targetId,r),d8(n)?d9(n):hE(n).isOpen()&&d5(n,r))}function d3(t,r){let n=D(t),i=hE(n);n.listenTargets.delete(r),i.isOpen()&&d6(n,r),0===n.listenTargets.size&&(i.isOpen()?i.markIdle():d7(n)&&n.onlineStateTracker.set("Unknown"))}function d5(t,r){if(t.watchChangeAggregator.recordPendingTargetRequest(r.targetId),r.resumeToken.approximateByteSize()>0||r.snapshotVersion.compareTo(er.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(r.targetId).size;r=r.withExpectedCount(n)}hE(t).watch(r)}function d6(t,r){t.watchChangeAggregator.recordPendingTargetRequest(r),hE(t).unwatch(r)}function d9(t){t.watchChangeAggregator=new s3({getRemoteKeysForTarget:r=>t.remoteSyncer.getRemoteKeysForTarget(r),getTargetDataForTarget:r=>t.listenTargets.get(r)||null,getDatabaseId:()=>t.datastore.serializer.databaseId}),hE(t).start(),t.onlineStateTracker.handleWatchStreamStart()}function d8(t){return d7(t)&&!hE(t).isStarted()&&t.listenTargets.size>0}function d7(t){return 0===D(t).offlineCauses.size}function he(t){t.watchChangeAggregator=void 0}async function ht(t){t.onlineStateTracker.set("Online")}async function hr(t){t.listenTargets.forEach((r,n)=>{d5(t,r)})}async function hn(t,r){he(t),d8(t)?(t.onlineStateTracker.handleWatchStreamFailure(r),d9(t)):t.onlineStateTracker.set("Unknown")}async function hi(t,r,n){if(t.onlineStateTracker.set("Online"),r instanceof s1&&2===r.state&&r.cause){try{await hl(t,r)}catch(n){I(d$,"Failed to remove targets %s: %s ",r.targetIds.join(","),n),await hs(t,n)}return}if(r instanceof sX?t.watchChangeAggregator.handleDocumentChange(r):r instanceof s0?t.watchChangeAggregator.handleExistenceFilter(r):t.watchChangeAggregator.handleTargetChange(r),!n.isEqual(er.min()))try{let r=await cg(t.localStore);n.compareTo(r)>=0&&await ho(t,n)}catch(r){I(d$,"Failed to raise snapshot:",r),await hs(t,r)}}async function hs(t,r,n){if(eL(r))t.offlineCauses.add(1),await d1(t),t.onlineStateTracker.set("Offline"),n||(n=()=>cg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{I(d$,"Retrying IndexedDB access"),await n(),t.offlineCauses.delete(1),await dX(t)});else throw r}function ha(t,r){return r().catch(n=>hs(t,n,r))}function ho(t,r){let n=t.watchChangeAggregator.createRemoteEvent(r);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){let s=t.listenTargets.get(i);s&&t.listenTargets.set(i,s.withResumeToken(n.resumeToken,r))}}),n.targetMismatches.forEach((r,n)=>{let i=t.listenTargets.get(r);i&&(t.listenTargets.set(r,i.withResumeToken(rf.EMPTY_BYTE_STRING,i.snapshotVersion)),d6(t,r),d5(t,new od(i.target,r,n,i.sequenceNumber)))}),t.remoteSyncer.applyRemoteEvent(n)}async function hl(t,r){let n=r.cause;for(let i of r.targetIds)t.listenTargets.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.listenTargets.delete(i),t.watchChangeAggregator.removeTarget(i))}async function hu(t){let r=D(t),n=hT(r),i=r.writePipeline.length>0?r.writePipeline[r.writePipeline.length-1].batchId:rP;for(;hc(r);)try{let t=await cb(r.localStore,i);if(null===t){0===r.writePipeline.length&&n.markIdle();break}i=t.batchId,hd(r,t)}catch(t){await hs(r,t)}hh(r)&&hf(r)}function hc(t){return d7(t)&&t.writePipeline.length<dY}function hd(t,r){t.writePipeline.push(r);let n=hT(t);n.isOpen()&&n.handshakeComplete&&n.writeMutations(r.mutations)}function hh(t){return d7(t)&&!hT(t).isStarted()&&t.writePipeline.length>0}function hf(t){hT(t).start()}async function hp(t){hT(t).writeHandshake()}async function hg(t){let r=hT(t);for(let n of t.writePipeline)r.writeMutations(n.mutations)}async function hm(t,r,n){let i=t.writePipeline.shift(),s=sL.from(i,r,n);await ha(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await hu(t)}async function hv(t,r){r&&hT(t).handshakeComplete&&await hy(t,r),hh(t)&&hf(t)}async function hy(t,r){if(sV(r.code)){let n=t.writePipeline.shift();hT(t).inhibitBackoff(),await ha(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,r)),await hu(t)}}async function h_(t){let r=D(t);r.offlineCauses.add(4),await d1(r),r.onlineStateTracker.set("Unknown"),r.offlineCauses.delete(4),await dX(r)}async function hb(t,r){let n=D(t);n.asyncQueue.verifyOperationInProgress(),I(d$,"RemoteStore received new credentials");let i=d7(n);n.offlineCauses.add(3),await d1(n),i&&n.onlineStateTracker.set("Unknown"),await n.remoteSyncer.handleCredentialChange(r),n.offlineCauses.delete(3),await dX(n)}async function hS(t,r){let n=D(t);r?(n.offlineCauses.delete(2),await dX(n)):r||(n.offlineCauses.add(2),await d1(n),n.onlineStateTracker.set("Unknown"))}function hE(t){return t.watchStream||(t.watchStream=dq(t.datastore,t.asyncQueue,{onConnected:ht.bind(null,t),onOpen:hr.bind(null,t),onClose:hn.bind(null,t),onWatchChange:hi.bind(null,t)}),t.onNetworkStatusChange.push(async r=>{r?(t.watchStream.inhibitBackoff(),d8(t)?d9(t):t.onlineStateTracker.set("Unknown")):(await t.watchStream.stop(),he(t))})),t.watchStream}function hT(t){return t.writeStream||(t.writeStream=dz(t.datastore,t.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:hp.bind(null,t),onClose:hv.bind(null,t),onHandshakeComplete:hg.bind(null,t),onMutationResult:hm.bind(null,t)}),t.onNetworkStatusChange.push(async r=>{r?(t.writeStream.inhibitBackoff(),await hu(t)):(await t.writeStream.stop(),t.writePipeline.length>0&&(I(d$,`Stopping write stream with ${t.writePipeline.length} pending writes`),t.writePipeline=[]))})),t.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hw="AsyncQueue";class hC{constructor(t,r,n,i,s){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,s){let a=new hC(t,r,Date.now()+n,i,s);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hR(t,r){if(A(hw,`${r}: ${t}`),eL(t))return new M(L.UNAVAILABLE,`${r}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){t?this.comparator=(r,n)=>t(r,n)||el.comparator(r.key,n.key):this.comparator=(t,r)=>el.comparator(t.key,r.key),this.keyedMap=iH(),this.sortedSet=new rt(this.comparator)}static emptySet(t){return new hI(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){let r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){let r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof hI)||this.size!==t.size)return!1;let r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){let t=r.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){let t=[];return(this.forEach(r=>{t.push(r.toString())}),0===t.length)?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){let n=new hI;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.changeMap=new rt(el.comparator)}track(t){let r=t.doc.key,n=this.changeMap.get(r);if(!n){this.changeMap=this.changeMap.insert(r,t);return}0!==t.type&&3===n.type?this.changeMap=this.changeMap.insert(r,t):3===t.type&&1!==n.type?this.changeMap=this.changeMap.insert(r,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.changeMap=this.changeMap.insert(r,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.changeMap=this.changeMap.insert(r,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.changeMap=this.changeMap.remove(r):1===t.type&&2===n.type?this.changeMap=this.changeMap.insert(r,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.changeMap=this.changeMap.insert(r,{type:2,doc:t.doc}):k()}getChanges(){let t=[];return this.changeMap.inorderTraversal((r,n)=>{t.push(n)}),t}}class hO{constructor(t,r,n,i,s,a,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,s){let a=[];return r.forEach(t=>{a.push({type:0,doc:t})}),new hO(t,r,hI.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(this.fromCache!==t.fromCache||this.hasCachedResults!==t.hasCachedResults||this.syncStateChanged!==t.syncStateChanged||!this.mutatedKeys.isEqual(t.mutatedKeys)||!iO(this.query,t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;let r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(r[t].type!==n[t].type||!r[t].doc.isEqual(n[t].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(t=>t.listensToRemoteStore())}}function hk(){return new hP}class hP{constructor(){this.queries=hx(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){hU(this,new M(L.ABORTED,"Firestore shutting down"))}}function hx(){return new iB(t=>iN(t),iO)}async function hD(t,r){let n=D(t),i=3,s=r.query,a=n.queries.get(s);a?!a.hasRemoteListeners()&&r.listensToRemoteStore()&&(i=2):(a=new hN,i=r.listensToRemoteStore()?0:1);try{switch(i){case 0:a.viewSnap=await n.onListen(s,!0);break;case 1:a.viewSnap=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(n){let t=hR(n,`Initialization of query '${ik(r.query)}' failed`);r.onError(t);return}n.queries.set(s,a),a.listeners.push(r),r.applyOnlineStateChange(n.onlineState),a.viewSnap&&r.onViewSnapshot(a.viewSnap)&&hz(n)}async function hL(t,r){let n=D(t),i=r.query,s=3,a=n.queries.get(i);if(a){let t=a.listeners.indexOf(r);t>=0&&(a.listeners.splice(t,1),0===a.listeners.length?s=r.listensToRemoteStore()?0:1:!a.hasRemoteListeners()&&r.listensToRemoteStore()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function hM(t,r){let n=D(t),i=!1;for(let t of r){let r=t.query,s=n.queries.get(r);if(s){for(let r of s.listeners)r.onViewSnapshot(t)&&(i=!0);s.viewSnap=t}}i&&hz(n)}function hF(t,r,n){let i=D(t),s=i.queries.get(r);if(s)for(let t of s.listeners)t.onError(n);i.queries.delete(r)}function hj(t,r){let n=D(t);n.onlineState=r;let i=!1;n.queries.forEach((t,n)=>{for(let t of n.listeners)t.applyOnlineStateChange(r)&&(i=!0)}),i&&hz(n)}function hV(t,r){D(t).snapshotsInSyncListeners.add(r),r.next()}function hB(t,r){D(t).snapshotsInSyncListeners.delete(r)}function hU(t,r){let n=D(t),i=n.queries;n.queries=hx(),i.forEach((t,n)=>{for(let t of n.listeners)t.onError(r)})}function hz(t){t.snapshotsInSyncListeners.forEach(t=>{t.next()})}!function(t){t.Default="default",t.Cache="cache"}(s||(s={}));class hq{constructor(t,r,n){this.query=t,this.queryObserver=r,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=n||{}}onViewSnapshot(t){if(!this.options.includeMetadataChanges){let r=[];for(let n of t.docChanges)3!==n.type&&r.push(n);t=new hO(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),r=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),r=!0),this.snap=t,r}onError(t){this.queryObserver.error(t)}applyOnlineStateChange(t){this.onlineState=t;let r=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),r=!0),r}shouldRaiseInitialEvent(t,r){if(!t.fromCache||!this.listensToRemoteStore())return!0;let n="Offline"!==r;return(!this.options.waitForSyncWhenOnline||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}shouldRaiseEvent(t){if(t.docChanges.length>0)return!0;let r=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return(!!t.syncStateChanged||!!r)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(t){t=hO.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(t)}listensToRemoteStore(){return this.options.source!==s.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.addedKeys=n,this.removedKeys=i}static fromSnapshot(t,r){let n=iX(),i=iX();for(let t of r.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:i=i.add(t.doc.key)}return new hH(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(t){this.serializer=t}toDocumentKey(t){return ag(this.serializer,t)}toMutableDocument(t){return t.metadata.exists?aT(this.serializer,t.document,!1):nw.newNoDocument(this.toDocumentKey(t.metadata.name),this.toSnapshotVersion(t.metadata.readTime))}toSnapshotVersion(t){return ac(t)}}class hG{constructor(t,r,n){this.bundleMetadata=t,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hK(t)}addSizedElement(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),!t.payload.documentMetadata.exists&&++r;let n=es.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}getQueryDocumentMapping(t){let r=new Map,n=new hW(this.serializer);for(let i of t)if(i.metadata.queries){let t=n.toDocumentKey(i.metadata.name);for(let n of i.metadata.queries){let i=(r.get(n)||iX()).add(t);r.set(n,i)}}return r}async complete(){let t=await cD(this.localStore,new hW(this.serializer),this.documents,this.bundleMetadata.id),r=this.getQueryDocumentMapping(this.documents);for(let t of this.queries)await cj(this.localStore,t,r.get(t.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:t}}}function hK(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}function h$(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(t){this.key=t}}class hQ{constructor(t){this.key=t}}class hZ{constructor(t,r){this.query=t,this._syncedDocuments=r,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=iX(),this.mutatedKeys=iX(),this.docComparator=ij(t),this.documentSet=new hI(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(t,r){let n=r?r.changeSet:new hA,i=r?r.documentSet:this.documentSet,s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1,l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((t,r)=>{let c=i.get(t),d=iP(this.query,r)?r:null,h=!!c&&this.mutatedKeys.has(c.key),f=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;c&&d?c.data.isEqual(d.data)?h!==f&&(n.track({type:3,doc:d}),p=!0):!this.shouldWaitForSyncedDocument(c,d)&&(n.track({type:2,doc:d}),p=!0,(l&&this.docComparator(d,l)>0||u&&0>this.docComparator(d,u))&&(o=!0)):!c&&d?(n.track({type:0,doc:d}),p=!0):c&&!d&&(n.track({type:1,doc:c}),p=!0,(l||u)&&(o=!0)),p&&(d?(a=a.add(d),s=f?s.add(t):s.delete(t)):(a=a.delete(t),s=s.delete(t)))}),null!==this.query.limit)for(;a.size>this.query.limit;){let t="F"===this.query.limitType?a.last():a.first();a=a.delete(t.key),s=s.delete(t.key),n.track({type:1,doc:t})}return{documentSet:a,changeSet:n,needsRefill:o,mutatedKeys:s}}shouldWaitForSyncedDocument(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){let s=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;let a=t.changeSet.getChanges();a.sort((t,r)=>hJ(t.type,r.type)||this.docComparator(t.doc,r.doc)),this.applyTargetChange(n),i=null!=i&&i;let o=r&&!i?this.updateLimboDocuments():[],l=0===this.limboDocuments.size&&this.current&&!i?1:0,u=l!==this.syncState;return(this.syncState=l,0!==a.length||u)?{snapshot:new hO(this.query,t.documentSet,s,a,t.mutatedKeys,0===l,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),limboChanges:o}:{limboChanges:o}}applyOnlineStateChange(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new hA,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations}applyTargetChange(t){t&&(t.addedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this._syncedDocuments=this._syncedDocuments.delete(t)),this.current=t.current)}updateLimboDocuments(){if(!this.current)return[];let t=this.limboDocuments;this.limboDocuments=iX(),this.documentSet.forEach(t=>{this.shouldBeInLimbo(t.key)&&(this.limboDocuments=this.limboDocuments.add(t.key))});let r=[];return t.forEach(t=>{this.limboDocuments.has(t)||r.push(new hQ(t))}),this.limboDocuments.forEach(n=>{t.has(n)||r.push(new hY(n))}),r}synchronizeWithPersistedState(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=iX();let r=this.computeDocChanges(t.documents);return this.applyChanges(r,!0)}computeInitialSnapshot(){return hO.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function hJ(t,r){let n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return n(t)-n(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hX="SyncEngine";class h0{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class h1{constructor(t){this.key=t,this.receivedDocument=!1}}class h2{constructor(t,r,n,i,s,a){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.syncEngineListener={},this.queryViewsByQuery=new iB(t=>iN(t),iO),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new rt(el.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new uE,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=l$.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function h4(t,r,n,i,s,a,o){let l=new h2(t,r,n,i,s,a);return o&&(l._isPrimaryClient=!0),l}async function h3(t,r,n=!0){let i;let s=fN(t),a=s.queryViewsByQuery.get(r);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.computeInitialSnapshot()):i=await h6(s,r,n,!0),i}async function h5(t,r){let n=fN(t);await h6(n,r,!0,!1)}async function h6(t,r,n,i){let s;let a=await cE(t.localStore,iS(r)),o=a.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);return i&&(s=await h9(t,r,o,"current"===l,a.resumeToken)),t.isPrimaryClient&&n&&d4(t.remoteStore,a),s}async function h9(t,r,n,i,s){t.applyDocChanges=(r,n,i)=>fv(t,r,n,i);let a=await cC(t.localStore,r,!0),o=new hZ(r,a.remoteKeys),l=o.computeDocChanges(a.documents),u=sJ.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,s),c=o.applyChanges(l,t.isPrimaryClient,u);ff(t,n,c.limboChanges);let d=new h0(r,n,o);return t.queryViewsByQuery.set(r,d),t.queriesByTarget.has(n)?t.queriesByTarget.get(n).push(r):t.queriesByTarget.set(n,[r]),c.snapshot}async function h8(t,r,n){let i=D(t),s=i.queryViewsByQuery.get(r),a=i.queriesByTarget.get(s.targetId);if(a.length>1){i.queriesByTarget.set(s.targetId,a.filter(t=>!iO(t,r))),i.queryViewsByQuery.delete(r);return}i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await cw(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&d3(i.remoteStore,s.targetId),fd(i,s.targetId)}).catch(eR)):(fd(i,s.targetId),await cw(i.localStore,s.targetId,!0))}async function h7(t,r){let n=D(t),i=n.queryViewsByQuery.get(r),s=n.queriesByTarget.get(i.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),d3(n.remoteStore,i.targetId))}async function fe(t,r,n){let i=fk(t);try{let t=await cc(i.localStore,r);i.sharedClientState.addPendingMutation(t.batchId),fu(i,t.batchId,n),await fm(i,t.changes),await hu(i.remoteStore)}catch(r){let t=hR(r,"Failed to persist write");n.reject(t)}}async function ft(t,r){let n=D(t);try{let t=await cm(n.localStore,r);r.targetChanges.forEach((t,r)=>{let i=n.activeLimboResolutionsByTarget.get(r);i&&(P(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.receivedDocument=!0:t.modifiedDocuments.size>0?P(i.receivedDocument):t.removedDocuments.size>0&&(P(i.receivedDocument),i.receivedDocument=!1))}),await fm(n,t,r)}catch(t){await eR(t)}}function fr(t,r,n){let i=D(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){let t=[];i.queryViewsByQuery.forEach((n,i)=>{let s=i.view.applyOnlineStateChange(r);s.snapshot&&t.push(s.snapshot)}),hj(i.eventManager,r),t.length&&i.syncEngineListener.onWatchChange(t),i.onlineState=r,i.isPrimaryClient&&i.sharedClientState.setOnlineState(r)}}async function fn(t,r,n){let i=D(t);i.sharedClientState.updateQueryState(r,"rejected",n);let s=i.activeLimboResolutionsByTarget.get(r),a=s&&s.key;if(a){let t=new rt(el.comparator);t=t.insert(a,nw.newNoDocument(a,er.min()));let n=iX().add(a),s=new sZ(er.min(),new Map,new rt(Q),t,n);await ft(i,s),i.activeLimboTargetsByKey=i.activeLimboTargetsByKey.remove(a),i.activeLimboResolutionsByTarget.delete(r),fg(i)}else await cw(i.localStore,r,!1).then(()=>fd(i,r,n)).catch(eR)}async function fi(t,r){let n=D(t),i=r.batch.batchId;try{let t=await cd(n.localStore,r);fc(n,i,null),fo(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await fm(n,t)}catch(t){await eR(t)}}async function fs(t,r,n){let i=D(t);try{let t=await cf(i.localStore,r);fc(i,r,n),fo(i,r),i.sharedClientState.updateMutationState(r,"rejected",n),await fm(i,t)}catch(t){await eR(t)}}async function fa(t,r){let n=D(t);d7(n.remoteStore)||I(hX,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let t=await cp(n.localStore);if(t===rP){r.resolve();return}let i=n.pendingWritesCallbacks.get(t)||[];i.push(r),n.pendingWritesCallbacks.set(t,i)}catch(n){let t=hR(n,"Initialization of waitForPendingWrites() operation failed");r.reject(t)}}function fo(t,r){(t.pendingWritesCallbacks.get(r)||[]).forEach(t=>{t.resolve()}),t.pendingWritesCallbacks.delete(r)}function fl(t,r){t.pendingWritesCallbacks.forEach(t=>{t.forEach(t=>{t.reject(new M(L.CANCELLED,r))})}),t.pendingWritesCallbacks.clear()}function fu(t,r,n){let i=t.mutationUserCallbacks[t.currentUser.toKey()];i||(i=new rt(Q)),i=i.insert(r,n),t.mutationUserCallbacks[t.currentUser.toKey()]=i}function fc(t,r,n){let i=D(t),s=i.mutationUserCallbacks[i.currentUser.toKey()];if(s){let t=s.get(r);t&&(n?t.reject(n):t.resolve(),s=s.remove(r)),i.mutationUserCallbacks[i.currentUser.toKey()]=s}}function fd(t,r,n=null){for(let i of(t.sharedClientState.removeLocalQueryTarget(r),t.queriesByTarget.get(r)))t.queryViewsByQuery.delete(i),n&&t.syncEngineListener.onWatchError(i,n);t.queriesByTarget.delete(r),t.isPrimaryClient&&t.limboDocumentRefs.removeReferencesForId(r).forEach(r=>{t.limboDocumentRefs.containsKey(r)||fh(t,r)})}function fh(t,r){t.enqueuedLimboResolutions.delete(r.path.canonicalString());let n=t.activeLimboTargetsByKey.get(r);null!==n&&(d3(t.remoteStore,n),t.activeLimboTargetsByKey=t.activeLimboTargetsByKey.remove(r),t.activeLimboResolutionsByTarget.delete(n),fg(t))}function ff(t,r,n){for(let i of n)i instanceof hY?(t.limboDocumentRefs.addReference(i.key,r),fp(t,i)):i instanceof hQ?(I(hX,"Document no longer in limbo: "+i.key),t.limboDocumentRefs.removeReference(i.key,r),t.limboDocumentRefs.containsKey(i.key)||fh(t,i.key)):k()}function fp(t,r){let n=r.key,i=n.path.canonicalString();t.activeLimboTargetsByKey.get(n)||t.enqueuedLimboResolutions.has(i)||(I(hX,"New document in limbo: "+n),t.enqueuedLimboResolutions.add(i),fg(t))}function fg(t){for(;t.enqueuedLimboResolutions.size>0&&t.activeLimboTargetsByKey.size<t.maxConcurrentLimboResolutions;){let r=t.enqueuedLimboResolutions.values().next().value;t.enqueuedLimboResolutions.delete(r);let n=new el(es.fromString(r)),i=t.limboTargetIdGenerator.next();t.activeLimboResolutionsByTarget.set(i,new h1(n)),t.activeLimboTargetsByKey=t.activeLimboTargetsByKey.insert(n,i),d4(t.remoteStore,new od(iS(ih(n.path)),i,"TargetPurposeLimboResolution",eG.INVALID))}}async function fm(t,r,n){let i=D(t),s=[],a=[],o=[];i.queryViewsByQuery.isEmpty()||(i.queryViewsByQuery.forEach((t,l)=>{o.push(i.applyDocChanges(l,r,n).then(t=>{var r;if((t||n)&&i.isPrimaryClient){let s=t?!t.fromCache:null===(r=null==n?void 0:n.targetChanges.get(l.targetId))||void 0===r?void 0:r.current;i.sharedClientState.updateQueryState(l.targetId,s?"current":"not-current")}if(t){s.push(t);let r=hH.fromSnapshot(l.targetId,t);a.push(r)}}))}),await Promise.all(o),i.syncEngineListener.onWatchChange(s),await c_(i.localStore,a))}async function fv(t,r,n,i){let s=r.view.computeDocChanges(n);s.needsRefill&&(s=await cC(t.localStore,r.query,!1).then(({documents:t})=>r.view.computeDocChanges(t,s)));let a=i&&i.targetChanges.get(r.targetId),o=i&&null!=i.targetMismatches.get(r.targetId),l=r.view.applyChanges(s,t.isPrimaryClient,a,o);return ff(t,r.targetId,l.limboChanges),l.snapshot}async function fy(t,r){let n=D(t);if(!n.currentUser.isEqual(r)){I(hX,"User change. New user:",r.toKey());let t=await cu(n.localStore,r);n.currentUser=r,fl(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(r,t.removedBatchIds,t.addedBatchIds),await fm(n,t.affectedDocuments)}}function f_(t,r){let n=D(t),i=n.activeLimboResolutionsByTarget.get(r);if(i&&i.receivedDocument)return iX().add(i.key);{let t=iX(),i=n.queriesByTarget.get(r);if(!i)return t;for(let r of i){let i=n.queryViewsByQuery.get(r);t=t.unionWith(i.view.syncedDocuments)}return t}}async function fb(t,r){let n=D(t),i=await cC(n.localStore,r.query,!0),s=r.view.synchronizeWithPersistedState(i);return n.isPrimaryClient&&ff(n,r.targetId,s.limboChanges),s}async function fS(t,r){let n=D(t);return ck(n.localStore,r).then(t=>fm(n,t))}async function fE(t,r,n,i){let s=D(t),a=await cI(s.localStore,r);if(null===a){I(hX,"Cannot apply mutation batch with id: "+r);return}"pending"===n?await hu(s.remoteStore):"acknowledged"===n||"rejected"===n?(fc(s,r,i||null),fo(s,r),cA(s.localStore,r)):k(),await fm(s,a)}async function fT(t,r){let n=D(t);if(fN(n),fk(n),!0===r&&!0!==n._isPrimaryClient){let t=n.sharedClientState.getAllActiveQueryTargets(),r=await fC(n,t.toArray());for(let t of(n._isPrimaryClient=!0,await hS(n.remoteStore,!0),r))d4(n.remoteStore,t)}else if(!1===r&&!1!==n._isPrimaryClient){let t=[],r=Promise.resolve();n.queriesByTarget.forEach((i,s)=>{n.sharedClientState.isLocalQueryTarget(s)?t.push(s):r=r.then(()=>(fd(n,s),cw(n.localStore,s,!0))),d3(n.remoteStore,s)}),await r,await fC(n,t),fw(n),n._isPrimaryClient=!1,await hS(n.remoteStore,!1)}}function fw(t){let r=D(t);r.activeLimboResolutionsByTarget.forEach((t,n)=>{d3(r.remoteStore,n)}),r.limboDocumentRefs.removeAllReferences(),r.activeLimboResolutionsByTarget=new Map,r.activeLimboTargetsByKey=new rt(el.comparator)}async function fC(t,r,n){let i=D(t),s=[],a=[];for(let t of r){let r;let n=i.queriesByTarget.get(t);if(n&&0!==n.length)for(let t of(r=await cE(i.localStore,iS(n[0])),n)){let r=i.queryViewsByQuery.get(t),n=await fb(i,r);n.snapshot&&a.push(n.snapshot)}else{let n=await cN(i.localStore,t);r=await cE(i.localStore,n),await h9(i,fR(n),t,!1,r.resumeToken)}s.push(r)}return i.syncEngineListener.onWatchChange(a),s}function fR(t){return id(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fI(t){return cO(D(t).localStore)}async function fA(t,r,n,i){let s=D(t);if(s._isPrimaryClient){I(hX,"Ignoring unexpected query state notification.");return}let a=s.queriesByTarget.get(r);if(a&&a.length>0)switch(n){case"current":case"not-current":{let t=await ck(s.localStore,iF(a[0])),i=sZ.createSynthesizedRemoteEventForCurrentChange(r,"current"===n,rf.EMPTY_BYTE_STRING);await fm(s,t,i);break}case"rejected":await cw(s.localStore,r,!0),fd(s,r,i);break;default:k()}}async function fO(t,r,n){let i=fN(t);if(i._isPrimaryClient){for(let t of r){if(i.queriesByTarget.has(t)&&i.sharedClientState.isActiveQueryTarget(t)){I(hX,"Adding an already active target "+t);continue}let r=await cN(i.localStore,t),n=await cE(i.localStore,r);await h9(i,fR(r),n.targetId,!1,n.resumeToken),d4(i.remoteStore,n)}for(let t of n)i.queriesByTarget.has(t)&&await cw(i.localStore,t,!1).then(()=>{d3(i.remoteStore,t),fd(i,t)}).catch(eR)}}function fN(t){let r=D(t);return r.remoteStore.remoteSyncer.applyRemoteEvent=ft.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=f_.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=fn.bind(null,r),r.syncEngineListener.onWatchChange=hM.bind(null,r.eventManager),r.syncEngineListener.onWatchError=hF.bind(null,r.eventManager),r}function fk(t){let r=D(t);return r.remoteStore.remoteSyncer.applySuccessfulWrite=fi.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=fs.bind(null,r),r}function fP(t,r,n){let i=D(t);fx(i,r,n).then(t=>{i.sharedClientState.notifyBundleLoaded(t)})}async function fx(t,r,n){try{let i=await r.getMetadata();if(await cL(t.localStore,i))return await r.close(),n._completeWith(h$(i)),Promise.resolve(new Set);n._updateProgress(hK(i));let s=new hG(i,t.localStore,r.serializer),a=await r.nextElement();for(;a;){let t=await s.addSizedElement(a);t&&n._updateProgress(t),a=await r.nextElement()}let o=await s.complete();return await fm(t,o.changedDocs,void 0),await cM(t.localStore,i),n._completeWith(o.progress),Promise.resolve(o.changedCollectionGroups)}catch(t){return O(hX,`Loading bundle failed with ${t}`),n._failWith(t),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dw(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return cl(this.persistence,new cW,t.initialUser,this.serializer)}createPersistence(t){return new uk(ux.factory,this.serializer)}createSharedClientState(t){return new dr}async terminate(){var t,r;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(r=this.indexBackfillerScheduler)||void 0===r||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fD.provider={build:()=>new fD};class fL extends fD{constructor(t){super(),this.cacheSizeBytes=t}createGarbageCollectionScheduler(t,r){return P(this.persistence.referenceDelegate instanceof uD),new l7(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}createPersistence(t){let r=void 0!==this.cacheSizeBytes?l2.withCacheSize(this.cacheSizeBytes):l2.DEFAULT;return new uk(t=>uD.factory(t,r),this.serializer)}}class fM extends fD{constructor(t,r,n){super(),this.onlineComponentProvider=t,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.onlineComponentProvider.initialize(this,t),await fk(this.onlineComponentProvider.syncEngine),await hu(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(t){return cl(this.persistence,new cW,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,r){return new l7(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}createIndexBackfillerScheduler(t,r){let n=new eW(r,this.persistence);return new eH(t.asyncQueue,n)}createPersistence(t){let r=ct(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?l2.withCacheSize(this.cacheSizeBytes):l2.DEFAULT;return new u8(this.synchronizeTabs,r,t.clientId,n,t.asyncQueue,dE(),dT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new dr}}class fF extends fM{constructor(t,r){super(t,r,!1),this.onlineComponentProvider=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);let r=this.onlineComponentProvider.syncEngine;this.sharedClientState instanceof de&&(this.sharedClientState.syncEngine={applyBatchState:fE.bind(null,r),applyTargetState:fA.bind(null,r),applyActiveTargetsChange:fO.bind(null,r),getActiveClients:fI.bind(null,r),synchronizeWithChangedDocuments:fS.bind(null,r)},await this.sharedClientState.start()),await this.persistence.setPrimaryStateListener(async t=>{await fT(this.onlineComponentProvider.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start():t||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(t&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():t||this.indexBackfillerScheduler.stop())})}createSharedClientState(t){let r=dE();if(!de.isAvailable(r))throw new M(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=ct(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new de(r,t.asyncQueue,n,t.clientId,t.initialUser)}}class fj{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>fr(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=fy.bind(null,this.syncEngine),await hS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return hk()}createDatastore(t){let r=dw(t.databaseInfo.databaseId),n=db(t.databaseInfo);return dj(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return dZ(this.localStore,this.datastore,t.asyncQueue,t=>fr(this.syncEngine,t,0),dS())}createSyncEngine(t,r){return h4(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await d2(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(r=this.eventManager)||void 0===r||r.terminate()}}fj.provider={build:()=>new fj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fV=10240;function fB(t,r=fV){let n=0;return{async read(){if(n<t.byteLength){let i={value:t.slice(n,n+r),done:!1};return n+=r,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,r,n){if(!n)throw new M(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${r}.`)}function fz(t,r,n,i){if(!0===r&&!0===i)throw new M(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fq(t){if(!el.isDocumentKey(t))throw new M(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fH(t){if(el.isDocumentKey(t))throw new M(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fW(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function fG(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{let r=fK(t);return r?`a custom ${r} object`:"an object"}}if("function"==typeof t)return"a function";return k()}function fK(t){return t.constructor?t.constructor.name:null}function f$(t,r){if("_delegate"in t&&(t=t._delegate),!(t instanceof r)){if(r.name===t.constructor.name)throw new M(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fG(t);throw new M(L.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${n}`)}}return t}function fY(t,r){if(r<=0)throw new M(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${r}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t,r){if(!(t instanceof Uint8Array))throw new M(L.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${fG(t)}`);return fB(t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(t){this.observer=t,this.muted=!1}next(t){!this.muted&&this.observer.next&&this.scheduleEvent(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,t):A("Uncaught Error in snapshot listener:",t.toString()))}mute(){this.muted=!0}scheduleEvent(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(t,r){this.payload=t,this.byteLength=r}isBundleMetadata(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(t,r){this.reader=t,this.serializer=r,this.metadata=new F,this.buffer=new Uint8Array,this.textDecoder=sW(),this.nextElementImpl().then(t=>{t&&t.isBundleMetadata()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let t=await this.readLength();if(null===t)return null;let r=this.textDecoder.decode(t),n=Number(r);return isNaN(n)&&this.raiseError(`length string (${r}) is not valid number`),new fJ(JSON.parse(await this.readJsonString(n)),t.length+n)}indexOfOpenBracket(){return this.buffer.findIndex(t=>123===t)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let t=this.indexOfOpenBracket();t<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let r=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),r}async readJsonString(t){for(;this.buffer.length<t;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let r=this.textDecoder.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),r}raiseError(t){throw this.reader.cancel(),Error(`Invalid bundle format: ${t}`)}async pullMoreDataToBuffer(){let t=await this.reader.read();if(!t.done){let r=new Uint8Array(this.buffer.length+t.value.length);r.set(this.buffer),r.set(t.value,this.buffer.length),this.buffer=r}return t.done}}function f0(t,r){return new fX(t,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new M(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let r=await dB(this.datastore,t);return r.forEach(t=>this.recordVersion(t)),r}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastTransactionError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new sN(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let t=this.readVersions;this.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((t,r)=>{let n=el.fromPath(r);this.mutations.push(new sx(n,this.precondition(n)))}),await dV(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else if(t.isNoDocument())r=er.min();else throw k();let n=this.readVersions.get(t.key.toString());if(n){if(!r.isEqual(n))throw new M(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){let r=this.readVersions.get(t.toString());return this.writtenDocs.has(t.toString())||!r?sf.none():r.isEqual(er.min())?sf.exists(!1):sf.updateTime(r)}preconditionForUpdate(t){let r=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!r)return sf.exists(!0);if(r.isEqual(er.min()))throw new M(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sf.updateTime(r)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,r,n,i,s){this.asyncQueue=t,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this.attemptsRemaining=n.maxAttempts,this.backoff=new dO(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1,this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(async()=>{let t=new f1(this.datastore),r=this.tryRunUpdateFunction(t);r&&r.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(t=>{this.handleTransactionError(t)}))}).catch(t=>{this.handleTransactionError(t)})})}tryRunUpdateFunction(t){try{let r=this.updateFunction(t);if(rx(r)||!r.catch||!r.then)return this.deferred.reject(Error("Transaction callback must return a Promise")),null;return r}catch(t){return this.deferred.reject(t),null}}handleTransactionError(t){this.attemptsRemaining>0&&this.isRetryableTransactionError(t)?(this.attemptsRemaining-=1,this.asyncQueue.enqueueAndForget(()=>(this.runWithBackOff(),Promise.resolve()))):this.deferred.reject(t)}isRetryableTransactionError(t){if("FirebaseError"===t.name){let r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!sj(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4="FirestoreClient",f3=100,f5=11,f6=20,f9=22;class f8{constructor(t,r,n,i,s){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=b.UNAUTHENTICATED,this.clientId=Y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async t=>{I(f4,"Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(I(f4,"Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:f3}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){let r=hR(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function f7(t,r){t.asyncQueue.verifyOperationInProgress(),I(f4,"Initializing OfflineComponentProvider");let n=t.configuration;await r.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async t=>{i.isEqual(t)||(await cu(r.localStore,t),i=t)}),r.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=r}async function pe(t,r){t.asyncQueue.verifyOperationInProgress();let n=await pr(t);I(f4,"Initializing OnlineComponentProvider"),await r.initialize(n,t.configuration),t.setCredentialChangeListener(t=>hb(r.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>hb(r.remoteStore,n)),t._onlineComponents=r}function pt(t){return"FirebaseError"===t.name?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||t.code===f9||t.code===f6||t.code===f5}async function pr(t){if(!t._offlineComponents){if(t._uninitializedComponentsProvider){I(f4,"Using user provided OfflineComponentProvider");try{await f7(t,t._uninitializedComponentsProvider._offline)}catch(n){let r=n;if(!pt(r))throw r;O("Error using user provided cache. Falling back to memory cache: "+r),await f7(t,new fD)}}else I(f4,"Using default OfflineComponentProvider"),await f7(t,new fD)}return t._offlineComponents}async function pn(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(I(f4,"Using user provided OnlineComponentProvider"),await pe(t,t._uninitializedComponentsProvider._online)):(I(f4,"Using default OnlineComponentProvider"),await pe(t,new fj))),t._onlineComponents}function pi(t){return pr(t).then(t=>t.persistence)}function ps(t){return pr(t).then(t=>t.localStore)}function pa(t){return pn(t).then(t=>t.remoteStore)}function po(t){return pn(t).then(t=>t.syncEngine)}function pl(t){return pn(t).then(t=>t.datastore)}async function pu(t){let r=await pn(t),n=r.eventManager;return n.onListen=h3.bind(null,r.syncEngine),n.onUnlisten=h8.bind(null,r.syncEngine),n.onFirstRemoteStoreListen=h5.bind(null,r.syncEngine),n.onLastRemoteStoreUnlisten=h7.bind(null,r.syncEngine),n}function pc(t){return t.asyncQueue.enqueue(async()=>{let r=await pi(t),n=await pa(t);return r.setNetworkEnabled(!0),dJ(n)})}function pd(t){return t.asyncQueue.enqueue(async()=>{let r=await pi(t),n=await pa(t);return r.setNetworkEnabled(!1),d0(n)})}function ph(t){let r=new F;return t.asyncQueue.enqueueAndForget(async()=>fa(await po(t),r)),r.promise}function pf(t,r,n,i){let s=new fZ(i),a=new hq(r,s,n);return t.asyncQueue.enqueueAndForget(async()=>hD(await pu(t),a)),()=>{s.mute(),t.asyncQueue.enqueueAndForget(async()=>hL(await pu(t),a))}}function pp(t,r){let n=new F;return t.asyncQueue.enqueueAndForget(async()=>pE(await ps(t),r,n)),n.promise}function pg(t,r,n={}){let i=new F;return t.asyncQueue.enqueueAndForget(async()=>pT(await pu(t),t.asyncQueue,r,n,i)),i.promise}function pm(t,r){let n=new F;return t.asyncQueue.enqueueAndForget(async()=>pw(await ps(t),r,n)),n.promise}function pv(t,r,n={}){let i=new F;return t.asyncQueue.enqueueAndForget(async()=>pC(await pu(t),t.asyncQueue,r,n,i)),i.promise}function py(t,r,n){let i=new F;return t.asyncQueue.enqueueAndForget(async()=>{try{let s=await pl(t);i.resolve(dU(s,r,n))}catch(t){i.reject(t)}}),i.promise}function p_(t,r){let n=new F;return t.asyncQueue.enqueueAndForget(async()=>fe(await po(t),r,n)),n.promise}function pb(t,r){let n=new fZ(r);return t.asyncQueue.enqueueAndForget(async()=>hV(await pu(t),n)),()=>{n.mute(),t.asyncQueue.enqueueAndForget(async()=>hB(await pu(t),n))}}function pS(t,r,n){let i=new F;return t.asyncQueue.enqueueAndForget(async()=>{let s=await pl(t);new f2(t.asyncQueue,s,n,r,i).run()}),i.promise}async function pE(t,r,n){try{let i=await cS(t,r);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new M(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(i){let t=hR(i,`Failed to get document '${r} from cache`);n.reject(t)}}function pT(t,r,n,i,s){let a=new fZ({next:l=>{a.mute(),r.enqueueAndForget(()=>hL(t,o));let u=l.docs.has(n);!u&&l.fromCache?s.reject(new M(L.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&l.fromCache&&i&&"server"===i.source?s.reject(new M(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(l)},error:t=>s.reject(t)}),o=new hq(ih(n.path),a,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return hD(t,o)}async function pw(t,r,n){try{let i=await cC(t,r,!0),s=new hZ(r,i.remoteKeys),a=s.computeDocChanges(i.documents),o=s.applyChanges(a,!1);n.resolve(o.snapshot)}catch(i){let t=hR(i,`Failed to execute query '${r} against cache`);n.reject(t)}}function pC(t,r,n,i,s){let a=new fZ({next:n=>{a.mute(),r.enqueueAndForget(()=>hL(t,o)),n.fromCache&&"server"===i.source?s.reject(new M(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:t=>s.reject(t)}),o=new hq(n,a,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return hD(t,o)}function pR(t,r,n,i){let s=pA(n,dw(r));t.asyncQueue.enqueueAndForget(async()=>{fP(await po(t),s,i)})}function pI(t,r){return t.asyncQueue.enqueue(async()=>cF(await ps(t),r))}function pA(t,r){let n;return f0(fQ(n="string"==typeof t?sH().encode(t):t),r)}function pO(t,r){return t.asyncQueue.enqueue(async()=>cV(await ps(t),r))}function pN(t,r){return t.asyncQueue.enqueue(async()=>cB(await ps(t),r))}function pk(t){return t.asyncQueue.enqueue(async()=>cU(await ps(t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,r){return t.timeoutSeconds===r.timeoutSeconds}function px(t){let r={};return void 0!==t.timeoutSeconds&&(r.timeoutSeconds=t.timeoutSeconds),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pD="ComponentProvider",pL=new Map;function pM(t){let r=pL.get(t);r&&(I(pD,"Removing Datastore"),pL.delete(t),r.terminate())}function pF(t,r,n,i){return new rA(t,r,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,px(i.experimentalLongPollingOptions),i.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pj="firestore.googleapis.com",pV=!0,pB=5,pU=30,pz=!0;class pq{constructor(t){var r,n;if(void 0===t.host){if(void 0!==t.ssl)throw new M(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pj,this.ssl=pV}else this.host=t.host,this.ssl=null!==(r=t.ssl)&&void 0!==r?r:pV;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=l1;else{if(t.cacheSizeBytes!==l0&&t.cacheSizeBytes<l3)throw new M(L.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${l3}`);this.cacheSizeBytes=t.cacheSizeBytes}fz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=pz:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=px(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),pH(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&pP(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}function pH(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new M(L.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<pB)throw new M(L.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is ${pB})`);if(t.timeoutSeconds>pU)throw new M(L.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is ${pU})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pq({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new M(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pq(t),void 0!==t.credentials&&(this._authCredentials=K(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return pM(this),Promise.resolve()}}function pG(t,r,n,i={}){var s;let a=(t=f$(t,pW))._getSettings(),o=`${r}:${n}`;if(a.host!==pj&&a.host!==o&&O("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){let r,n;if("string"==typeof i.mockUserToken)r=i.mockUserToken,n=b.MOCK_USER;else{r=c.createMockUserToken(i.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);let a=i.mockUserToken.sub||i.mockUserToken.user_id;if(!a)throw new M(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new b(a)}t._authCredentials=new B(new j(r,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new pK(this.firestore,t,this._query)}}class p${constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pY(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new p$(this.firestore,t,this._key)}}class pY extends pK{constructor(t,r,n){super(t,r,ih(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new p$(this.firestore,null,new el(t))}withConverter(t){return new pY(this.firestore,t,this._path)}}function pQ(t,r,...n){if(t=c.getModularInstance(t),fU("collection","path",r),t instanceof pW){let i=es.fromString(r,...n);return fH(i),new pY(t,null,i)}{if(!(t instanceof p$)&&!(t instanceof pY))throw new M(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(es.fromString(r,...n));return fH(i),new pY(t.firestore,null,i)}}function pZ(t,r){if(t=f$(t,pW),fU("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new M(L.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pK(t,null,iv(r))}function pJ(t,r,...n){if(t=c.getModularInstance(t),1==arguments.length&&(r=Y.newId()),fU("doc","path",r),t instanceof pW){let i=es.fromString(r,...n);return fq(i),new p$(t,null,new el(i))}{if(!(t instanceof p$)&&!(t instanceof pY))throw new M(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(es.fromString(r,...n));return fq(i),new p$(t.firestore,t instanceof pY?t.converter:null,new el(i))}}function pX(t,r){return t=c.getModularInstance(t),r=c.getModularInstance(r),(t instanceof p$||t instanceof pY)&&(r instanceof p$||r instanceof pY)&&t.firestore===r.firestore&&t.path===r.path&&t.converter===r.converter}function p0(t,r){return t=c.getModularInstance(t),r=c.getModularInstance(r),t instanceof pK&&r instanceof pK&&t.firestore===r.firestore&&iO(t._query,r._query)&&t.converter===r.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1="AsyncQueue";class p2{constructor(t=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new dO(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=t}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.verifyNotFailed(),this.enqueueInternal(t)}enterRestrictedMode(t){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=t||!1)}enqueue(t){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let r=new F;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.retryableOps.push(t),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(t){if(eL(t))I(p1,"Operation failed with retryable error: "+t);else throw t}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(t){let r=this.tail.then(()=>(this.operationInProgress=!0,t().catch(t=>{throw this.failure=t,this.operationInProgress=!1,A("INTERNAL UNHANDLED ERROR: ",p4(t)),t}).then(t=>(this.operationInProgress=!1,t))));return this.tail=r,r}enqueueAfterDelay(t,r,n){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(t)>-1&&(r=0);let i=hC.createAndSchedule(this,t,r,n,t=>this.removeDelayedOperation(t));return this.delayedOperations.push(i),i}verifyNotFailed(){this.failure&&k()}verifyOperationInProgress(){}async drain(){let t;do t=this.tail,await t;while(t!==this.tail)}containsDelayedOperation(t){for(let r of this.delayedOperations)if(r.timerId===t)return!0;return!1}runAllDelayedOperationsUntil(t){return this.drain().then(()=>{for(let r of(this.delayedOperations.sort((t,r)=>t.targetTimeMs-r.targetTimeMs),this.delayedOperations))if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.drain()})}skipDelaysForTimerId(t){this.timerIdsToSkip.push(t)}removeDelayedOperation(t){let r=this.delayedOperations.indexOf(t);this.delayedOperations.splice(r,1)}}function p4(t){let r=t.message||"";return t.stack&&(r=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this._progressObserver={},this._taskCompletionResolver=new F,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,n){this._progressObserver={next:t,error:r,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p5=l0;class p6 extends pW{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new p2,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new p2(t),this._firestoreClient=void 0,await t}}}function p9(t,r,n){n||(n=rO);let i=a._getProvider(t,"firestore");if(i.isInitialized(n)){let t=i.getImmediate({identifier:n}),s=i.getOptions(n);if(c.deepEqual(s,r))return t;throw new M(L.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==r.cacheSizeBytes&&void 0!==r.localCache)throw new M(L.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==r.cacheSizeBytes&&r.cacheSizeBytes!==p5&&r.cacheSizeBytes<l3)throw new M(L.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${l3}`);return i.initialize({options:r,instanceIdentifier:n})}function p8(t,r){let n="object"==typeof t?t:a.getApp(),i="string"==typeof t?t:r||rO,s=a._getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){let t=c.getDefaultEmulatorHostnameAndPort("firestore");t&&pG(s,...t)}return s}function p7(t){if(t._terminated)throw new M(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ge(t),t._firestoreClient}function ge(t){var r,n,i;let s=t._freezeSettings(),a=pF(t._databaseId,(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",t._persistenceKey,s);!t._componentsProvider&&(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=s.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new f8(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&gt(t._componentsProvider))}function gt(t){let r=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(r),_online:r}}function gr(t,r){O("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings();return gi(t,fj.provider,{build:t=>new fM(t,n.cacheSizeBytes,null==r?void 0:r.forceOwnership)}),Promise.resolve()}async function gn(t){O("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings();gi(t,fj.provider,{build:t=>new fF(t,r.cacheSizeBytes)})}function gi(t,r,n){if((t=f$(t,p6))._firestoreClient||t._terminated)throw new M(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new M(L.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:r,_offline:n},ge(t)}function gs(t){if(t._initialized&&!t._terminated)throw new M(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let r=new F;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await cr(ct(t._databaseId,t._persistenceKey)),r.resolve()}catch(t){r.reject(t)}}),r.promise}function ga(t){return ph(p7(t=f$(t,p6)))}function go(t){return pc(p7(t=f$(t,p6)))}function gl(t){return pd(p7(t=f$(t,p6)))}function gu(t){return a._removeServiceInstance(t.app,"firestore",t._databaseId.database),t._delete()}function gc(t,r){let n=p7(t=f$(t,p6)),i=new p3;return pR(n,t._databaseId,r,i),i}function gd(t,r){return pI(p7(t=f$(t,p6)),r).then(r=>r?new pK(t,null,r.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,r=!0){E(a.SDK_VERSION),a._registerComponent(new o.Component("firestore",(t,{instanceIdentifier:n,options:i})=>{let s=t.getProvider("app").getImmediate(),a=new p6(new U(t.getProvider("auth-internal")),new W(t.getProvider("app-check-internal")),rk(s,n),s);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),a.registerVersion(y,_,t),a.registerVersion(y,_,"cjs2017")}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class gg{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gm(rf.fromBase64String(t))}catch(t){throw new M(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new gm(rf.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new M(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}function gy(){return new gv(en)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new M(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new M(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Q(this._lat,t._lat)||Q(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return ci(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gE=/^__.*__$/;class gT{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return null!==this.fieldMask?new sw(t,this.data,this.fieldMask,r,this.fieldTransforms):new sS(t,this.data,r,this.fieldTransforms)}}class gw{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new sw(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function gC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class gR{constructor(t,r,n,i,s,a){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===s&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new gR(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var r;let n=null===(r=this.path)||void 0===r?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var r;let n=null===(r=this.path)||void 0===r?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return gQ(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(gC(this.dataSource)&&gE.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class gI{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||dw(t)}createContext(t,r,n,i=!1){return new gR({dataSource:t,methodName:r,targetDoc:n,path:eo.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gA(t){let r=t._freezeSettings(),n=dw(t._databaseId);return new gI(t._databaseId,!!r.ignoreUndefinedProperties,n)}function gO(t,r,n,i,s,a={}){let o,l;let u=t.createContext(a.merge||a.mergeFields?2:0,r,n,s);gG("Data must be an object, but it was:",u,i);let c=gB(i,u);if(a.merge)o=new ru(u.fieldMask),l=u.fieldTransforms;else if(a.mergeFields){let t=[];for(let i of a.mergeFields){let s=gK(r,i,n);if(!u.contains(s))throw new M(L.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);gZ(t,s)||t.push(s)}o=new ru(t),l=u.fieldTransforms.filter(t=>o.covers(t.field))}else o=null,l=u.fieldTransforms;return new gT(new nE(c),o,l)}class gN extends g_{_toFieldTransform(t){if(2===t.dataSource)t.fieldMask.push(t.path);else if(1===t.dataSource)throw t.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(t){return t instanceof gN}}function gk(t,r,n){return new gR({dataSource:3,targetDoc:r.settings.targetDoc,methodName:t._methodName,arrayElement:n},r.databaseId,r.serializer,r.ignoreUndefinedProperties)}class gP extends g_{_toFieldTransform(t){return new su(t.path,new se)}isEqual(t){return t instanceof gP}}class gx extends g_{constructor(t,r){super(t),this._elements=r}_toFieldTransform(t){let r=gk(this,t,!0),n=new st(this._elements.map(t=>gV(t,r)));return new su(t.path,n)}isEqual(t){return t instanceof gx&&c.deepEqual(this._elements,t._elements)}}class gD extends g_{constructor(t,r){super(t),this._elements=r}_toFieldTransform(t){let r=gk(this,t,!0),n=new sn(this._elements.map(t=>gV(t,r)));return new su(t.path,n)}isEqual(t){return t instanceof gD&&c.deepEqual(this._elements,t._elements)}}class gL extends g_{constructor(t,r){super(t),this._operand=r}_toFieldTransform(t){let r=new ss(t.serializer,i3(t.serializer,this._operand));return new su(t.path,r)}isEqual(t){return t instanceof gL&&this._operand===t._operand}}function gM(t,r,n,i){let s=t.createContext(1,r,n);gG("Data must be an object, but it was:",s,i);let a=[],o=nE.empty();return t8(i,(t,i)=>{let l=gY(r,t,n);i=c.getModularInstance(i);let u=s.childContextForFieldPath(l);if(i instanceof gN)a.push(l);else{let t=gV(i,u);null!=t&&(a.push(l),o.set(l,t))}}),new gw(o,new ru(a),s.fieldTransforms)}function gF(t,r,n,i,s,a){let o=t.createContext(1,r,n),l=[gK(r,i,n)],u=[s];if(a.length%2!=0)throw new M(L.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<a.length;t+=2)l.push(gK(r,a[t])),u.push(a[t+1]);let d=[],h=nE.empty();for(let t=l.length-1;t>=0;--t)if(!gZ(d,l[t])){let r=l[t],n=u[t];n=c.getModularInstance(n);let i=o.childContextForFieldPath(r);if(n instanceof gN)d.push(r);else{let t=gV(n,i);null!=t&&(d.push(r),h.set(r,t))}}return new gw(h,new ru(d),o.fieldTransforms)}function gj(t,r,n,i=!1){return gV(n,t.createContext(i?4:3,r))}function gV(t,r){if(gW(t=c.getModularInstance(t)))return gG("Unsupported field value:",r,t),gB(t,r);if(t instanceof g_)return gz(t,r),null;if(void 0===t&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),!(t instanceof Array))return gq(t,r);if(r.settings.arrayElement&&4!==r.dataSource)throw r.createError("Nested arrays are not supported");return gU(t,r)}function gB(t,r){let n={};return re(t)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):t8(t,(t,i)=>{let s=gV(i,r.childContextForField(t));null!=s&&(n[t]=s)}),{mapValue:{fields:n}}}function gU(t,r){let n=[],i=0;for(let s of t){let t=gV(s,r.childContextForArray(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}function gz(t,r){if(!gC(r.dataSource))throw r.createError(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${t._methodName}() is not currently supported inside arrays`);let n=t._toFieldTransform(r);n&&r.fieldTransforms.push(n)}function gq(t,r){if(null===(t=c.getModularInstance(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return i3(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){let n=et.fromDate(t);return{timestampValue:as(r.serializer,n)}}if(t instanceof et){let n=new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:as(r.serializer,n)}}if(t instanceof gb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};else if(t instanceof gm)return{bytesValue:ao(r.serializer,t._byteString)};else if(t instanceof p$){let n=r.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw r.createError(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ad(t.firestore._databaseId||r.databaseId,t._key.path)}}else if(t instanceof gS)return gH(t,r);else throw r.createError(`Unsupported field value: ${fG(t)}`)}function gH(t,r){return{mapValue:{fields:{[rM]:{stringValue:rV},[rB]:{arrayValue:{values:t.toArray().map(t=>{if("number"!=typeof t)throw r.createError("VectorValues must only contain numeric values.");return i2(r.serializer,t)})}}}}}}function gW(t){return"object"==typeof t&&null!==t&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof et)&&!(t instanceof gb)&&!(t instanceof gm)&&!(t instanceof p$)&&!(t instanceof g_)&&!(t instanceof gS)}function gG(t,r,n){if(!gW(n)||!fW(n)){let i=fG(n);if("an object"===i)throw r.createError(t+" a custom object");throw r.createError(t+" "+i)}}function gK(t,r,n){if((r=c.getModularInstance(r))instanceof gv)return r._internalPath;if("string"==typeof r)return gY(t,r);throw gQ("Field path arguments must be of type string or ",t,!1,void 0,n)}let g$=RegExp("[~\\*/\\[\\]]");function gY(t,r,n){if(r.search(g$)>=0)throw gQ(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gv(...r.split("."))._internalPath}catch(i){throw gQ(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gQ(t,r,n,i,s){let a=i&&!i.isEmpty(),o=void 0!==s,l=`Function ${r}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${i}`),o&&(u+=` in document ${s}`),u+=")"),new M(L.INVALID_ARGUMENT,l+t+u)}function gZ(t,r){return t.some(t=>t.isEqual(r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(t,r,n,i,s){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new p$(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let t=new gX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}}}get(t){if(this._document){let r=this._document.data.field(g0("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class gX extends gJ{data(){return super.data()}}function g0(t,r){return"string"==typeof r?gY(t,r):r instanceof gv?r._internalPath:r._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new M(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g2{}class g4 extends g2{}function g3(t,r,...n){let i=[];for(let s of(r instanceof g2&&i.push(r),mT(i=i.concat(n)),i))t=s._apply(t);return t}class g5 extends g4{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new g5(t,r,n)}_apply(t){let r=this._parse(t);return m_(t._query,r),new pK(t.firestore,t.converter,iw(t._query,r))}_parse(t){let r=gA(t.firestore);return mh(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function g6(t,r,n){let i=r,s=g0("where",t);return g5._create(s,i,n)}class g9 extends g2{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new g9(t,r)}_parse(t){let r=this._queryConstraints.map(r=>r._parse(t)).filter(t=>t.getFilters().length>0);return 1===r.length?r[0]:nF.create(r,this._getOperator())}_apply(t){let r=this._parse(t);return 0===r.getFilters().length?t:(mb(t._query,r),new pK(t.firestore,t.converter,iw(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function g8(...t){return t.forEach(t=>mE("or",t)),g9._create("or",t)}function g7(...t){return t.forEach(t=>mE("and",t)),g9._create("and",t)}class me extends g4{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new me(t,r)}_apply(t){let r=mf(t._query,this._field,this._direction);return new pK(t.firestore,t.converter,iC(t._query,r))}}function mt(t,r="asc"){let n=r,i=g0("orderBy",t);return me._create(i,n)}class mr extends g4{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new mr(t,r,n)}_apply(t){return new pK(t.firestore,t.converter,iR(t._query,this._limit,this._limitType))}}function mn(t){return fY("limit",t),mr._create("limit",t,"F")}function mi(t){return fY("limitToLast",t),mr._create("limitToLast",t,"L")}class ms extends g4{constructor(t,r,n){super(),this.type=t,this._docOrFields=r,this._inclusive=n}static _create(t,r,n){return new ms(t,r,n)}_apply(t){let r=md(t,this.type,this._docOrFields,this._inclusive);return new pK(t.firestore,t.converter,iI(t._query,r))}}function ma(...t){return ms._create("startAt",t,!0)}function mo(...t){return ms._create("startAfter",t,!1)}class ml extends g4{constructor(t,r,n){super(),this.type=t,this._docOrFields=r,this._inclusive=n}static _create(t,r,n){return new ml(t,r,n)}_apply(t){let r=md(t,this.type,this._docOrFields,this._inclusive);return new pK(t.firestore,t.converter,iA(t._query,r))}}function mu(...t){return ml._create("endBefore",t,!1)}function mc(...t){return ml._create("endAt",t,!0)}function md(t,r,n,i){if(n[0]=c.getModularInstance(n[0]),n[0]instanceof gJ)return mp(t._query,t.firestore._databaseId,r,n[0]._document,i);{let s=gA(t.firestore);return mg(t._query,t.firestore._databaseId,s,r,n,i)}}function mh(t,r,n,i,s,a,o){let l;if(s.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new M(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){mv(o,a);let r=[];for(let n of o)r.push(mm(i,t,n));l={arrayValue:{values:r}}}else l=mm(i,t,o)}else("in"===a||"not-in"===a||"array-contains-any"===a)&&mv(o,a),l=gj(n,r,o,"in"===a||"not-in"===a);return nM.create(s,a,l)}function mf(t,r,n){if(null!==t.startAt)throw new M(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new M(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nk(r,n)}function mp(t,r,n,i,s){if(!i)throw new M(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);let a=[];for(let n of ib(t))if(n.field.isKeyField())a.push(na(r,i.key));else{let t=i.data.field(n.field);if(rw(t))throw new M(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==t)a.push(t);else{let t=n.field.canonicalString();throw new M(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}}return new nR(a,s)}function mg(t,r,n,i,s,a){let o=t.explicitOrderBy;if(s.length>o.length)throw new M(L.INVALID_ARGUMENT,`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let l=[];for(let a=0;a<s.length;a++){let u=s[a];if(o[a].field.isKeyField()){if("string"!=typeof u)throw new M(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof u}`);if(!i_(t)&&-1!==u.indexOf("/"))throw new M(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${u}' contains a slash.`);let n=t.path.child(es.fromString(u));if(!el.isDocumentKey(n))throw new M(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);let s=new el(n);l.push(na(r,s))}else{let t=gj(n,i,u);l.push(t)}}return new nR(l,a)}function mm(t,r,n){if("string"==typeof(n=c.getModularInstance(n))){if(""===n)throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i_(r)&&-1!==n.indexOf("/"))throw new M(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=r.path.child(es.fromString(n));if(!el.isDocumentKey(i))throw new M(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return na(t,new el(i))}if(n instanceof p$)return na(t,n._key);throw new M(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fG(n)}.`)}function mv(t,r){if(!Array.isArray(t)||0===t.length)throw new M(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`)}function my(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function m_(t,r){let n=mS(t.filters,my(r.op));if(null!==n){if(n===r.op)throw new M(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${r.op.toString()}' filter.`);throw new M(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${r.op.toString()}' filters with '${n.toString()}' filters.`)}}function mb(t,r){let n=t;for(let t of r.getFlattenedFilters())m_(n,t),n=iw(n,t)}function mS(t,r){for(let n of t)for(let t of n.getFlattenedFilters())if(r.indexOf(t.op)>=0)return t.op;return null}function mE(t,r){if(!(r instanceof g5)&&!(r instanceof g9))throw new M(L.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function mT(t){let r=t.filter(t=>t instanceof g9).length,n=t.filter(t=>t instanceof g5).length;if(r>1||r>0&&n>0)throw new M(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{convertValue(t,r="none"){switch(rz(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ry(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(r_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw k()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){let n={};return t8(t,(t,i)=>{n[t]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,i;return new gS(null===(i=null===(n=null===(r=t.fields)||void 0===r?void 0:r[rB].arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(t=>ry(t.doubleValue)))}convertGeoPoint(t){return new gb(ry(t.latitude),ry(t.longitude))}convertArray(t,r){return(t.values||[]).map(t=>this.convertValue(t,r))}convertServerTimestamp(t,r){switch(r){case"previous":let n=rR(t);if(null==n)return null;return this.convertValue(n,r);case"estimate":return this.convertTimestamp(rI(t));default:return null}}convertTimestamp(t){let r=rv(t);return new et(r.seconds,r.nanos)}convertDocumentKey(t,r){let n=es.fromString(t);P(oc(n));let i=new rN(n.get(1),n.get(3)),s=new el(n.popFirst(5));return i.isEqual(r)||A(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,r,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(r,n):t.toFirestore(r):r}class mR extends mw{constructor(t){super(),this.firestore=t}convertBytes(t){return new gm(t)}convertReference(t){let r=this.convertDocumentKey(t,this.firestore._databaseId);return new p$(this.firestore,null,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){return new gp("sum",gK("sum",t))}function mA(t){return new gp("avg",gK("average",t))}function mO(){return new gp("count")}function mN(t,r){var n,i;return t instanceof gp&&r instanceof gp&&t.aggregateType===r.aggregateType&&(null===(n=t._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(i=r._internalFieldPath)||void 0===i?void 0:i.canonicalString())}function mk(t,r){return p0(t.query,r.query)&&c.deepEqual(t.data(),r.data())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return mx(t,["next","error","complete"])}function mx(t,r){if("object"!=typeof t||null===t)return!1;let n=t;for(let t of r)if(t in n&&"function"==typeof n[t])return!0;return!1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mL extends gJ{constructor(t,r,n,i,s,a){super(t,r,n,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps);{let r=new mM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}}}get(t,r={}){if(this._document){let n=this._document.data.field(g0("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class mM extends mL{data(t={}){return super.data(t)}}class mF{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new mD(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){let t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new mM(this._firestore,this._userDataWriter,n.key,n,new mD(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new M(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=mj(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function mj(t,r){if(t._snapshot.oldDocs.isEmpty()){let r=0;return t._snapshot.docChanges.map(n=>{let i=new mM(t._firestore,t._userDataWriter,n.doc.key,n.doc,new mD(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>r||3!==t.type).map(r=>{let i=new mM(t._firestore,t._userDataWriter,r.doc.key,r.doc,new mD(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter),s=-1,a=-1;return 0!==r.type&&(s=n.indexOf(r.doc.key),n=n.delete(r.doc.key)),1!==r.type&&(a=(n=n.add(r.doc)).indexOf(r.doc.key)),{type:mV(r.type),doc:i,oldIndex:s,newIndex:a}})}}function mV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}function mB(t,r){return t instanceof mL&&r instanceof mL?t._firestore===r._firestore&&t._key.isEqual(r._key)&&(null===t._document?null===r._document:t._document.isEqual(r._document))&&t._converter===r._converter:t instanceof mF&&r instanceof mF&&t._firestore===r._firestore&&p0(t.query,r.query)&&t.metadata.isEqual(r.metadata)&&t._snapshot.isEqual(r._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){t=f$(t,p$);let r=f$(t.firestore,p6);return pg(p7(r),t._key).then(n=>m1(r,t,n))}class mz extends mw{constructor(t){super(),this.firestore=t}convertBytes(t){return new gm(t)}convertReference(t){let r=this.convertDocumentKey(t,this.firestore._databaseId);return new p$(this.firestore,null,r)}}function mq(t){t=f$(t,p$);let r=f$(t.firestore,p6),n=p7(r),i=new mz(r);return pp(n,t._key).then(n=>new mL(r,i,t._key,n,new mD(null!==n&&n.hasLocalMutations,!0),t.converter))}function mH(t){t=f$(t,p$);let r=f$(t.firestore,p6);return pg(p7(r),t._key,{source:"server"}).then(n=>m1(r,t,n))}function mW(t){t=f$(t,pK);let r=f$(t.firestore,p6),n=p7(r),i=new mz(r);return g1(t._query),pv(n,t._query).then(n=>new mF(r,i,t,n))}function mG(t){t=f$(t,pK);let r=f$(t.firestore,p6),n=p7(r),i=new mz(r);return pm(n,t._query).then(n=>new mF(r,i,t,n))}function mK(t){t=f$(t,pK);let r=f$(t.firestore,p6),n=p7(r),i=new mz(r);return pv(n,t._query,{source:"server"}).then(n=>new mF(r,i,t,n))}function m$(t,r,n){t=f$(t,p$);let i=f$(t.firestore,p6),s=mC(t.converter,r,n),a=gO(gA(i),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,sf.none());return m0(i,[a])}function mY(t,r,n,...i){let s;t=f$(t,p$);let a=f$(t.firestore,p6),o=gA(a);return m0(a,[(s="string"==typeof(r=c.getModularInstance(r))||r instanceof gv?gF(o,"updateDoc",t._key,r,n,i):gM(o,"updateDoc",t._key,r)).toMutation(t._key,sf.exists(!0))])}function mQ(t){return m0(f$(t.firestore,p6),[new sN(t._key,sf.none())])}function mZ(t,r){let n=f$(t.firestore,p6),i=pJ(t),s=mC(t.converter,r);return m0(n,[gO(gA(t.firestore),"addDoc",i._key,s,null!==t.converter,{}).toMutation(i._key,sf.exists(!1))]).then(()=>i)}function mJ(t,...r){var n,i,s;let a,o,l;t=c.getModularInstance(t);let u={includeMetadataChanges:!1,source:"default"},d=0;"object"==typeof r[0]&&!mP(r[d])&&(u=r[d],d++);let h={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(mP(r[d])){let t=r[d];r[d]=null===(n=t.next)||void 0===n?void 0:n.bind(t),r[d+1]=null===(i=t.error)||void 0===i?void 0:i.bind(t),r[d+2]=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}if(t instanceof p$)o=f$(t.firestore,p6),l=ih(t._key.path),a={next:n=>{r[d]&&r[d](m1(o,t,n))},error:r[d+1],complete:r[d+2]};else{let n=f$(t,pK);o=f$(n.firestore,p6),l=n._query;let i=new mz(o);a={next:t=>{r[d]&&r[d](new mF(o,i,n,t))},error:r[d+1],complete:r[d+2]},g1(t._query)}return pf(p7(o),l,h,a)}function mX(t,r){return pb(p7(t=f$(t,p6)),mP(r)?r:{next:r})}function m0(t,r){return p_(p7(t),r)}function m1(t,r,n){let i=n.docs.get(r._key),s=new mz(t);return new mL(t,s,r._key,i,new mD(n.hasPendingWrites,n.fromCache),r.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){return m4(t,{count:mO()})}function m4(t,r){let n=f$(t.firestore,p6),i=p7(n),s=t7(r,(t,r)=>new gf(r,t.aggregateType,t._internalFieldPath));return py(i,t._query,s).then(r=>m3(n,t,r))}function m3(t,r,n){return new gg(r,new mz(t),n)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(t){this.kind="memory",this._onlineComponentProvider=fj.provider,(null==t?void 0:t.garbageCollector)?this._offlineComponentProvider=t.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=fD.provider}toJSON(){return{kind:this.kind}}}class m6{constructor(t){let r;this.kind="persistent",(null==t?void 0:t.tabManager)?(t.tabManager._initialize(t),r=t.tabManager):(r=vs(void 0))._initialize(t),this._onlineComponentProvider=r._onlineComponentProvider,this._offlineComponentProvider=r._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class m9{constructor(){this.kind="memoryEager",this._offlineComponentProvider=fD.provider}toJSON(){return{kind:this.kind}}}class m8{constructor(t){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new fL(t)}}toJSON(){return{kind:this.kind}}}function m7(){return new m9}function ve(t){return new m8(null==t?void 0:t.cacheSizeBytes)}function vt(t){return new m5(t)}function vr(t){return new m6(t)}class vn{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=fj.provider,this._offlineComponentProvider={build:r=>new fM(r,null==t?void 0:t.cacheSizeBytes,this.forceOwnership)}}}class vi{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=fj.provider,this._offlineComponentProvider={build:r=>new fF(r,null==t?void 0:t.cacheSizeBytes)}}}function vs(t){return new vn(null==t?void 0:t.forceOwnership)}function va(){return new vi}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo={maxAttempts:5};function vl(t){if(t.maxAttempts<1)throw new M(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=gA(t)}set(t,r,n){this._verifyNotCommitted();let i=vc(t,this._firestore),s=mC(i.converter,r,n),a=gO(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,n);return this._mutations.push(a.toMutation(i._key,sf.none())),this}update(t,r,n,...i){let s;this._verifyNotCommitted();let a=vc(t,this._firestore);return s="string"==typeof(r=c.getModularInstance(r))||r instanceof gv?gF(this._dataReader,"WriteBatch.update",a._key,r,n,i):gM(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,sf.exists(!0))),this}delete(t){this._verifyNotCommitted();let r=vc(t,this._firestore);return this._mutations=this._mutations.concat(new sN(r._key,sf.none())),this}commit(){return(this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0)?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new M(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vc(t,r){if((t=c.getModularInstance(t)).firestore===r)return t;throw new M(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=gA(t)}get(t){let r=vc(t,this._firestore),n=new mR(this._firestore);return this._transaction.lookup([r._key]).then(t=>{if(!t||1!==t.length)return k();let i=t[0];if(i.isFoundDocument())return new gJ(this._firestore,n,i.key,i,r.converter);if(i.isNoDocument())return new gJ(this._firestore,n,r._key,null,r.converter);throw k()})}set(t,r,n){let i=vc(t,this._firestore),s=mC(i.converter,r,n),a=gO(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,n);return this._transaction.set(i._key,a),this}update(t,r,n,...i){let s;let a=vc(t,this._firestore);return s="string"==typeof(r=c.getModularInstance(r))||r instanceof gv?gF(this._dataReader,"Transaction.update",a._key,r,n,i):gM(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,s),this}delete(t){let r=vc(t,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends vd{constructor(t,r){super(t,r),this._firestore=t}get(t){let r=vc(t,this._firestore),n=new mz(this._firestore);return super.get(t).then(t=>new mL(this._firestore,n,r._key,t._document,new mD(!1,!1),r.converter))}}function vf(t,r,n){t=f$(t,p6);let i=Object.assign(Object.assign({},vo),n);return vl(i),pS(p7(t),n=>r(new vh(t,n)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){return new gN("deleteField")}function vg(){return new gP("serverTimestamp")}function vm(...t){return new gx("arrayUnion",t)}function vv(...t){return new gD("arrayRemove",t)}function vy(t){return new gL("increment",t)}function v_(t){return new gS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){return p7(t=f$(t,p6)),new vu(t,r=>m0(t,r))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,r){let n=p7(t=f$(t,p6));return n._uninitializedComponentsProvider&&"memory"!==n._uninitializedComponentsProvider._offline.kind?pO(n,vE(r)):(O("Cannot enable indexes when persistence is disabled"),Promise.resolve())}function vE(t){let r="string"==typeof t?vT(t):t,n=[];if(Array.isArray(r.indexes))for(let t of r.indexes){let r=vw(t,"collectionGroup"),i=[];if(Array.isArray(t.fields))for(let r of t.fields){let t=gY("setIndexConfiguration",vw(r,"fieldPath"));"CONTAINS"===r.arrayConfig?i.push(new ev(t,2)):"ASCENDING"===r.order?i.push(new ev(t,0)):"DESCENDING"===r.order&&i.push(new ev(t,1))}n.push(new ed(ed.UNKNOWN_ID,r,i,e_.empty()))}return n}function vT(t){try{return JSON.parse(t)}catch(t){throw new M(L.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==t?void 0:t.message))}}function vw(t,r){if("string"!=typeof t[r])throw new M(L.INVALID_ARGUMENT,"Missing string value for: "+r);return t[r]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this._firestore=t,this.type="PersistentCacheIndexManager"}}function vR(t){var r;t=f$(t,p6);let n=vk.get(t);if(n)return n;if((null===(r=p7(t)._uninitializedComponentsProvider)||void 0===r?void 0:r._offline.kind)!=="persistent")return null;let i=new vC(t);return vk.set(t,i),i}function vI(t){vN(t,!0)}function vA(t){vN(t,!1)}function vO(t){pk(p7(t._firestore)).then(t=>I("deleting all persistent cache indexes succeeded")).catch(t=>O("deleting all persistent cache indexes failed",t))}function vN(t,r){pN(p7(t._firestore),r).then(t=>I(`setting persistent cache index auto creation isEnabled=${r} succeeded`)).catch(t=>O(`setting persistent cache index auto creation isEnabled=${r} failed`,t))}let vk=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){var r;let n=null===(r=p7(f$(t.firestore,p6))._onlineComponents)||void 0===r?void 0:r.datastore.serializer;return void 0===n?null:aB(n,iS(t._query)).queryTarget}function vx(t,r){var n;let i=t7(r,(t,r)=>new gf(r,t.aggregateType,t._internalFieldPath)),s=null===(n=p7(f$(t.firestore,p6))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===s?null:aU(s,iE(t._query),i,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){throw Error("instances of this class should not be created")}static onExistenceFilterMismatch(t){return vL.instance.onExistenceFilterMismatch(t)}}class vL{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){return vM||sq(vM=new vL),vM}notifyOnExistenceFilterMismatch(t){this.existenceFilterMismatchCallbacksById.forEach(r=>r(t))}onExistenceFilterMismatch(t){let r=Symbol(),n=this.existenceFilterMismatchCallbacksById;return n.set(r,t),()=>n.delete(r)}}let vM=null;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gh("node"),r.AbstractUserDataWriter=mw,r.AggregateField=gp,r.AggregateQuerySnapshot=gg,r.Bytes=gm,r.CACHE_SIZE_UNLIMITED=p5,r.CollectionReference=pY,r.DocumentReference=p$,r.DocumentSnapshot=mL,r.FieldPath=gv,r.FieldValue=g_,r.Firestore=p6,r.FirestoreError=M,r.GeoPoint=gb,r.LoadBundleTask=p3,r.PersistentCacheIndexManager=vC,r.Query=pK,r.QueryCompositeFilterConstraint=g9,r.QueryConstraint=g4,r.QueryDocumentSnapshot=mM,r.QueryEndAtConstraint=ml,r.QueryFieldFilterConstraint=g5,r.QueryLimitConstraint=mr,r.QueryOrderByConstraint=me,r.QuerySnapshot=mF,r.QueryStartAtConstraint=ms,r.SnapshotMetadata=mD,r.Timestamp=et,r.Transaction=vh,r.VectorValue=gS,r.WriteBatch=vu,r._AutoId=Y,r._ByteString=rf,r._DatabaseId=rN,r._DocumentKey=el,r._EmptyAppCheckTokenProvider=G,r._EmptyAuthCredentialsProvider=V,r._FieldPath=eo,r._TestingHooks=vD,r._cast=f$,r._debugAssert=x,r._internalAggregationQueryToProtoRunAggregationQueryRequest=vx,r._internalQueryToProtoQueryTarget=vP,r._isBase64Available=rh,r._logWarn=O,r._validateIsNotUsedTogether=fz,r.addDoc=mZ,r.aggregateFieldEqual=mN,r.aggregateQuerySnapshotEqual=mk,r.and=g7,r.arrayRemove=vv,r.arrayUnion=vm,r.average=mA,r.clearIndexedDbPersistence=gs,r.collection=pQ,r.collectionGroup=pZ,r.connectFirestoreEmulator=pG,r.count=mO,r.deleteAllPersistentCacheIndexes=vO,r.deleteDoc=mQ,r.deleteField=vp,r.disableNetwork=gl,r.disablePersistentCacheIndexAutoCreation=vA,r.doc=pJ,r.documentId=gy,r.enableIndexedDbPersistence=gr,r.enableMultiTabIndexedDbPersistence=gn,r.enableNetwork=go,r.enablePersistentCacheIndexAutoCreation=vI,r.endAt=mc,r.endBefore=mu,r.ensureFirestoreConfigured=p7,r.executeWrite=m0,r.getAggregateFromServer=m4,r.getCountFromServer=m2,r.getDoc=mU,r.getDocFromCache=mq,r.getDocFromServer=mH,r.getDocs=mW,r.getDocsFromCache=mG,r.getDocsFromServer=mK,r.getFirestore=p8,r.getPersistentCacheIndexManager=vR,r.increment=vy,r.initializeFirestore=p9,r.limit=mn,r.limitToLast=mi,r.loadBundle=gc,r.memoryEagerGarbageCollector=m7,r.memoryLocalCache=vt,r.memoryLruGarbageCollector=ve,r.namedQuery=gd,r.onSnapshot=mJ,r.onSnapshotsInSync=mX,r.or=g8,r.orderBy=mt,r.persistentLocalCache=vr,r.persistentMultipleTabManager=va,r.persistentSingleTabManager=vs,r.query=g3,r.queryEqual=p0,r.refEqual=pX,r.runTransaction=vf,r.serverTimestamp=vg,r.setDoc=m$,r.setIndexConfiguration=vS,r.setLogLevel=R,r.snapshotEqual=mB,r.startAfter=mo,r.startAt=ma,r.sum=mI,r.terminate=gu,r.updateDoc=mY,r.vector=v_,r.waitForPendingWrites=ga,r.where=g6,r.writeBatch=vb},35787:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,s=n(83886),a=[];r.LogLevel=void 0,function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r.LogLevel||(r.LogLevel={}));var o={debug:r.LogLevel.DEBUG,verbose:r.LogLevel.VERBOSE,info:r.LogLevel.INFO,warn:r.LogLevel.WARN,error:r.LogLevel.ERROR,silent:r.LogLevel.SILENT},l=r.LogLevel.INFO,u=((i={})[r.LogLevel.DEBUG]="log",i[r.LogLevel.VERBOSE]="log",i[r.LogLevel.INFO]="info",i[r.LogLevel.WARN]="warn",i[r.LogLevel.ERROR]="error",i),c=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(r<t.logLevel)){var a=new Date().toISOString(),o=u[r];if(o)console[o].apply(console,s.__spreadArray(["[".concat(a,"]  ").concat(t.name,":")],n,!1));else throw Error("Attempted to log a message with an invalid logType (value: ".concat(r,")"))}},d=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r.LogLevel))throw TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?o[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,r.LogLevel.DEBUG],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,r.LogLevel.DEBUG],t,!1))},t.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,r.LogLevel.VERBOSE],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,r.LogLevel.VERBOSE],t,!1))},t.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,r.LogLevel.INFO],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,r.LogLevel.INFO],t,!1))},t.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,r.LogLevel.WARN],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,r.LogLevel.WARN],t,!1))},t.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,r.LogLevel.ERROR],t,!1)),this._logHandler.apply(this,s.__spreadArray([this,r.LogLevel.ERROR],t,!1))},t}();function h(t){a.forEach(function(r){r.setLogLevel(t)})}function f(t,n){for(var i=function(i){var s=null;n&&n.level&&(s=o[n.level]),null===t?i.userLogHandler=null:i.userLogHandler=function(n,i){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];var l=a.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");i>=(null!=s?s:n.logLevel)&&t({level:r.LogLevel[i].toLowerCase(),message:l,args:a,type:n.name})}},s=0,l=a;s<l.length;s++)i(l[s])}r.Logger=d,r.setLogLevel=h,r.setUserLogHandler=f},16172:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(83886),s={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(t,r){if(!t)throw o(r)},o=function(t){return Error("Firebase Database ("+s.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},l=function(t){for(var r=[],n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:(s<2048?r[n++]=s>>6|192:((64512&s)==55296&&i+1<t.length&&(64512&t.charCodeAt(i+1))==56320?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128):r[n++]=s>>12|224,r[n++]=s>>6&63|128),r[n++]=63&s|128)}return r},u=function(t){for(var r=[],n=0,i=0;n<t.length;){var s=t[n++];if(s<128)r[i++]=String.fromCharCode(s);else if(s>191&&s<224){var a=t[n++];r[i++]=String.fromCharCode((31&s)<<6|63&a)}else if(s>239&&s<365){var a=t[n++],o=t[n++],l=((7&s)<<18|(63&a)<<12|(63&o)<<6|63&t[n++])-65536;r[i++]=String.fromCharCode(55296+(l>>10)),r[i++]=String.fromCharCode(56320+(1023&l))}else{var a=t[n++],o=t[n++];r[i++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&o)}}return r.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,r){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],s=0;s<t.length;s+=3){var a=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=a>>2,h=(3&a)<<4|l>>4,f=(15&l)<<2|c>>6,p=63&c;u||(p=64,o||(f=64)),i.push(n[d],n[h],n[f],n[p])}return i.join("")},encodeString:function(t,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(t):this.encodeByteArray(l(t),r)},decodeString:function(t,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(t):u(this.decodeStringToByteArray(t,r))},decodeStringToByteArray:function(t,r){this.init_();for(var n=r?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],s=0;s<t.length;){var a=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0,l=++s<t.length?n[t.charAt(s)]:64,u=++s<t.length?n[t.charAt(s)]:64;if(++s,null==a||null==o||null==l||null==u)throw new d;var c=a<<2|o>>4;if(i.push(c),64!==l){var h=o<<4&240|l>>2;if(i.push(h),64!==u){var f=l<<6&192|u;i.push(f)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},d=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.name="DecodeBase64StringError",r}return i.__extends(r,t),r}(Error),h=function(t){var r=l(t);return c.encodeByteArray(r,!0)},f=function(t){return h(t).replace(/\./g,"")},p=function(t){try{return c.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){return m(void 0,t)}function m(t,r){if(!(r instanceof Object))return r;switch(r.constructor){case Date:return new Date(r.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return r}for(var n in r)r.hasOwnProperty(n)&&v(n)&&(t[n]=m(t[n],r[n]));return t}function v(t){return"__proto__"!==t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _=function(){return y().__FIREBASE_DEFAULTS__},b=function(){if("undefined"!=typeof process&&void 0!==process.env){var t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)}},S=function(){if("undefined"!=typeof document){try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}var t,r=t&&p(t[1]);return r&&JSON.parse(r)}},E=function(){try{return _()||b()||S()}catch(t){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t));return}},T=function(t){var r,n;return null===(n=null===(r=E())||void 0===r?void 0:r.emulatorHosts)||void 0===n?void 0:n[t]},w=function(t){var r=T(t);if(r){var n=r.lastIndexOf(":");if(n<=0||n+1===r.length)throw Error("Invalid host ".concat(r," with no separate hostname and port!"));var i=parseInt(r.substring(n+1),10);return"["===r[0]?[r.substring(1,n-1),i]:[r.substring(0,n),i]}},C=function(){var t;return null===(t=E())||void 0===t?void 0:t.config},R=function(t){var r;return null===(r=E())||void 0===r?void 0:r["_".concat(t)]},I=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(r,n){t.resolve=r,t.reject=n})}return t.prototype.wrapCallback=function(t){var r=this;return function(n,i){n?r.reject(n):r.resolve(i),"function"==typeof t&&(r.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t,r){if(t.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},s=r||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var l=i.__assign({iss:"https://securetoken.google.com/".concat(s),aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[f(JSON.stringify(n)),f(JSON.stringify(l)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function k(){var t,r=null===(t=E())||void 0===t?void 0:t.forceEnvironment;if("node"===r)return!0;if("browser"===r)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function P(){return"undefined"!=typeof window||x()}function x(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function D(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function L(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function M(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function F(){return O().indexOf("Electron/")>=0}function j(){var t=O();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V(){return O().indexOf("MSAppHost/")>=0}function B(){return!0===s.NODE_CLIENT||!0===s.NODE_ADMIN}function U(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch(t){return!1}}function q(){return new Promise(function(t,r){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=function(){s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=function(){n=!1},s.onerror=function(){var t;r((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(t){r(t)}})}function H(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W="FirebaseError",G=function(t){function r(n,i,s){var a=t.call(this,i)||this;return a.code=n,a.customData=s,a.name=W,Object.setPrototypeOf(a,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,K.prototype.create),a}return i.__extends(r,t),r}(Error),K=function(){function t(t,r,n){this.service=t,this.serviceName=r,this.errors=n}return t.prototype.create=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=r[0]||{},s="".concat(this.service,"/").concat(t),a=this.errors[t],o=a?$(a,i):"Error",l="".concat(this.serviceName,": ").concat(o," (").concat(s,").");return new G(s,l,i)},t}();function $(t,r){return t.replace(Y,function(t,n){var i=r[n];return null!=i?String(i):"<".concat(n,"?>")})}var Y=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t){return JSON.parse(t)}function Z(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(t){var r={},n={},i={},s="";try{var a=t.split(".");r=Q(p(a[0])||""),n=Q(p(a[1])||""),s=a[2],i=n.d||{},delete n.d}catch(t){}return{header:r,claims:n,data:i,signature:s}},X=function(t){var r=J(t).claims,n=Math.floor(new Date().getTime()/1e3),i=0,s=0;return"object"==typeof r&&(r.hasOwnProperty("nbf")?i=r.nbf:r.hasOwnProperty("iat")&&(i=r.iat),s=r.hasOwnProperty("exp")?r.exp:i+86400),!!n&&!!i&&!!s&&n>=i&&n<=s},ee=function(t){var r=J(t).claims;return"object"==typeof r&&r.hasOwnProperty("iat")?r.iat:null},et=function(t){var r=J(t).claims;return!!r&&"object"==typeof r&&r.hasOwnProperty("iat")},er=function(t){var r=J(t).claims;return"object"==typeof r&&!0===r.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function ei(t,r){return Object.prototype.hasOwnProperty.call(t,r)?t[r]:void 0}function es(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function ea(t,r,n){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=r.call(n,t[s],s,t));return i}function eo(t,r){if(t===r)return!0;for(var n=Object.keys(t),i=Object.keys(r),s=0,a=n;s<a.length;s++){var o=a[s];if(!i.includes(o))return!1;var l=t[o],u=r[o];if(el(l)&&el(u)){if(!eo(l,u))return!1}else if(l!==u)return!1}for(var c=0,d=i;c<d.length;c++){var o=d[c];if(!n.includes(o))return!1}return!0}function el(t){return null!==t&&"object"==typeof t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t,r){void 0===r&&(r=2e3);var n=new I;return setTimeout(function(){return n.reject("timeout!")},r),t.then(n.resolve,n.reject),n.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){for(var r=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){r.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,s=Object.entries(t);i<s.length;i++){var a=s[i];n(a[0],a[1])}return r.length?"&"+r.join("&"):""}function ed(t){var r={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),i=n[0],s=n[1];r[decodeURIComponent(i)]=decodeURIComponent(s)}}),r}function eh(t){var r=t.indexOf("?");if(!r)return"";var n=t.indexOf("#",r);return t.substring(r,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ef=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,r){r||(r=0);var n,i,s=this.W_;if("string"==typeof t)for(var a=0;a<16;a++)s[a]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(var a=0;a<16;a++)s[a]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(var a=16;a<80;a++){var o=s[a-3]^s[a-8]^s[a-14]^s[a-16];s[a]=(o<<1|o>>>31)&4294967295}for(var l=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],h=this.chain_[4],a=0;a<80;a++){a<40?a<20?(n=d^u&(c^d),i=1518500249):(n=u^c^d,i=1859775393):a<60?(n=u&c|d&(u|c),i=2400959708):(n=u^c^d,i=3395469782);var o=(l<<5|l>>>27)+n+h+i+s[a]&4294967295;h=d,d=c,c=(u<<30|u>>>2)&4294967295,u=l,l=o}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,r){if(null!=t){void 0===r&&(r=t.length);for(var n=r-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<r;){if(0===a)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<r;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<r;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=r}},t.prototype.digest=function(){var t=[],r=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&r,r/=256;this.compress_(this.buf_);for(var i=0,n=0;n<5;n++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[n]>>s&255,++i;return t},t}();function ep(t,r){var n=new eg(t,r);return n.subscribe.bind(n)}var eg=function(){function t(t,r){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(r){r.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(r){r.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,r,n){var i,s=this;if(void 0===t&&void 0===r&&void 0===n)throw Error("Missing Observer.");void 0===(i=ev(t,["next","error","complete"])?t:{next:t,error:r,complete:n}).next&&(i.next=ey),void 0===i.error&&(i.error=ey),void 0===i.complete&&(i.complete=ey);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{s.finalError?i.error(s.finalError):i.complete()}catch(t){}}),this.observers.push(i),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var r=0;r<this.observers.length;r++)this.sendOne(r,t)},t.prototype.sendOne=function(t,r){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{r(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var r=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){r.observers=void 0,r.onNoObservers=void 0}))},t}();function em(t,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){r&&r(t)})}}function ev(t,r){if("object"!=typeof t||null===t)return!1;for(var n=0,i=r;n<i.length;n++){var s=i[n];if(s in t&&"function"==typeof t[s])return!0}return!1}function ey(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e_=function(t,r,n,i){var s;if(i<r?s="at least "+r:i>n&&(s=0===n?"none":"no more than "+n),s)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+s+".")};function eb(t,r){return"".concat(t," failed: ").concat(r," argument ")}function eS(t,r,n){if((!n||r)&&"string"!=typeof r)throw Error(eb(t,"namespace")+"must be a valid firebase namespace.")}function eE(t,r,n,i){if((!i||n)&&"function"!=typeof n)throw Error(eb(t,r)+"must be a valid function.")}function eT(t,r,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw Error(eb(t,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ew=function(t){for(var r=[],n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=55296&&s<=56319){var o=s-55296;a(++i<t.length,"Surrogate pair missing trail surrogate."),s=65536+(o<<10)+(t.charCodeAt(i)-56320)}s<128?r[n++]=s:(s<2048?r[n++]=s>>6|192:(s<65536?r[n++]=s>>12|224:(r[n++]=s>>18|240,r[n++]=s>>12&63|128),r[n++]=s>>6&63|128),r[n++]=63&s|128)}return r},eC=function(t){for(var r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?r++:i<2048?r+=2:i>=55296&&i<=56319?(r+=4,n++):r+=3}return r},eR=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=16*Math.random()|0;return("x"===t?r:3&r|8).toString(16)})},eI=1e3,eA=2,eO=144e5,eN=.5;function ek(t,r,n){void 0===r&&(r=eI),void 0===n&&(n=eA);var i=r*Math.pow(n,t),s=Math.round(eN*i*(Math.random()-.5)*2);return Math.min(eO,i+s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){return Number.isFinite(t)?t+ex(t):"".concat(t)}function ex(t){var r=(t=Math.abs(t))%100;if(r>=10&&r<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */s.NODE_CLIENT=!0,r.CONSTANTS=s,r.DecodeBase64StringError=d,r.Deferred=I,r.ErrorFactory=K,r.FirebaseError=G,r.MAX_VALUE_MILLIS=eO,r.RANDOM_FACTOR=eN,r.Sha1=ef,r.areCookiesEnabled=H,r.assert=a,r.assertionError=o,r.async=em,r.base64=c,r.base64Decode=p,r.base64Encode=h,r.base64urlEncodeWithoutPadding=f,r.calculateBackoffMillis=ek,r.contains=en,r.createMockUserToken=A,r.createSubscribe=ep,r.decode=J,r.deepCopy=g,r.deepEqual=eo,r.deepExtend=m,r.errorPrefix=eb,r.extractQuerystring=eh,r.getDefaultAppConfig=C,r.getDefaultEmulatorHost=T,r.getDefaultEmulatorHostnameAndPort=w,r.getDefaults=E,r.getExperimentalSetting=R,r.getGlobal=y,r.getModularInstance=eD,r.getUA=O,r.isAdmin=er,r.isBrowser=P,r.isBrowserExtension=L,r.isCloudflareWorker=D,r.isElectron=F,r.isEmpty=es,r.isIE=j,r.isIndexedDBAvailable=z,r.isMobileCordova=N,r.isNode=k,r.isNodeSdk=B,r.isReactNative=M,r.isSafari=U,r.isUWP=V,r.isValidFormat=et,r.isValidTimestamp=X,r.isWebWorker=x,r.issuedAtTime=ee,r.jsonEval=Q,r.map=ea,r.ordinal=eP,r.promiseWithTimeout=eu,r.querystring=ec,r.querystringDecode=ed,r.safeGet=ei,r.stringLength=eC,r.stringToByteArray=ew,r.stringify=Z,r.uuidv4=eR,r.validateArgCount=e_,r.validateCallback=eE,r.validateContextObject=eT,r.validateIndexedDBOpenable=q,r.validateNamespace=eS},54149:t=>{/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){"use strict";function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,r,n){n||(n=0);var i=Array(16);if("string"==typeof r)for(var s=0;16>s;++s)i[s]=r.charCodeAt(n++)|r.charCodeAt(n++)<<8|r.charCodeAt(n++)<<16|r.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=r[n++]|r[n++]<<8|r[n++]<<16|r[n++]<<24;r=t.g[0],n=t.g[1],s=t.g[2];var a=t.g[3],o=r+(a^n&(s^a))+i[0]+3614090360&4294967295;o=a+(s^(r=n+(o<<7&4294967295|o>>>25))&(n^s))+i[1]+3905402710&4294967295,o=s+(n^(a=r+(o<<12&4294967295|o>>>20))&(r^n))+i[2]+606105819&4294967295,o=n+(r^(s=a+(o<<17&4294967295|o>>>15))&(a^r))+i[3]+3250441966&4294967295,o=r+(a^(n=s+(o<<22&4294967295|o>>>10))&(s^a))+i[4]+4118548399&4294967295,o=a+(s^(r=n+(o<<7&4294967295|o>>>25))&(n^s))+i[5]+1200080426&4294967295,o=s+(n^(a=r+(o<<12&4294967295|o>>>20))&(r^n))+i[6]+2821735955&4294967295,o=n+(r^(s=a+(o<<17&4294967295|o>>>15))&(a^r))+i[7]+4249261313&4294967295,o=r+(a^(n=s+(o<<22&4294967295|o>>>10))&(s^a))+i[8]+1770035416&4294967295,o=a+(s^(r=n+(o<<7&4294967295|o>>>25))&(n^s))+i[9]+2336552879&4294967295,o=s+(n^(a=r+(o<<12&4294967295|o>>>20))&(r^n))+i[10]+4294925233&4294967295,o=n+(r^(s=a+(o<<17&4294967295|o>>>15))&(a^r))+i[11]+2304563134&4294967295,o=r+(a^(n=s+(o<<22&4294967295|o>>>10))&(s^a))+i[12]+1804603682&4294967295,o=a+(s^(r=n+(o<<7&4294967295|o>>>25))&(n^s))+i[13]+4254626195&4294967295,o=s+(n^(a=r+(o<<12&4294967295|o>>>20))&(r^n))+i[14]+2792965006&4294967295,o=n+(r^(s=a+(o<<17&4294967295|o>>>15))&(a^r))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=r+(s^a&(n^s))+i[1]+4129170786&4294967295,r=n+(o<<5&4294967295|o>>>27),o=a+(n^s&(r^n))+i[6]+3225465664&4294967295,a=r+(o<<9&4294967295|o>>>23),o=s+(r^n&(a^r))+i[11]+643717713&4294967295,s=a+(o<<14&4294967295|o>>>18),o=n+(a^r&(s^a))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=r+(s^a&(n^s))+i[5]+3593408605&4294967295,r=n+(o<<5&4294967295|o>>>27),o=a+(n^s&(r^n))+i[10]+38016083&4294967295,a=r+(o<<9&4294967295|o>>>23),o=s+(r^n&(a^r))+i[15]+3634488961&4294967295,s=a+(o<<14&4294967295|o>>>18),o=n+(a^r&(s^a))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=r+(s^a&(n^s))+i[9]+568446438&4294967295,r=n+(o<<5&4294967295|o>>>27),o=a+(n^s&(r^n))+i[14]+3275163606&4294967295,a=r+(o<<9&4294967295|o>>>23),o=s+(r^n&(a^r))+i[3]+4107603335&4294967295,s=a+(o<<14&4294967295|o>>>18),o=n+(a^r&(s^a))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=r+(s^a&(n^s))+i[13]+2850285829&4294967295,r=n+(o<<5&4294967295|o>>>27),o=a+(n^s&(r^n))+i[2]+4243563512&4294967295,a=r+(o<<9&4294967295|o>>>23),o=s+(r^n&(a^r))+i[7]+1735328473&4294967295,s=a+(o<<14&4294967295|o>>>18),o=n+(a^r&(s^a))+i[12]+2368359562&4294967295,o=r+((n=s+(o<<20&4294967295|o>>>12))^s^a)+i[5]+4294588738&4294967295,o=a+((r=n+(o<<4&4294967295|o>>>28))^n^s)+i[8]+2272392833&4294967295,o=s+((a=r+(o<<11&4294967295|o>>>21))^r^n)+i[11]+1839030562&4294967295,o=n+((s=a+(o<<16&4294967295|o>>>16))^a^r)+i[14]+4259657740&4294967295,o=r+((n=s+(o<<23&4294967295|o>>>9))^s^a)+i[1]+2763975236&4294967295,o=a+((r=n+(o<<4&4294967295|o>>>28))^n^s)+i[4]+1272893353&4294967295,o=s+((a=r+(o<<11&4294967295|o>>>21))^r^n)+i[7]+4139469664&4294967295,o=n+((s=a+(o<<16&4294967295|o>>>16))^a^r)+i[10]+3200236656&4294967295,o=r+((n=s+(o<<23&4294967295|o>>>9))^s^a)+i[13]+681279174&4294967295,o=a+((r=n+(o<<4&4294967295|o>>>28))^n^s)+i[0]+3936430074&4294967295,o=s+((a=r+(o<<11&4294967295|o>>>21))^r^n)+i[3]+3572445317&4294967295,o=n+((s=a+(o<<16&4294967295|o>>>16))^a^r)+i[6]+76029189&4294967295,o=r+((n=s+(o<<23&4294967295|o>>>9))^s^a)+i[9]+3654602809&4294967295,o=a+((r=n+(o<<4&4294967295|o>>>28))^n^s)+i[12]+3873151461&4294967295,o=s+((a=r+(o<<11&4294967295|o>>>21))^r^n)+i[15]+530742520&4294967295,o=n+((s=a+(o<<16&4294967295|o>>>16))^a^r)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=r+(s^(n|~a))+i[0]+4096336452&4294967295,r=n+(o<<6&4294967295|o>>>26),o=a+(n^(r|~s))+i[7]+1126891415&4294967295,a=r+(o<<10&4294967295|o>>>22),o=s+(r^(a|~n))+i[14]+2878612391&4294967295,s=a+(o<<15&4294967295|o>>>17),o=n+(a^(s|~r))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=r+(s^(n|~a))+i[12]+1700485571&4294967295,r=n+(o<<6&4294967295|o>>>26),o=a+(n^(r|~s))+i[3]+2399980690&4294967295,a=r+(o<<10&4294967295|o>>>22),o=s+(r^(a|~n))+i[10]+4293915773&4294967295,s=a+(o<<15&4294967295|o>>>17),o=n+(a^(s|~r))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=r+(s^(n|~a))+i[8]+1873313359&4294967295,r=n+(o<<6&4294967295|o>>>26),o=a+(n^(r|~s))+i[15]+4264355552&4294967295,a=r+(o<<10&4294967295|o>>>22),o=s+(r^(a|~n))+i[6]+2734768916&4294967295,s=a+(o<<15&4294967295|o>>>17),o=n+(a^(s|~r))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=r+(s^(n|~a))+i[4]+4149444226&4294967295,r=n+(o<<6&4294967295|o>>>26),o=a+(n^(r|~s))+i[11]+3174756917&4294967295,a=r+(o<<10&4294967295|o>>>22),o=s+(r^(a|~n))+i[2]+718787259&4294967295,s=a+(o<<15&4294967295|o>>>17),o=n+(a^(s|~r))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+r&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+a&4294967295}function i(t,r){var n=o;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=r(t)}function s(t,r){this.h=r;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var a=0|t[s];i&&a==r||(n[s]=a,i=!1)}this.g=n}(function(t,r){function n(){}n.prototype=r.prototype,t.D=r.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return r.prototype[n].apply(t,s)}})(r,function(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(t,r){void 0===r&&(r=t.length);for(var i=r-this.blockSize,s=this.B,a=this.h,o=0;o<r;){if(0==a)for(;o<=i;)n(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<r;)if(s[a++]=t.charCodeAt(o++),a==this.blockSize){n(this,s),a=0;break}}else for(;o<r;)if(s[a++]=t[o++],a==this.blockSize){n(this,s),a=0;break}}this.h=a,this.o+=r},r.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var r=1;r<t.length-8;++r)t[r]=0;var n=8*this.o;for(r=t.length-8;r<t.length;++r)t[r]=255&n,n/=256;for(this.u(t),t=Array(16),r=n=0;4>r;++r)for(var i=0;32>i;i+=8)t[n++]=this.g[r]>>>i&255;return t};var a,o={};function l(t){return -128<=t&&128>t?i(t,function(t){return new s([0|t],0>t?-1:0)}):new s([0|t],0>t?-1:0)}function u(t){if(isNaN(t)||!isFinite(t))return d;if(0>t)return m(u(-t));for(var r=[],n=1,i=0;t>=n;i++)r[i]=t/n|0,n*=4294967296;return new s(r,0)}function c(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return m(c(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=u(Math.pow(r,8)),i=d,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),r);8>a?(a=u(Math.pow(r,a)),i=i.j(a).add(u(o))):i=(i=i.j(n)).add(u(o))}return i}var d=l(0),h=l(1),f=l(16777216);function p(t){if(0!=t.h)return!1;for(var r=0;r<t.g.length;r++)if(0!=t.g[r])return!1;return!0}function g(t){return -1==t.h}function m(t){for(var r=t.g.length,n=[],i=0;i<r;i++)n[i]=~t.g[i];return new s(n,~t.h).add(h)}function v(t,r){return t.add(m(r))}function y(t,r){for(;(65535&t[r])!=t[r];)t[r+1]+=t[r]>>>16,t[r]&=65535,r++}function _(t,r){this.g=t,this.h=r}function b(t,r){if(p(r))throw Error("division by zero");if(p(t))return new _(d,d);if(g(t))return r=b(m(t),r),new _(m(r.g),m(r.h));if(g(r))return r=b(t,m(r)),new _(m(r.g),r.h);if(30<t.g.length){if(g(t)||g(r))throw Error("slowDivide_ only works with positive integers.");for(var n=h,i=r;0>=i.l(t);)n=S(n),i=S(i);var s=E(n,1),a=E(i,1);for(i=E(i,2),n=E(n,2);!p(i);){var o=a.add(i);0>=o.l(t)&&(s=s.add(n),a=o),i=E(i,1),n=E(n,1)}return r=v(t,s.j(r)),new _(s,r)}for(s=d;0<=t.l(r);){for(i=48>=(i=Math.ceil(Math.log(n=Math.max(1,Math.floor(t.m()/r.m())))/Math.LN2))?1:Math.pow(2,i-48),o=(a=u(n)).j(r);g(o)||0<o.l(t);)n-=i,o=(a=u(n)).j(r);p(a)&&(a=h),s=s.add(a),t=v(t,o)}return new _(s,t)}function S(t){for(var r=t.g.length+1,n=[],i=0;i<r;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new s(n,t.h)}function E(t,r){var n=r>>5;r%=32;for(var i=t.g.length-n,a=[],o=0;o<i;o++)a[o]=0<r?t.i(o+n)>>>r|t.i(o+n+1)<<32-r:t.i(o+n);return new s(a,t.h)}(a=s.prototype).m=function(){if(g(this))return-m(this).m();for(var t=0,r=1,n=0;n<this.g.length;n++){var i=this.i(n);t+=(0<=i?i:4294967296+i)*r,r*=4294967296}return t},a.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(p(this))return"0";if(g(this))return"-"+m(this).toString(t);for(var r=u(Math.pow(t,6)),n=this,i="";;){var s=b(n,r).g,a=((0<(n=v(n,s.j(r))).g.length?n.g[0]:n.h)>>>0).toString(t);if(p(n=s))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},a.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},a.l=function(t){return g(t=v(this,t))?-1:p(t)?0:1},a.abs=function(){return g(this)?m(this):this},a.add=function(t){for(var r=Math.max(this.g.length,t.g.length),n=[],i=0,a=0;a<=r;a++){var o=i+(65535&this.i(a))+(65535&t.i(a)),l=(o>>>16)+(this.i(a)>>>16)+(t.i(a)>>>16);i=l>>>16,o&=65535,l&=65535,n[a]=l<<16|o}return new s(n,-2147483648&n[n.length-1]?-1:0)},a.j=function(t){if(p(this)||p(t))return d;if(g(this))return g(t)?m(this).j(m(t)):m(m(this).j(t));if(g(t))return m(this.j(m(t)));if(0>this.l(f)&&0>t.l(f))return u(this.m()*t.m());for(var r=this.g.length+t.g.length,n=[],i=0;i<2*r;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<t.g.length;a++){var o=this.i(i)>>>16,l=65535&this.i(i),c=t.i(a)>>>16,h=65535&t.i(a);n[2*i+2*a]+=l*h,y(n,2*i+2*a),n[2*i+2*a+1]+=o*h,y(n,2*i+2*a+1),n[2*i+2*a+1]+=l*c,y(n,2*i+2*a+1),n[2*i+2*a+2]+=o*c,y(n,2*i+2*a+2)}for(i=0;i<r;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=r;i<2*r;i++)n[i]=0;return new s(n,0)},a.A=function(t){return b(this,t).h},a.and=function(t){for(var r=Math.max(this.g.length,t.g.length),n=[],i=0;i<r;i++)n[i]=this.i(i)&t.i(i);return new s(n,this.h&t.h)},a.or=function(t){for(var r=Math.max(this.g.length,t.g.length),n=[],i=0;i<r;i++)n[i]=this.i(i)|t.i(i);return new s(n,this.h|t.h)},a.xor=function(t){for(var r=Math.max(this.g.length,t.g.length),n=[],i=0;i<r;i++)n[i]=this.i(i)^t.i(i);return new s(n,this.h^t.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t.exports.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,t.exports.Integer=s}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},36233:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addAdminServicesToServer=r.registerAdminService=void 0;let n=[];function i(t,r){n.push({getServiceDefinition:t,getHandlers:r})}function s(t){for(let{getServiceDefinition:r,getHandlers:i}of n)t.addService(r(),i())}r.registerAdminService=i,r.addAdminServicesToServer=s},87601:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackoffTimeout=void 0;let n=1e3,i=1.6,s=12e4,a=.2;function o(t,r){return Math.random()*(r-t)+t}class l{constructor(t,r){this.callback=t,this.initialDelay=n,this.multiplier=i,this.maxDelay=s,this.jitter=a,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,r&&(r.initialDelay&&(this.initialDelay=r.initialDelay),r.multiplier&&(this.multiplier=r.multiplier),r.jitter&&(this.jitter=r.jitter),r.maxDelay&&(this.maxDelay=r.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(t){var r,n;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},t),this.hasRef||null===(n=(r=this.timerId).unref)||void 0===n||n.call(r)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let t=Math.min(this.nextDelay*this.multiplier,this.maxDelay),r=t*this.jitter;this.nextDelay=t+o(-r,r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let t=new Date,r=this.startTime;r.setMilliseconds(r.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),t<r?this.runTimer(r.getTime()-t.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var t,r;this.hasRef=!0,null===(r=(t=this.timerId).ref)||void 0===r||r.call(t)}unref(){var t,r;this.hasRef=!1,null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}getEndTime(){return this.endTime}}r.BackoffTimeout=l},90762:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CallCredentials=void 0;let i=n(40614);function s(t){return"getRequestHeaders"in t&&"function"==typeof t.getRequestHeaders}class a{static createFromMetadataGenerator(t){return new l(t)}static createFromGoogleCredential(t){return a.createFromMetadataGenerator((r,n)=>{let a;(a=s(t)?t.getRequestHeaders(r.service_url):new Promise((n,i)=>{t.getRequestMetadata(r.service_url,(t,r)=>{if(t){i(t);return}if(!r){i(Error("Headers not set by metadata plugin"));return}n(r)})})).then(t=>{let r=new i.Metadata;for(let n of Object.keys(t))r.add(n,t[n]);n(null,r)},t=>{n(t)})})}static createEmpty(){return new u}}r.CallCredentials=a;class o extends a{constructor(t){super(),this.creds=t}async generateMetadata(t){let r=new i.Metadata;for(let n of(await Promise.all(this.creds.map(r=>r.generateMetadata(t)))))r.merge(n);return r}compose(t){return new o(this.creds.concat([t]))}_equals(t){return this===t||t instanceof o&&this.creds.every((r,n)=>r._equals(t.creds[n]))}}class l extends a{constructor(t){super(),this.metadataGenerator=t}generateMetadata(t){return new Promise((r,n)=>{this.metadataGenerator(t,(t,i)=>{void 0!==i?r(i):n(t)})})}compose(t){return new o([this,t])}_equals(t){return this===t||t instanceof l&&this.metadataGenerator===t.metadataGenerator}}class u extends a{generateMetadata(t){return Promise.resolve(new i.Metadata)}compose(t){return t}_equals(t){return t instanceof u}}},83145:(t,r)=>{"use strict";function n(t){return void 0!==t.onReceiveMetadata&&1===t.onReceiveMetadata.length}Object.defineProperty(r,"__esModule",{value:!0}),r.InterceptingListenerImpl=r.isInterceptingListener=void 0,r.isInterceptingListener=n;class i{constructor(t,r){this.listener=t,this.nextListener=r,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(t){this.processingMetadata=!0,this.listener.onReceiveMetadata(t,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(t){this.processingMessage=!0,this.listener.onReceiveMessage(t,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(t){this.listener.onReceiveStatus(t,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}}r.InterceptingListenerImpl=i},54509:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNextCallNumber=void 0;let n=0;function i(){return n++}r.getNextCallNumber=i},83355:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ClientDuplexStreamImpl=r.ClientWritableStreamImpl=r.ClientReadableStreamImpl=r.ClientUnaryCallImpl=r.callErrorFromStatus=void 0;let i=n(82361),s=n(12781),a=n(44746);function o(t,r){let n=`${t.code} ${a.Status[t.code]}: ${t.details}`,i=Error(n),s=`${i.stack}
for call at
${r}`;return Object.assign(Error(n),t,{stack:s})}r.callErrorFromStatus=o;class l extends i.EventEmitter{constructor(){super()}cancel(){var t;null===(t=this.call)||void 0===t||t.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return null!==(r=null===(t=this.call)||void 0===t?void 0:t.getPeer())&&void 0!==r?r:"unknown"}}r.ClientUnaryCallImpl=l;class u extends s.Readable{constructor(t){super({objectMode:!0}),this.deserialize=t}cancel(){var t;null===(t=this.call)||void 0===t||t.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return null!==(r=null===(t=this.call)||void 0===t?void 0:t.getPeer())&&void 0!==r?r:"unknown"}_read(t){var r;null===(r=this.call)||void 0===r||r.startRead()}}r.ClientReadableStreamImpl=u;class c extends s.Writable{constructor(t){super({objectMode:!0}),this.serialize=t}cancel(){var t;null===(t=this.call)||void 0===t||t.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return null!==(r=null===(t=this.call)||void 0===t?void 0:t.getPeer())&&void 0!==r?r:"unknown"}_write(t,r,n){var i;let s={callback:n},a=Number(r);Number.isNaN(a)||(s.flags=a),null===(i=this.call)||void 0===i||i.sendMessageWithContext(s,t)}_final(t){var r;null===(r=this.call)||void 0===r||r.halfClose(),t()}}r.ClientWritableStreamImpl=c;class d extends s.Duplex{constructor(t,r){super({objectMode:!0}),this.serialize=t,this.deserialize=r}cancel(){var t;null===(t=this.call)||void 0===t||t.cancelWithStatus(a.Status.CANCELLED,"Cancelled on client")}getPeer(){var t,r;return null!==(r=null===(t=this.call)||void 0===t?void 0:t.getPeer())&&void 0!==r?r:"unknown"}_read(t){var r;null===(r=this.call)||void 0===r||r.startRead()}_write(t,r,n){var i;let s={callback:n},a=Number(r);Number.isNaN(a)||(s.flags=a),null===(i=this.call)||void 0===i||i.sendMessageWithContext(s,t)}_final(t){var r;null===(r=this.call)||void 0===r||r.halfClose(),t()}}r.ClientDuplexStreamImpl=d},12985:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChannelCredentials=void 0;let i=n(24404),s=n(90762),a=n(56305);function o(t,r){if(t&&!(t instanceof Buffer))throw TypeError(`${r}, if provided, must be a Buffer.`)}class l{constructor(t){this.callCredentials=t||s.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(t,r,n,s){var l;if(o(t,"Root certificate"),o(r,"Private key"),o(n,"Certificate chain"),r&&!n)throw Error("Private key must be given with accompanying certificate chain");if(!r&&n)throw Error("Certificate chain must be given with accompanying private key");return new c((0,i.createSecureContext)({ca:null!==(l=null!=t?t:(0,a.getDefaultRootsData)())&&void 0!==l?l:void 0,key:null!=r?r:void 0,cert:null!=n?n:void 0,ciphers:a.CIPHER_SUITES}),null!=s?s:{})}static createFromSecureContext(t,r){return new c(t,null!=r?r:{})}static createInsecure(){return new u}}r.ChannelCredentials=l;class u extends l{constructor(t){super(t)}compose(t){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(t){return t instanceof u}}class c extends l{constructor(t,r){super(),this.secureContext=t,this.verifyOptions=r,this.connectionOptions={secureContext:t},(null==r?void 0:r.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=r.checkServerIdentity)}compose(t){return new d(this,this.callCredentials.compose(t))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(t){return this===t||t instanceof c&&this.secureContext===t.secureContext&&this.verifyOptions.checkServerIdentity===t.verifyOptions.checkServerIdentity}}class d extends l{constructor(t,r){super(r),this.channelCredentials=t}compose(t){let r=this.callCredentials.compose(t);return new d(this.channelCredentials,r)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(t){return this===t||t instanceof d&&this.channelCredentials._equals(t.channelCredentials)&&this.callCredentials._equals(t.callCredentials)}}},5717:(t,r)=>{"use strict";function n(t,r){let n=Object.keys(t).sort(),i=Object.keys(r).sort();if(n.length!==i.length)return!1;for(let s=0;s<n.length;s+=1)if(n[s]!==i[s]||t[n[s]]!==r[i[s]])return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.channelOptionsEqual=r.recognizedOptions=void 0,r.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},r.channelOptionsEqual=n},21490:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChannelImplementation=void 0;let i=n(12985),s=n(49791);class a{constructor(t,r,n){if("string"!=typeof t)throw TypeError("Channel target must be a string");if(!(r instanceof i.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(n&&"object"!=typeof n)throw TypeError("Channel options must be an object");this.internalChannel=new s.InternalChannel(t,r,n)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(t){return this.internalChannel.getConnectivityState(t)}watchConnectivityState(t,r,n){this.internalChannel.watchConnectivityState(t,r,n)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(t,r,n,i,s){if("string"!=typeof t)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof r||r instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(t,r,n,i,s)}}r.ChannelImplementation=a},11915:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setup=r.getChannelzServiceDefinition=r.getChannelzHandlers=r.unregisterChannelzRef=r.registerChannelzSocket=r.registerChannelzServer=r.registerChannelzSubchannel=r.registerChannelzChannel=r.ChannelzCallTracker=r.ChannelzChildrenTracker=r.ChannelzTrace=void 0;let i=n(41808),s=n(29354),a=n(44746),o=n(11636),l=n(36233),u=n(87788);function c(t){return{channel_id:t.id,name:t.name}}function d(t){return{subchannel_id:t.id,name:t.name}}function h(t){return{server_id:t.id}}function f(t){return{socket_id:t.id,name:t.name}}let p=32;class g{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(t,r,n){let i=new Date;this.events.push({description:r,severity:t,timestamp:i,childChannel:(null==n?void 0:n.kind)==="channel"?n:void 0,childSubchannel:(null==n?void 0:n.kind)==="subchannel"?n:void 0}),this.events.length>=2*p&&(this.events=this.events.slice(p)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:x(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(t=>({description:t.description,severity:t.severity,timestamp:x(t.timestamp),channel_ref:t.childChannel?c(t.childChannel):null,subchannel_ref:t.childSubchannel?d(t.childSubchannel):null}))}}}r.ChannelzTrace=g;class m{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(t){var r,n,i;switch(t.kind){case"channel":{let n=null!==(r=this.channelChildren.get(t.id))&&void 0!==r?r:{ref:t,count:0};n.count+=1,this.channelChildren.set(t.id,n);break}case"subchannel":{let r=null!==(n=this.subchannelChildren.get(t.id))&&void 0!==n?n:{ref:t,count:0};r.count+=1,this.subchannelChildren.set(t.id,r);break}case"socket":{let r=null!==(i=this.socketChildren.get(t.id))&&void 0!==i?i:{ref:t,count:0};r.count+=1,this.socketChildren.set(t.id,r)}}}unrefChild(t){switch(t.kind){case"channel":{let r=this.channelChildren.get(t.id);void 0!==r&&(r.count-=1,0===r.count?this.channelChildren.delete(t.id):this.channelChildren.set(t.id,r));break}case"subchannel":{let r=this.subchannelChildren.get(t.id);void 0!==r&&(r.count-=1,0===r.count?this.subchannelChildren.delete(t.id):this.subchannelChildren.set(t.id,r));break}case"socket":{let r=this.socketChildren.get(t.id);void 0!==r&&(r.count-=1,0===r.count?this.socketChildren.delete(t.id):this.socketChildren.set(t.id,r))}}}getChildLists(){let t=[];for(let{ref:r}of this.channelChildren.values())t.push(r);let r=[];for(let{ref:t}of this.subchannelChildren.values())r.push(t);let n=[];for(let{ref:t}of this.socketChildren.values())n.push(t);return{channels:t,subchannels:r,sockets:n}}}r.ChannelzChildrenTracker=m;class v{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}r.ChannelzCallTracker=v;let y=1;function _(){return y++}let b=[],S=[],E=[],T=[];function w(t,r,n){let i=_(),s={id:i,name:t,kind:"channel"};return n&&(b[i]={ref:s,getInfo:r}),s}function C(t,r,n){let i=_(),s={id:i,name:t,kind:"subchannel"};return n&&(S[i]={ref:s,getInfo:r}),s}function R(t,r){let n=_(),i={id:n,kind:"server"};return r&&(E[n]={ref:i,getInfo:t}),i}function I(t,r,n){let i=_(),s={id:i,name:t,kind:"socket"};return n&&(T[i]={ref:s,getInfo:r}),s}function A(t){switch(t.kind){case"channel":delete b[t.id];return;case"subchannel":delete S[t.id];return;case"server":delete E[t.id];return;case"socket":delete T[t.id];return}}function O(t){let r=Number.parseInt(t,16);return[r/256|0,r%256]}function N(t){return""===t?[]:[].concat(...t.split(":").map(t=>O(t)))}function k(t){if((0,i.isIPv4)(t))return Buffer.from(Uint8Array.from(t.split(".").map(t=>Number.parseInt(t))));if(!(0,i.isIPv6)(t))return null;{let r,n;let i=t.indexOf("::");-1===i?(r=t,n=""):(r=t.substring(0,i),n=t.substring(i+2));let s=Buffer.from(N(r)),a=Buffer.from(N(n)),o=Buffer.alloc(16-s.length-a.length,0);return Buffer.concat([s,o,a])}}function P(t){switch(t){case s.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case s.ConnectivityState.IDLE:return{state:"IDLE"};case s.ConnectivityState.READY:return{state:"READY"};case s.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case s.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function x(t){if(!t)return null;let r=t.getTime();return{seconds:r/1e3|0,nanos:r%1e3*1e6}}function D(t){let r=t.getInfo();return{ref:c(t.ref),data:{target:r.target,state:P(r.state),calls_started:r.callTracker.callsStarted,calls_succeeded:r.callTracker.callsSucceeded,calls_failed:r.callTracker.callsFailed,last_call_started_timestamp:x(r.callTracker.lastCallStartedTimestamp),trace:r.trace.getTraceMessage()},channel_ref:r.children.channels.map(t=>c(t)),subchannel_ref:r.children.subchannels.map(t=>d(t))}}function L(t,r){let n=Number.parseInt(t.request.channel_id),i=b[n];if(void 0===i){r({code:a.Status.NOT_FOUND,details:"No channel data found for id "+n});return}r(null,{channel:D(i)})}function M(t,r){let n=Number.parseInt(t.request.max_results),i=[],s=Number.parseInt(t.request.start_channel_id);for(;s<b.length;s++){let t=b[s];if(void 0!==t&&(i.push(D(t)),i.length>=n))break}r(null,{channel:i,end:s>=E.length})}function F(t){let r=t.getInfo();return{ref:h(t.ref),data:{calls_started:r.callTracker.callsStarted,calls_succeeded:r.callTracker.callsSucceeded,calls_failed:r.callTracker.callsFailed,last_call_started_timestamp:x(r.callTracker.lastCallStartedTimestamp),trace:r.trace.getTraceMessage()},listen_socket:r.listenerChildren.sockets.map(t=>f(t))}}function j(t,r){let n=Number.parseInt(t.request.server_id),i=E[n];if(void 0===i){r({code:a.Status.NOT_FOUND,details:"No server data found for id "+n});return}r(null,{server:F(i)})}function V(t,r){let n=Number.parseInt(t.request.max_results),i=[],s=Number.parseInt(t.request.start_server_id);for(;s<E.length;s++){let t=E[s];if(void 0!==t&&(i.push(F(t)),i.length>=n))break}r(null,{server:i,end:s>=E.length})}function B(t,r){let n=Number.parseInt(t.request.subchannel_id),i=S[n];if(void 0===i){r({code:a.Status.NOT_FOUND,details:"No subchannel data found for id "+n});return}let s=i.getInfo();r(null,{subchannel:{ref:d(i.ref),data:{target:s.target,state:P(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:x(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:s.children.sockets.map(t=>f(t))}})}function U(t){var r;return(0,o.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(r=k(t.host))&&void 0!==r?r:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function z(t,r){var n,i,s,o,l;let u=Number.parseInt(t.request.socket_id),c=T[u];if(void 0===c){r({code:a.Status.NOT_FOUND,details:"No socket data found for id "+u});return}let d=c.getInfo(),h=d.security?{model:"tls",tls:{cipher_suite:d.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(n=d.security.cipherSuiteStandardName)&&void 0!==n?n:void 0,other_name:null!==(i=d.security.cipherSuiteOtherName)&&void 0!==i?i:void 0,local_certificate:null!==(s=d.security.localCertificate)&&void 0!==s?s:void 0,remote_certificate:null!==(o=d.security.remoteCertificate)&&void 0!==o?o:void 0}}:null;r(null,{socket:{ref:f(c.ref),local:d.localAddress?U(d.localAddress):null,remote:d.remoteAddress?U(d.remoteAddress):null,remote_name:null!==(l=d.remoteName)&&void 0!==l?l:void 0,security:h,data:{keep_alives_sent:d.keepAlivesSent,streams_started:d.streamsStarted,streams_succeeded:d.streamsSucceeded,streams_failed:d.streamsFailed,last_local_stream_created_timestamp:x(d.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:x(d.lastRemoteStreamCreatedTimestamp),messages_received:d.messagesReceived,messages_sent:d.messagesSent,last_message_received_timestamp:x(d.lastMessageReceivedTimestamp),last_message_sent_timestamp:x(d.lastMessageSentTimestamp),local_flow_control_window:d.localFlowControlWindow?{value:d.localFlowControlWindow}:null,remote_flow_control_window:d.remoteFlowControlWindow?{value:d.remoteFlowControlWindow}:null}}})}function q(t,r){let n=Number.parseInt(t.request.server_id),i=E[n];if(void 0===i){r({code:a.Status.NOT_FOUND,details:"No server data found for id "+n});return}let s=Number.parseInt(t.request.start_socket_id),o=Number.parseInt(t.request.max_results),l=i.getInfo().sessionChildren.sockets.sort((t,r)=>t.id-r.id),u=[],c=0;for(;c<l.length&&(!(l[c].id>=s)||(u.push(f(l[c])),!(u.length>=o)));c++);r(null,{socket_ref:u,end:c>=l.length})}function H(){return{GetChannel:L,GetTopChannels:M,GetServer:j,GetServers:V,GetSubchannel:B,GetSocket:z,GetServerSockets:q}}r.registerChannelzChannel=w,r.registerChannelzSubchannel=C,r.registerChannelzServer=R,r.registerChannelzSocket=I,r.unregisterChannelzRef=A,r.getChannelzHandlers=H;let W=null;function G(){if(W)return W;let t=(0,n(51509).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return W=(0,u.loadPackageDefinition)(t).grpc.channelz.v1.Channelz.service}function K(){(0,l.registerAdminService)(G,H)}r.getChannelzServiceDefinition=G,r.setup=K},97651:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getInterceptingCall=r.InterceptingCall=r.RequesterBuilder=r.ListenerBuilder=r.InterceptorConfigurationError=void 0;let i=n(40614),s=n(83145),a=n(44746),o=n(58307);class l extends Error{constructor(t){super(t),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,l)}}r.InterceptorConfigurationError=l;class u{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(t){return this.metadata=t,this}withOnReceiveMessage(t){return this.message=t,this}withOnReceiveStatus(t){return this.status=t,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}r.ListenerBuilder=u;class c{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(t){return this.start=t,this}withSendMessage(t){return this.message=t,this}withHalfClose(t){return this.halfClose=t,this}withCancel(t){return this.cancel=t,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}r.RequesterBuilder=c;let d={onReceiveMetadata:(t,r)=>{r(t)},onReceiveMessage:(t,r)=>{r(t)},onReceiveStatus:(t,r)=>{r(t)}},h={start:(t,r,n)=>{n(t,r)},sendMessage:(t,r)=>{r(t)},halfClose:t=>{t()},cancel:t=>{t()}};class f{constructor(t,r){var n,i,s,a;this.nextCall=t,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,r?this.requester={start:null!==(n=r.start)&&void 0!==n?n:h.start,sendMessage:null!==(i=r.sendMessage)&&void 0!==i?i:h.sendMessage,halfClose:null!==(s=r.halfClose)&&void 0!==s?s:h.halfClose,cancel:null!==(a=r.cancel)&&void 0!==a?a:h.cancel}:this.requester=h}cancelWithStatus(t,r){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(t,r)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(t,r){var n,i,a,o,l,u;let c={onReceiveMetadata:null!==(i=null===(n=null==r?void 0:r.onReceiveMetadata)||void 0===n?void 0:n.bind(r))&&void 0!==i?i:t=>{},onReceiveMessage:null!==(o=null===(a=null==r?void 0:r.onReceiveMessage)||void 0===a?void 0:a.bind(r))&&void 0!==o?o:t=>{},onReceiveStatus:null!==(u=null===(l=null==r?void 0:r.onReceiveStatus)||void 0===l?void 0:l.bind(r))&&void 0!==u?u:t=>{}};this.processingMetadata=!0,this.requester.start(t,c,(t,r)=>{var n,i,a;let o;if(this.processingMetadata=!1,(0,s.isInterceptingListener)(r))o=r;else{let t={onReceiveMetadata:null!==(n=r.onReceiveMetadata)&&void 0!==n?n:d.onReceiveMetadata,onReceiveMessage:null!==(i=r.onReceiveMessage)&&void 0!==i?i:d.onReceiveMessage,onReceiveStatus:null!==(a=r.onReceiveStatus)&&void 0!==a?a:d.onReceiveStatus};o=new s.InterceptingListenerImpl(t,c)}this.nextCall.start(t,o),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(t,r){this.processingMessage=!0,this.requester.sendMessage(r,n=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=t,this.pendingMessage=r):(this.nextCall.sendMessageWithContext(t,n),this.processPendingHalfClose())})}sendMessage(t){this.sendMessageWithContext({},t)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function p(t,r,n){var i,s;let a=null!==(i=n.deadline)&&void 0!==i?i:1/0,o=n.host,l=null!==(s=n.parent)&&void 0!==s?s:null,u=n.propagate_flags,c=n.credentials,d=t.createCall(r,a,o,l,u);return c&&d.setCredentials(c),d}r.InterceptingCall=f;class g{constructor(t,r){this.call=t,this.methodDefinition=r}cancelWithStatus(t,r){this.call.cancelWithStatus(t,r)}getPeer(){return this.call.getPeer()}sendMessageWithContext(t,r){let n;try{n=this.methodDefinition.requestSerialize(r)}catch(t){this.call.cancelWithStatus(a.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(t)}`);return}this.call.sendMessageWithContext(t,n)}sendMessage(t){this.sendMessageWithContext({},t)}start(t,r){let n=null;this.call.start(t,{onReceiveMetadata:t=>{var n;null===(n=null==r?void 0:r.onReceiveMetadata)||void 0===n||n.call(r,t)},onReceiveMessage:t=>{var s;let l;try{l=this.methodDefinition.responseDeserialize(t)}catch(t){n={code:a.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(t)}`,metadata:new i.Metadata},this.call.cancelWithStatus(n.code,n.details);return}null===(s=null==r?void 0:r.onReceiveMessage)||void 0===s||s.call(r,l)},onReceiveStatus:t=>{var i,s;n?null===(i=null==r?void 0:r.onReceiveStatus)||void 0===i||i.call(r,n):null===(s=null==r?void 0:r.onReceiveStatus)||void 0===s||s.call(r,t)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class m extends g{constructor(t,r){super(t,r)}start(t,r){var n,i;let s=!1,a={onReceiveMetadata:null!==(i=null===(n=null==r?void 0:r.onReceiveMetadata)||void 0===n?void 0:n.bind(r))&&void 0!==i?i:t=>{},onReceiveMessage:t=>{var n;s=!0,null===(n=null==r?void 0:r.onReceiveMessage)||void 0===n||n.call(r,t)},onReceiveStatus:t=>{var n,i;s||null===(n=null==r?void 0:r.onReceiveMessage)||void 0===n||n.call(r,null),null===(i=null==r?void 0:r.onReceiveStatus)||void 0===i||i.call(r,t)}};super.start(t,a),this.call.startRead()}}class v extends g{}function y(t,r,n){let i=p(t,n.path,r);return n.responseStream?new v(i,n):new m(i,n)}function _(t,r,n,i){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new l("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new l("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];s=t.callInterceptors.length>0||t.callInterceptorProviders.length>0?[].concat(t.callInterceptors,t.callInterceptorProviders.map(t=>t(r))).filter(t=>t):[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(t=>t(r))).filter(t=>t);let a=Object.assign({},n,{method_definition:r});return s.reduceRight((t,r)=>n=>r(n,t),t=>y(i,t,r))(a)}r.getInterceptingCall=_},54388:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Client=void 0;let i=n(83355),s=n(21490),a=n(29354),o=n(44746),l=n(40614),u=n(97651),c=Symbol(),d=Symbol(),h=Symbol(),f=Symbol();function p(t){return"function"==typeof t}function g(t){return t.stack.split("\n").slice(1).join("\n")}class m{constructor(t,r,n={}){var i,a;if(n=Object.assign({},n),this[d]=null!==(i=n.interceptors)&&void 0!==i?i:[],delete n.interceptors,this[h]=null!==(a=n.interceptor_providers)&&void 0!==a?a:[],delete n.interceptor_providers,this[d].length>0&&this[h].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[f]=n.callInvocationTransformer,delete n.callInvocationTransformer,n.channelOverride)this[c]=n.channelOverride;else if(n.channelFactoryOverride){let i=n.channelFactoryOverride;delete n.channelFactoryOverride,this[c]=i(t,r,n)}else this[c]=new s.ChannelImplementation(t,r,n)}close(){this[c].close()}getChannel(){return this[c]}waitForReady(t,r){let n=i=>{let s;if(i){r(Error("Failed to connect before the deadline"));return}try{s=this[c].getConnectivityState(!0)}catch(t){r(Error("The channel has been closed"));return}if(s===a.ConnectivityState.READY)r();else try{this[c].watchConnectivityState(s,t,n)}catch(t){r(Error("The channel has been closed"))}};setImmediate(n)}checkOptionalUnaryResponseArguments(t,r,n){if(p(t))return{metadata:new l.Metadata,options:{},callback:t};if(p(r))return t instanceof l.Metadata?{metadata:t,options:{},callback:r}:{metadata:new l.Metadata,options:t,callback:r};if(!(t instanceof l.Metadata&&r instanceof Object&&p(n)))throw Error("Incorrect arguments passed");return{metadata:t,options:r,callback:n}}makeUnaryRequest(t,r,n,s,a,l,p){var m,v;let y=this.checkOptionalUnaryResponseArguments(a,l,p),_={path:t,requestStream:!1,responseStream:!1,requestSerialize:r,responseDeserialize:n},b={argument:s,metadata:y.metadata,call:new i.ClientUnaryCallImpl,channel:this[c],methodDefinition:_,callOptions:y.options,callback:y.callback};this[f]&&(b=this[f](b));let S=b.call,E={clientInterceptors:this[d],clientInterceptorProviders:this[h],callInterceptors:null!==(m=b.callOptions.interceptors)&&void 0!==m?m:[],callInterceptorProviders:null!==(v=b.callOptions.interceptor_providers)&&void 0!==v?v:[]},T=(0,u.getInterceptingCall)(E,b.methodDefinition,b.callOptions,b.channel);S.call=T;let w=null,C=!1,R=Error();return T.start(b.metadata,{onReceiveMetadata:t=>{S.emit("metadata",t)},onReceiveMessage(t){null!==w&&T.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),w=t},onReceiveStatus(t){if(!C){if(C=!0,t.code===o.Status.OK){if(null===w){let r=g(R);b.callback((0,i.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:t.metadata},r))}else b.callback(null,w)}else{let r=g(R);b.callback((0,i.callErrorFromStatus)(t,r))}R=null,S.emit("status",t)}}}),T.sendMessage(s),T.halfClose(),S}makeClientStreamRequest(t,r,n,s,a,l){var p,m;let v=this.checkOptionalUnaryResponseArguments(s,a,l),y={path:t,requestStream:!0,responseStream:!1,requestSerialize:r,responseDeserialize:n},_={metadata:v.metadata,call:new i.ClientWritableStreamImpl(r),channel:this[c],methodDefinition:y,callOptions:v.options,callback:v.callback};this[f]&&(_=this[f](_));let b=_.call,S={clientInterceptors:this[d],clientInterceptorProviders:this[h],callInterceptors:null!==(p=_.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(m=_.callOptions.interceptor_providers)&&void 0!==m?m:[]},E=(0,u.getInterceptingCall)(S,_.methodDefinition,_.callOptions,_.channel);b.call=E;let T=null,w=!1,C=Error();return E.start(_.metadata,{onReceiveMetadata:t=>{b.emit("metadata",t)},onReceiveMessage(t){null!==T&&E.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),T=t},onReceiveStatus(t){if(!w){if(w=!0,t.code===o.Status.OK){if(null===T){let r=g(C);_.callback((0,i.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:t.metadata},r))}else _.callback(null,T)}else{let r=g(C);_.callback((0,i.callErrorFromStatus)(t,r))}C=null,b.emit("status",t)}}}),b}checkMetadataAndOptions(t,r){let n,i;return t instanceof l.Metadata?(n=t,i=r||{}):(i=t||{},n=new l.Metadata),{metadata:n,options:i}}makeServerStreamRequest(t,r,n,s,a,l){var p,m;let v=this.checkMetadataAndOptions(a,l),y={path:t,requestStream:!1,responseStream:!0,requestSerialize:r,responseDeserialize:n},_={argument:s,metadata:v.metadata,call:new i.ClientReadableStreamImpl(n),channel:this[c],methodDefinition:y,callOptions:v.options};this[f]&&(_=this[f](_));let b=_.call,S={clientInterceptors:this[d],clientInterceptorProviders:this[h],callInterceptors:null!==(p=_.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(m=_.callOptions.interceptor_providers)&&void 0!==m?m:[]},E=(0,u.getInterceptingCall)(S,_.methodDefinition,_.callOptions,_.channel);b.call=E;let T=!1,w=Error();return E.start(_.metadata,{onReceiveMetadata(t){b.emit("metadata",t)},onReceiveMessage(t){b.push(t)},onReceiveStatus(t){if(!T){if(T=!0,b.push(null),t.code!==o.Status.OK){let r=g(w);b.emit("error",(0,i.callErrorFromStatus)(t,r))}w=null,b.emit("status",t)}}}),E.sendMessage(s),E.halfClose(),b}makeBidiStreamRequest(t,r,n,s,a){var l,p;let m=this.checkMetadataAndOptions(s,a),v={path:t,requestStream:!0,responseStream:!0,requestSerialize:r,responseDeserialize:n},y={metadata:m.metadata,call:new i.ClientDuplexStreamImpl(r,n),channel:this[c],methodDefinition:v,callOptions:m.options};this[f]&&(y=this[f](y));let _=y.call,b={clientInterceptors:this[d],clientInterceptorProviders:this[h],callInterceptors:null!==(l=y.callOptions.interceptors)&&void 0!==l?l:[],callInterceptorProviders:null!==(p=y.callOptions.interceptor_providers)&&void 0!==p?p:[]},S=(0,u.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);_.call=S;let E=!1,T=Error();return S.start(y.metadata,{onReceiveMetadata(t){_.emit("metadata",t)},onReceiveMessage(t){_.push(t)},onReceiveStatus(t){if(!E){if(E=!0,_.push(null),t.code!==o.Status.OK){let r=g(T);_.emit("error",(0,i.callErrorFromStatus)(t,r))}T=null,_.emit("status",t)}}}),_}}r.Client=m},5926:(t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.CompressionAlgorithms=void 0,function(t){t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip"}(n||(r.CompressionAlgorithms=n={}))},89657:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompressionFilterFactory=r.CompressionFilter=void 0;let i=n(59796),s=n(5926),a=n(44746),o=n(32966),l=n(66295),u=t=>"number"==typeof t&&"string"==typeof s.CompressionAlgorithms[t];class c{async writeMessage(t,r){let n=t;r&&(n=await this.compressMessage(n));let i=Buffer.allocUnsafe(n.length+5);return i.writeUInt8(r?1:0,0),i.writeUInt32BE(n.length,1),n.copy(i,5),i}async readMessage(t){let r=1===t.readUInt8(0),n=t.slice(5);return r&&(n=await this.decompressMessage(n)),n}}class d extends c{async compressMessage(t){return t}async writeMessage(t,r){let n=Buffer.allocUnsafe(t.length+5);return n.writeUInt8(0,0),n.writeUInt32BE(t.length,1),t.copy(n,5),n}decompressMessage(t){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class h extends c{constructor(t){super(),this.maxRecvMessageLength=t}compressMessage(t){return new Promise((r,n)=>{i.deflate(t,(t,i)=>{t?n(t):r(i)})})}decompressMessage(t){return new Promise((r,n)=>{let s=0,o=[],l=i.createInflate();l.on("data",t=>{o.push(t),s+=t.byteLength,-1!==this.maxRecvMessageLength&&s>this.maxRecvMessageLength&&(l.destroy(),n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),l.on("end",()=>{r(Buffer.concat(o))}),l.write(t),l.end()})}}class f extends c{constructor(t){super(),this.maxRecvMessageLength=t}compressMessage(t){return new Promise((r,n)=>{i.gzip(t,(t,i)=>{t?n(t):r(i)})})}decompressMessage(t){return new Promise((r,n)=>{let s=0,o=[],l=i.createGunzip();l.on("data",t=>{o.push(t),s+=t.byteLength,-1!==this.maxRecvMessageLength&&s>this.maxRecvMessageLength&&(l.destroy(),n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),l.on("end",()=>{r(Buffer.concat(o))}),l.write(t),l.end()})}}class p extends c{constructor(t){super(),this.compressionName=t}compressMessage(t){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(t){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function g(t,r){switch(t){case"identity":return new d;case"deflate":return new h(r);case"gzip":return new f(r);default:return new p(t)}}class m extends o.BaseFilter{constructor(t,r){var n,i;super(),this.sharedFilterConfig=r,this.sendCompression=new d,this.receiveCompression=new d,this.currentCompressionAlgorithm="identity";let o=t["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(n=t["grpc.max_receive_message_length"])&&void 0!==n?n:a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==o){if(u(o)){let t=s.CompressionAlgorithms[o],n=null===(i=r.serverSupportedEncodingHeader)||void 0===i?void 0:i.split(",");(!n||n.includes(t))&&(this.currentCompressionAlgorithm=t,this.sendCompression=g(this.currentCompressionAlgorithm,-1))}else l.log(a.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`)}}async sendMetadata(t){let r=await t;return r.set("grpc-accept-encoding","identity,deflate,gzip"),r.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?r.remove("grpc-encoding"):r.set("grpc-encoding",this.currentCompressionAlgorithm),r}receiveMetadata(t){let r=t.get("grpc-encoding");if(r.length>0){let t=r[0];"string"==typeof t&&(this.receiveCompression=g(t,this.maxReceiveMessageLength))}t.remove("grpc-encoding");let n=t.get("grpc-accept-encoding")[0];return n&&(this.sharedFilterConfig.serverSupportedEncodingHeader=n,n.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new d,this.currentCompressionAlgorithm="identity")),t.remove("grpc-accept-encoding"),t}async sendMessage(t){var r;let n;let i=await t;return n=!(this.sendCompression instanceof d)&&((null!==(r=i.flags)&&void 0!==r?r:0)&2)==0,{message:await this.sendCompression.writeMessage(i.message,n),flags:i.flags}}async receiveMessage(t){return this.receiveCompression.readMessage(await t)}}r.CompressionFilter=m;class v{constructor(t,r){this.options=r,this.sharedFilterConfig={}}createFilter(){return new m(this.options,this.sharedFilterConfig)}}r.CompressionFilterFactory=v},29354:(t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectivityState=void 0,function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN"}(n||(r.ConnectivityState=n={}))},44746:(t,r)=>{"use strict";var n,i,s;Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=r.DEFAULT_MAX_SEND_MESSAGE_LENGTH=r.Propagate=r.LogVerbosity=r.Status=void 0,function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(n||(r.Status=n={})),function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE"}(i||(r.LogVerbosity=i={})),function(t){t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS"}(s||(r.Propagate=s={})),r.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,r.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},36258:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.restrictControlPlaneStatusCode=void 0;let i=n(44746),s=[i.Status.OK,i.Status.INVALID_ARGUMENT,i.Status.NOT_FOUND,i.Status.ALREADY_EXISTS,i.Status.FAILED_PRECONDITION,i.Status.ABORTED,i.Status.OUT_OF_RANGE,i.Status.DATA_LOSS];function a(t,r){return s.includes(t)?{code:i.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${i.Status[t]} ${r}`}:{code:t,details:r}}r.restrictControlPlaneStatusCode=a},53779:(t,r)=>{"use strict";function n(...t){let r=1/0;for(let n of t){let t=n instanceof Date?n.getTime():n;t<r&&(r=t)}return r}Object.defineProperty(r,"__esModule",{value:!0}),r.deadlineToString=r.getRelativeTimeout=r.getDeadlineTimeoutString=r.minDeadline=void 0,r.minDeadline=n;let i=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function s(t){let r=new Date().getTime();t instanceof Date&&(t=t.getTime());let n=Math.max(t-r,0);for(let[t,r]of i){let i=n/r;if(i<1e8)return String(Math.ceil(i))+t}throw Error("Deadline is too far in the future")}r.getDeadlineTimeoutString=s;let a=2147483647;function o(t){let r=(t instanceof Date?t.getTime():t)-new Date().getTime();return r<0?0:r>a?1/0:r}function l(t){if(t instanceof Date)return t.toISOString();{let r=new Date(t);return Number.isNaN(r.getTime())?""+t:r.toISOString()}}r.getRelativeTimeout=o,r.deadlineToString=l},20863:(t,r)=>{"use strict";function n(t){return{seconds:t/1e3|0,nanos:t%1e3*1e6|0}}function i(t){return 1e3*t.seconds+t.nanos/1e6|0}function s(t){return"number"==typeof t.seconds&&"number"==typeof t.nanos}Object.defineProperty(r,"__esModule",{value:!0}),r.isDuration=r.durationToMs=r.msToDuration=void 0,r.msToDuration=n,r.durationToMs=i,r.isDuration=s},58307:(t,r)=>{"use strict";function n(t){return t instanceof Error?t.message:String(t)}function i(t){return"object"==typeof t&&null!==t&&"code"in t&&"number"==typeof t.code?t.code:null}Object.defineProperty(r,"__esModule",{value:!0}),r.getErrorCode=r.getErrorMessage=void 0,r.getErrorMessage=n,r.getErrorCode=i},27190:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OutlierDetectionLoadBalancingConfig=r.BaseSubchannelWrapper=r.registerAdminService=r.FilterStackFactory=r.BaseFilter=r.PickResultType=r.QueuePicker=r.UnavailablePicker=r.ChildLoadBalancerHandler=r.subchannelAddressToString=r.validateLoadBalancingConfig=r.getFirstUsableConfig=r.registerLoadBalancerType=r.createChildChannelControlHelper=r.BackoffTimeout=r.durationToMs=r.uriToString=r.createResolver=r.registerResolver=r.log=r.trace=void 0;var i=n(66295);Object.defineProperty(r,"trace",{enumerable:!0,get:function(){return i.trace}}),Object.defineProperty(r,"log",{enumerable:!0,get:function(){return i.log}});var s=n(93764);Object.defineProperty(r,"registerResolver",{enumerable:!0,get:function(){return s.registerResolver}}),Object.defineProperty(r,"createResolver",{enumerable:!0,get:function(){return s.createResolver}});var a=n(47180);Object.defineProperty(r,"uriToString",{enumerable:!0,get:function(){return a.uriToString}});var o=n(20863);Object.defineProperty(r,"durationToMs",{enumerable:!0,get:function(){return o.durationToMs}});var l=n(87601);Object.defineProperty(r,"BackoffTimeout",{enumerable:!0,get:function(){return l.BackoffTimeout}});var u=n(77541);Object.defineProperty(r,"createChildChannelControlHelper",{enumerable:!0,get:function(){return u.createChildChannelControlHelper}}),Object.defineProperty(r,"registerLoadBalancerType",{enumerable:!0,get:function(){return u.registerLoadBalancerType}}),Object.defineProperty(r,"getFirstUsableConfig",{enumerable:!0,get:function(){return u.getFirstUsableConfig}}),Object.defineProperty(r,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return u.validateLoadBalancingConfig}});var c=n(11636);Object.defineProperty(r,"subchannelAddressToString",{enumerable:!0,get:function(){return c.subchannelAddressToString}});var d=n(17788);Object.defineProperty(r,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return d.ChildLoadBalancerHandler}});var h=n(54387);Object.defineProperty(r,"UnavailablePicker",{enumerable:!0,get:function(){return h.UnavailablePicker}}),Object.defineProperty(r,"QueuePicker",{enumerable:!0,get:function(){return h.QueuePicker}}),Object.defineProperty(r,"PickResultType",{enumerable:!0,get:function(){return h.PickResultType}});var f=n(32966);Object.defineProperty(r,"BaseFilter",{enumerable:!0,get:function(){return f.BaseFilter}});var p=n(39365);Object.defineProperty(r,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var g=n(36233);Object.defineProperty(r,"registerAdminService",{enumerable:!0,get:function(){return g.registerAdminService}});var m=n(16120);Object.defineProperty(r,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return m.BaseSubchannelWrapper}});var v=n(89582);Object.defineProperty(r,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return v.OutlierDetectionLoadBalancingConfig}})},39365:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FilterStackFactory=r.FilterStack=void 0;class n{constructor(t){this.filters=t}sendMetadata(t){let r=t;for(let t=0;t<this.filters.length;t++)r=this.filters[t].sendMetadata(r);return r}receiveMetadata(t){let r=t;for(let t=this.filters.length-1;t>=0;t--)r=this.filters[t].receiveMetadata(r);return r}sendMessage(t){let r=t;for(let t=0;t<this.filters.length;t++)r=this.filters[t].sendMessage(r);return r}receiveMessage(t){let r=t;for(let t=this.filters.length-1;t>=0;t--)r=this.filters[t].receiveMessage(r);return r}receiveTrailers(t){let r=t;for(let t=this.filters.length-1;t>=0;t--)r=this.filters[t].receiveTrailers(r);return r}push(t){this.filters.unshift(...t)}getFilters(){return this.filters}}r.FilterStack=n;class i{constructor(t){this.factories=t}push(t){this.factories.unshift(...t)}clone(){return new i([...this.factories])}createFilter(){return new n(this.factories.map(t=>t.createFilter()))}}r.FilterStackFactory=i},32966:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BaseFilter=void 0;class n{async sendMetadata(t){return t}receiveMetadata(t){return t}async sendMessage(t){return t}async receiveMessage(t){return t}receiveTrailers(t){return t}}r.BaseFilter=n},37174:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getProxiedConnection=r.mapProxyName=void 0;let i=n(66295),s=n(44746),a=n(93764),o=n(13685),l=n(24404),u=n(66295),c=n(11636),d=n(47180),h=n(57310),f=n(42708),p="proxy";function g(t){u.trace(s.LogVerbosity.DEBUG,p,t)}function m(){let t,r="",n="";if(process.env.grpc_proxy)n="grpc_proxy",r=process.env.grpc_proxy;else if(process.env.https_proxy)n="https_proxy",r=process.env.https_proxy;else{if(!process.env.http_proxy)return{};n="http_proxy",r=process.env.http_proxy}try{t=new h.URL(r)}catch(t){return(0,i.log)(s.LogVerbosity.ERROR,`cannot parse value of "${n}" env var`),{}}if("http:"!==t.protocol)return(0,i.log)(s.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let a=null;t.username&&(t.password?((0,i.log)(s.LogVerbosity.INFO,"userinfo found in proxy URI"),a=`${t.username}:${t.password}`):a=t.username);let o=t.hostname,l=t.port;""===l&&(l="80");let u={address:`${o}:${l}`};return a&&(u.creds=a),g("Proxy server "+u.address+" set by environment variable "+n),u}function v(){let t=process.env.no_grpc_proxy,r="no_grpc_proxy";return(t||(t=process.env.no_proxy,r="no_proxy"),t)?(g("No proxy server list set by environment variable "+r),t.split(",")):[]}function y(t,r){var n;let i={target:t,extraOptions:{}};if((null!==(n=r["grpc.enable_http_proxy"])&&void 0!==n?n:1)===0||"unix"===t.scheme)return i;let s=m();if(!s.address)return i;let a=(0,d.splitHostPort)(t.path);if(!a)return i;let o=a.host;for(let r of v())if(r===o)return g("Not using proxy for target in no_proxy list: "+(0,d.uriToString)(t)),i;let l={"grpc.http_connect_target":(0,d.uriToString)(t)};return s.creds&&(l["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:l}}function _(t,r,n){var u;if(!("grpc.http_connect_target"in r))return Promise.resolve({});let h=r["grpc.http_connect_target"],p=(0,d.parseUri)(h);if(null===p)return Promise.resolve({});let m=(0,d.splitHostPort)(p.path);if(null===m)return Promise.resolve({});let v=`${m.host}:${null!==(u=m.port)&&void 0!==u?u:f.DEFAULT_PORT}`,y={method:"CONNECT",path:v},_={Host:v};(0,c.isTcpSubchannelAddress)(t)?(y.host=t.host,y.port=t.port):y.socketPath=t.path,"grpc.http_connect_creds"in r&&(_["Proxy-Authorization"]="Basic "+Buffer.from(r["grpc.http_connect_creds"]).toString("base64")),y.headers=_;let b=(0,c.subchannelAddressToString)(t);return g("Using proxy "+b+" to connect to "+y.path),new Promise((t,r)=>{let u=o.request(y);u.once("connect",(o,c,h)=>{var f;if(u.removeAllListeners(),c.removeAllListeners(),200===o.statusCode){if(g("Successfully connected to "+y.path+" through proxy "+b),"secureContext"in n){let i=(0,a.getDefaultAuthority)(p),s=(0,d.splitHostPort)(i),o=null!==(f=null==s?void 0:s.host)&&void 0!==f?f:i,u=l.connect(Object.assign({host:o,servername:o,socket:c},n),()=>{g("Successfully established a TLS connection to "+y.path+" through proxy "+b),t({socket:u,realTarget:p})});u.on("error",t=>{g("Failed to establish a TLS connection to "+y.path+" through proxy "+b+" with error "+t.message),r()})}else g("Successfully established a plaintext connection to "+y.path+" through proxy "+b),t({socket:c,realTarget:p})}else(0,i.log)(s.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+b+" with status "+o.statusCode),r()}),u.once("error",t=>{u.removeAllListeners(),(0,i.log)(s.LogVerbosity.ERROR,"Failed to connect to proxy "+b+" with error "+t.message),r()}),u.end()})}r.mapProxyName=y,r.getProxiedConnection=_},25872:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.experimental=r.addAdminServicesToServer=r.getChannelzHandlers=r.getChannelzServiceDefinition=r.InterceptorConfigurationError=r.InterceptingCall=r.RequesterBuilder=r.ListenerBuilder=r.StatusBuilder=r.getClientChannel=r.ServerCredentials=r.Server=r.setLogVerbosity=r.setLogger=r.load=r.loadObject=r.CallCredentials=r.ChannelCredentials=r.waitForClientReady=r.closeClient=r.Channel=r.makeGenericClientConstructor=r.makeClientConstructor=r.loadPackageDefinition=r.Client=r.compressionAlgorithms=r.propagate=r.connectivityState=r.status=r.logVerbosity=r.Metadata=r.credentials=void 0;let i=n(90762);Object.defineProperty(r,"CallCredentials",{enumerable:!0,get:function(){return i.CallCredentials}});let s=n(21490);Object.defineProperty(r,"Channel",{enumerable:!0,get:function(){return s.ChannelImplementation}});let a=n(5926);Object.defineProperty(r,"compressionAlgorithms",{enumerable:!0,get:function(){return a.CompressionAlgorithms}});let o=n(29354);Object.defineProperty(r,"connectivityState",{enumerable:!0,get:function(){return o.ConnectivityState}});let l=n(12985);Object.defineProperty(r,"ChannelCredentials",{enumerable:!0,get:function(){return l.ChannelCredentials}});let u=n(54388);Object.defineProperty(r,"Client",{enumerable:!0,get:function(){return u.Client}});let c=n(44746);Object.defineProperty(r,"logVerbosity",{enumerable:!0,get:function(){return c.LogVerbosity}}),Object.defineProperty(r,"status",{enumerable:!0,get:function(){return c.Status}}),Object.defineProperty(r,"propagate",{enumerable:!0,get:function(){return c.Propagate}});let d=n(66295),h=n(87788);Object.defineProperty(r,"loadPackageDefinition",{enumerable:!0,get:function(){return h.loadPackageDefinition}}),Object.defineProperty(r,"makeClientConstructor",{enumerable:!0,get:function(){return h.makeClientConstructor}}),Object.defineProperty(r,"makeGenericClientConstructor",{enumerable:!0,get:function(){return h.makeClientConstructor}});let f=n(40614);Object.defineProperty(r,"Metadata",{enumerable:!0,get:function(){return f.Metadata}});let p=n(39403);Object.defineProperty(r,"Server",{enumerable:!0,get:function(){return p.Server}});let g=n(1208);Object.defineProperty(r,"ServerCredentials",{enumerable:!0,get:function(){return g.ServerCredentials}});let m=n(7780);Object.defineProperty(r,"StatusBuilder",{enumerable:!0,get:function(){return m.StatusBuilder}}),r.credentials={combineChannelCredentials:(t,...r)=>r.reduce((t,r)=>t.compose(r),t),combineCallCredentials:(t,...r)=>r.reduce((t,r)=>t.compose(r),t),createInsecure:l.ChannelCredentials.createInsecure,createSsl:l.ChannelCredentials.createSsl,createFromSecureContext:l.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:i.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:i.CallCredentials.createFromGoogleCredential,createEmpty:i.CallCredentials.createEmpty};let v=t=>t.close();r.closeClient=v;let y=(t,r,n)=>t.waitForReady(r,n);r.waitForClientReady=y;let _=(t,r)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r.loadObject=_;let b=(t,r,n)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r.load=b;let S=t=>{d.setLogger(t)};r.setLogger=S;let E=t=>{d.setLoggerVerbosity(t)};r.setLogVerbosity=E;let T=t=>u.Client.prototype.getChannel.call(t);r.getClientChannel=T;var w=n(97651);Object.defineProperty(r,"ListenerBuilder",{enumerable:!0,get:function(){return w.ListenerBuilder}}),Object.defineProperty(r,"RequesterBuilder",{enumerable:!0,get:function(){return w.RequesterBuilder}}),Object.defineProperty(r,"InterceptingCall",{enumerable:!0,get:function(){return w.InterceptingCall}}),Object.defineProperty(r,"InterceptorConfigurationError",{enumerable:!0,get:function(){return w.InterceptorConfigurationError}});var C=n(11915);Object.defineProperty(r,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return C.getChannelzServiceDefinition}}),Object.defineProperty(r,"getChannelzHandlers",{enumerable:!0,get:function(){return C.getChannelzHandlers}});var R=n(36233);Object.defineProperty(r,"addAdminServicesToServer",{enumerable:!0,get:function(){return R.addAdminServicesToServer}});let I=n(27190);r.experimental=I;let A=n(42708),O=n(62012),N=n(47630),k=n(72549),P=n(385),x=n(89582),D=n(11915);(()=>{A.setup(),O.setup(),N.setup(),k.setup(),P.setup(),x.setup(),D.setup()})()},49791:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InternalChannel=void 0;let i=n(12985),s=n(69379),a=n(79314),o=n(54387),l=n(44746),u=n(39365),c=n(89657),d=n(93764),h=n(66295),f=n(37174),p=n(47180),g=n(29354),m=n(11915),v=n(52967),y=n(53779),_=n(76296),b=n(54509),S=n(36258),E=n(22005),T=n(16120),w=2147483647,C=1e3,R=18e5,I=new Map,A=16777216,O=1048576;class N extends T.BaseSubchannelWrapper{constructor(t,r){super(t),this.channel=r,this.refCount=0,this.subchannelStateListener=(t,n,i,s)=>{r.throttleKeepalive(s)},t.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class k{constructor(t,r,n){var v,y,_,b,T,k,P,x;if(this.credentials=r,this.options=n,this.connectivityState=g.ConnectivityState.IDLE,this.currentPicker=new o.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new m.ChannelzCallTracker,this.childrenTracker=new m.ChannelzChildrenTracker,"string"!=typeof t)throw TypeError("Channel target must be a string");if(!(r instanceof i.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(n&&"object"!=typeof n)throw TypeError("Channel options must be an object");this.originalTarget=t;let D=(0,p.parseUri)(t);if(null===D)throw Error(`Could not parse target name "${t}"`);let L=(0,d.mapUriDefaultScheme)(D);if(null===L)throw Error(`Could not find a default scheme for target name "${t}"`);this.callRefTimer=setInterval(()=>{},w),null===(y=(v=this.callRefTimer).unref)||void 0===y||y.call(v),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new m.ChannelzTrace,this.channelzRef=(0,m.registerChannelzChannel)(t,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,d.getDefaultAuthority)(L);let M=(0,f.mapProxyName)(L,n);this.target=M.target,this.options=Object.assign({},this.options,M.extraOptions),this.subchannelPool=(0,a.getSubchannelPool)((null!==(_=n["grpc.use_local_subchannel_pool"])&&void 0!==_?_:0)===0),this.retryBufferTracker=new E.MessageBufferTracker(null!==(b=n["grpc.retry_buffer_size"])&&void 0!==b?b:A,null!==(T=n["grpc.per_rpc_retry_buffer_size"])&&void 0!==T?T:O),this.keepaliveTime=null!==(k=n["grpc.keepalive_time_ms"])&&void 0!==k?k:-1,this.idleTimeoutMs=Math.max(null!==(P=n["grpc.client_idle_timeout_ms"])&&void 0!==P?P:R,C);let F={createSubchannel:(t,r)=>{let n=this.subchannelPool.getOrCreateSubchannel(this.target,t,Object.assign({},this.options,r),this.credentials);n.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",n.getChannelzRef());let i=new N(n,this);return this.wrappedSubchannels.add(i),i},updateState:(t,r)=>{this.currentPicker=r;let n=this.pickQueue.slice();for(let t of(this.pickQueue=[],n.length>0&&this.callRefTimerUnref(),n))t.doPick();this.updateState(t)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:t=>{this.channelzEnabled&&this.childrenTracker.refChild(t)},removeChannelzChild:t=>{this.channelzEnabled&&this.childrenTracker.unrefChild(t)}};this.resolvingLoadBalancer=new s.ResolvingLoadBalancer(this.target,F,n,(t,r)=>{t.retryThrottling?I.set(this.getTarget(),new E.RetryThrottler(t.retryThrottling.maxTokens,t.retryThrottling.tokenRatio,I.get(this.getTarget()))):I.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=r,this.currentResolutionError=null,process.nextTick(()=>{let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.getConfig()})},t=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+t.code+' and details "'+t.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,S.restrictControlPlaneStatusCode)(t.code,t.details)),{metadata:t.metadata}));let r=this.configSelectionQueue;for(let n of(this.configSelectionQueue=[],r.length>0&&this.callRefTimerUnref(),r))n.reportResolverError(t)}),this.filterStackFactory=new u.FilterStackFactory([new c.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(n,void 0,2));let j=Error();(0,h.trace)(l.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(x=j.stack)||void 0===x?void 0:x.substring(j.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(t,r){(0,h.trace)(null!=r?r:l.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+t)}callRefTimerRef(){var t,r,n,i;(null===(r=(t=this.callRefTimer).hasRef)||void 0===r?void 0:r.call(t))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(i=(n=this.callRefTimer).ref)||void 0===i||i.call(n))}callRefTimerUnref(){var t,r;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(r=(t=this.callRefTimer).unref)||void 0===r||r.call(t))}removeConnectivityStateWatcher(t){let r=this.connectivityStateWatchers.findIndex(r=>r===t);r>=0&&this.connectivityStateWatchers.splice(r,1)}updateState(t){for(let r of((0,h.trace)(l.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+g.ConnectivityState[this.connectivityState]+" -> "+g.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+g.ConnectivityState[t]),this.connectivityState=t,this.connectivityStateWatchers.slice()))t!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());t!==g.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(t){if(t>this.keepaliveTime)for(let r of(this.keepaliveTime=t,this.wrappedSubchannels))r.throttleKeepalive(t)}removeWrappedSubchannel(t){this.wrappedSubchannels.delete(t)}doPick(t,r){return this.currentPicker.pick({metadata:t,extraPickInfo:r})}queueCallForPick(t){this.pickQueue.push(t),this.callRefTimerRef()}getConfig(t,r){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(t,r)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(t){this.configSelectionQueue.push(t),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.IDLE),this.currentPicker=new o.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(t){var r,n;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let t=new Date().valueOf()-this.lastActivityTimestamp.valueOf();t>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-t)},t),null===(n=(r=this.idleTimer).unref)||void 0===n||n.call(r)}maybeStartIdleTimer(){this.connectivityState===g.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(t){this.channelzEnabled&&(t.code===l.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(t,r,n,i,s){let a=(0,b.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+a+'] method="'+r+'"'),new v.LoadBalancingCall(this,t,r,n,i,s,a)}createRetryingCall(t,r,n,i,s){let a=(0,b.getNextCallNumber)();return this.trace("createRetryingCall ["+a+'] method="'+r+'"'),new E.RetryingCall(this,t,r,n,i,s,a,this.retryBufferTracker,I.get(this.getTarget()))}createInnerCall(t,r,n,i,s){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(t,r,n,i,s):this.createRetryingCall(t,r,n,i,s)}createResolvingCall(t,r,n,i,s){let a=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+a+'] method="'+t+'", deadline='+(0,y.deadlineToString)(r));let o={deadline:r,flags:null!=s?s:l.Propagate.DEFAULTS,host:null!=n?n:this.defaultAuthority,parentCall:i},u=new _.ResolvingCall(this,t,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),a);return this.onCallStart(),u.addStatusWatcher(t=>{this.onCallEnd(t)}),u}close(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,m.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,p.uriToString)(this.target)}getConnectivityState(t){let r=this.connectivityState;return t&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),r}watchConnectivityState(t,r,n){if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let i=null;if(r!==1/0){let t=r instanceof Date?r:new Date(r),a=new Date;if(r===-1/0||t<=a){process.nextTick(n,Error("Deadline passed without connectivity state change"));return}i=setTimeout(()=>{this.removeConnectivityStateWatcher(s),n(Error("Deadline passed without connectivity state change"))},t.getTime()-a.getTime())}let s={currentState:t,callback:n,timer:i};this.connectivityStateWatchers.push(s)}getChannelzRef(){return this.channelzRef}createCall(t,r,n,i,s){if("string"!=typeof t)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof r||r instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(t,r,n,i,s)}}r.InternalChannel=k},17788:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ChildLoadBalancerHandler=void 0;let i=n(77541),s=n(29354),a="child_load_balancer_helper";class o{constructor(t){this.channelControlHelper=t,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,r){return this.parent.channelControlHelper.createSubchannel(t,r)}updateState(t,r){var n;if(this.calledByPendingChild()){if(t===s.ConnectivityState.CONNECTING)return;null===(n=this.parent.currentChild)||void 0===n||n.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,r)}requestReresolution(){var t;let r=null!==(t=this.parent.pendingChild)&&void 0!==t?t:this.parent.currentChild;this.child===r&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(t,r){return t.getLoadBalancerName()!==r.getLoadBalancerName()}updateAddressList(t,r,n){let s;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,r)){let t=new this.ChildPolicyHelper(this),n=(0,i.createLoadBalancer)(r,t);t.setChild(n),null===this.currentChild?(this.currentChild=n,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=n,s=this.pendingChild)}else s=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=r,s.updateAddressList(t,r,n)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return a}}r.ChildLoadBalancerHandler=o},89582:(t,r,n)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.setup=r.OutlierDetectionLoadBalancer=r.OutlierDetectionLoadBalancingConfig=void 0;let s=n(29354),a=n(44746),o=n(20863),l=n(27190),u=n(77541),c=n(17788),d=n(54387),h=n(11636),f=n(16120),p=n(66295),g="outlier_detection";function m(t){p.trace(a.LogVerbosity.DEBUG,g,t)}let v="outlier_detection",y=(null!==(i=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==i?i:"true")==="true",_={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},b={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function S(t,r,n,i){if(r in t&&typeof t[r]!==n){let s=i?`${i}.${r}`:r;throw Error(`outlier detection config ${s} parse error: expected ${n}, got ${typeof t[r]}`)}}function E(t,r,n){let i=n?`${n}.${r}`:r;if(r in t){if(!(0,o.isDuration)(t[r]))throw Error(`outlier detection config ${i} parse error: expected Duration, got ${typeof t[r]}`);if(!(t[r].seconds>=0&&t[r].seconds<=315576e6&&t[r].nanos>=0&&t[r].nanos<=999999999))throw Error(`outlier detection config ${i} parse error: values out of range for non-negative Duaration`)}}function T(t,r,n){let i=n?`${n}.${r}`:r;if(S(t,r,"number",n),r in t&&!(t[r]>=0&&t[r]<=100))throw Error(`outlier detection config ${i} parse error: value out of range for percentage (0-100)`)}class w{constructor(t,r,n,i,s,a,o){if(this.childPolicy=o,o.length>0&&"pick_first"===o[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=t?t:1e4,this.baseEjectionTimeMs=null!=r?r:3e4,this.maxEjectionTimeMs=null!=n?n:3e5,this.maxEjectionPercent=null!=i?i:10,this.successRateEjection=s?Object.assign(Object.assign({},_),s):null,this.failurePercentageEjection=a?Object.assign(Object.assign({},b),a):null}getLoadBalancerName(){return v}toJsonObject(){return{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(t=>t.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(t){return new w(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,t)}static createFromJson(t){var r;if(E(t,"interval"),E(t,"base_ejection_time"),E(t,"max_ejection_time"),T(t,"max_ejection_percent"),"success_rate_ejection"in t){if("object"!=typeof t.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");S(t.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),T(t.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),S(t.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),S(t.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in t){if("object"!=typeof t.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");T(t.failure_percentage_ejection,"threshold","failure_percentage_ejection"),T(t.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),S(t.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),S(t.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new w(t.interval?(0,o.durationToMs)(t.interval):null,t.base_ejection_time?(0,o.durationToMs)(t.base_ejection_time):null,t.max_ejection_time?(0,o.durationToMs)(t.max_ejection_time):null,null!==(r=t.max_ejection_percent)&&void 0!==r?r:null,t.success_rate_ejection,t.failure_percentage_ejection,t.child_policy.map(u.validateLoadBalancingConfig))}}r.OutlierDetectionLoadBalancingConfig=w;class C extends f.BaseSubchannelWrapper{constructor(t,r){super(t),this.mapEntry=r,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=t.getConnectivityState(),t.addConnectivityStateListener((t,r,n,i)=>{if(this.childSubchannelState=n,!this.ejected)for(let t of this.stateListeners)t(this,r,n,i)})}getConnectivityState(){return this.ejected?s.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(t){this.stateListeners.push(t)}removeConnectivityStateListener(t){let r=this.stateListeners.indexOf(t);r>-1&&this.stateListeners.splice(r,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let t=this.mapEntry.subchannelWrappers.indexOf(this);t>=0&&this.mapEntry.subchannelWrappers.splice(t,1)}}eject(){for(let t of(this.ejected=!0,this.stateListeners))t(this,this.childSubchannelState,s.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let t of(this.ejected=!1,this.stateListeners))t(this,s.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function R(){return{success:0,failure:0}}class I{constructor(){this.activeBucket=R(),this.inactiveBucket=R()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=R()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class A{constructor(t,r){this.wrappedPicker=t,this.countCalls=r}pick(t){let r=this.wrappedPicker.pick(t);if(r.pickResultType!==d.PickResultType.COMPLETE)return r;{let t=r.subchannel,n=t.getMapEntry();if(!n)return Object.assign(Object.assign({},r),{subchannel:t.getWrappedSubchannel()});{let i=r.onCallEnded;return this.countCalls&&(i=t=>{var i;t===a.Status.OK?n.counter.addSuccess():n.counter.addFailure(),null===(i=r.onCallEnded)||void 0===i||i.call(r,t)}),Object.assign(Object.assign({},r),{subchannel:t.getWrappedSubchannel(),onCallEnded:i})}}}}class O{constructor(t){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new c.ChildLoadBalancerHandler((0,l.createChildChannelControlHelper)(t,{createSubchannel:(r,n)=>{let i=t.createSubchannel(r,n),s=this.addressMap.get((0,h.subchannelAddressToString)(r)),a=new C(i,s);return(null==s?void 0:s.currentEjectionTimestamp)!==null&&a.eject(),null==s||s.subchannelWrappers.push(a),a},updateState:(r,n)=>{r===s.ConnectivityState.READY?t.updateState(r,new A(n,this.isCountingEnabled())):t.updateState(r,n)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let t=0;for(let r of this.addressMap.values())null!==r.currentEjectionTimestamp&&(t+=1);return 100*t/this.addressMap.size}runSuccessRateCheck(t){if(!this.latestConfig)return;let r=this.latestConfig.getSuccessRateEjectionConfig();if(!r)return;m("Running success rate check");let n=r.request_volume,i=0,s=[];for(let[t,r]of this.addressMap){let a=r.counter.getLastSuccesses(),o=r.counter.getLastFailures();m("Stats for "+t+": successes="+a+" failures="+o+" targetRequestVolume="+n),a+o>=n&&(i+=1,s.push(a/(a+o)))}if(m("Found "+i+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+s+"]"),i<r.minimum_hosts)return;let a=s.reduce((t,r)=>t+r)/s.length,o=0;for(let t of s){let r=t-a;o+=r*r}let l=Math.sqrt(o/s.length),u=a-r.stdev_factor/1e3*l;for(let[i,s]of(m("stdev="+l+" ejectionThreshold="+u),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let a=s.counter.getLastSuccesses(),o=s.counter.getLastFailures();if(a+o<n)continue;let l=a/(a+o);if(m("Checking candidate "+i+" successRate="+l),l<u){let n=100*Math.random();m("Candidate "+i+" randomNumber="+n+" enforcement_percentage="+r.enforcement_percentage),n<r.enforcement_percentage&&(m("Ejecting candidate "+i),this.eject(s,t))}}}runFailurePercentageCheck(t){if(!this.latestConfig)return;let r=this.latestConfig.getFailurePercentageEjectionConfig();if(!r)return;m("Running failure percentage check. threshold="+r.threshold+" request volume threshold="+r.request_volume);let n=0;for(let t of this.addressMap.values())t.counter.getLastSuccesses()+t.counter.getLastFailures()>=r.request_volume&&(n+=1);if(!(n<r.minimum_hosts))for(let[n,i]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let s=i.counter.getLastSuccesses(),a=i.counter.getLastFailures();if(m("Candidate successes="+s+" failures="+a),!(s+a<r.request_volume)&&100*a/(a+s)>r.threshold){let s=100*Math.random();m("Candidate "+n+" randomNumber="+s+" enforcement_percentage="+r.enforcement_percentage),s<r.enforcement_percentage&&(m("Ejecting candidate "+n),this.eject(i,t))}}}eject(t,r){for(let r of(t.currentEjectionTimestamp=new Date,t.ejectionTimeMultiplier+=1,t.subchannelWrappers))r.eject()}uneject(t){for(let r of(t.currentEjectionTimestamp=null,t.subchannelWrappers))r.uneject()}switchAllBuckets(){for(let t of this.addressMap.values())t.counter.switchBuckets()}startTimer(t){var r,n;this.ejectionTimer=setTimeout(()=>this.runChecks(),t),null===(n=(r=this.ejectionTimer).unref)||void 0===n||n.call(r)}runChecks(){let t=new Date;if(m("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[r,n]of(this.timerStartTime=t,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(t),this.runFailurePercentageCheck(t),this.addressMap.entries()))if(null===n.currentEjectionTimestamp)n.ejectionTimeMultiplier>0&&(n.ejectionTimeMultiplier-=1);else{let t=this.latestConfig.getBaseEjectionTimeMs(),i=this.latestConfig.getMaxEjectionTimeMs(),s=new Date(n.currentEjectionTimestamp.getTime());s.setMilliseconds(s.getMilliseconds()+Math.min(t*n.ejectionTimeMultiplier,Math.max(t,i))),s<new Date&&(m("Unejecting "+r),this.uneject(n))}}updateAddressList(t,r,n){if(!(r instanceof w))return;let i=new Set;for(let r of t)i.add((0,h.subchannelAddressToString)(r));for(let t of i)this.addressMap.has(t)||(m("Adding map entry for "+t),this.addressMap.set(t,{counter:new I,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let t of this.addressMap.keys())i.has(t)||(m("Removing map entry for "+t),this.addressMap.delete(t));let s=(0,u.getFirstUsableConfig)(r.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(t,s,n),r.getSuccessRateEjectionConfig()||r.getFailurePercentageEjectionConfig()){if(this.timerStartTime){m("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let t=r.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(t)}else m("Starting new timer"),this.timerStartTime=new Date,this.startTimer(r.getIntervalMs()),this.switchAllBuckets()}else for(let t of(m("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(t),t.ejectionTimeMultiplier=0;this.latestConfig=r}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return v}}function N(){y&&(0,l.registerLoadBalancerType)(v,O,w)}r.OutlierDetectionLoadBalancer=O,r.setup=N},72549:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setup=r.PickFirstLoadBalancer=r.shuffled=r.PickFirstLoadBalancingConfig=void 0;let i=n(77541),s=n(29354),a=n(54387),o=n(66295),l=n(44746),u="pick_first";function c(t){o.trace(l.LogVerbosity.DEBUG,u,t)}let d="pick_first",h=250;class f{constructor(t){this.shuffleAddressList=t}getLoadBalancerName(){return d}toJsonObject(){return{[d]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(t){if("shuffleAddressList"in t&&"boolean"!=typeof t.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new f(!0===t.shuffleAddressList)}}r.PickFirstLoadBalancingConfig=f;class p{constructor(t){this.subchannel=t}pick(t){return{pickResultType:a.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function g(t){let r=t.slice();for(let t=r.length-1;t>1;t--){let n=Math.floor(Math.random()*(t+1)),i=r[t];r[t]=r[n],r[n]=i}return r}r.shuffled=g;class m{constructor(t){this.channelControlHelper=t,this.children=[],this.currentState=s.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,r,n,i,s)=>{this.onSubchannelStateUpdate(t,r,n,s)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(t=>t.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(s.ConnectivityState.READY,new p(this.currentPick)):0===this.children.length?this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:t}of(this.stickyTransientFailureMode=!0,this.children))t.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let t=this.currentPick;this.currentPick=null,t.unref(),t.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(t.getChannelzRef())}}onSubchannelStateUpdate(t,r,n,i){var a;if(null===(a=this.currentPick)||void 0===a?void 0:a.realSubchannelEquals(t)){n!==s.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[r,a]of this.children.entries())if(t.realSubchannelEquals(a.subchannel)){n===s.ConnectivityState.READY&&this.pickSubchannel(a.subchannel),n===s.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0,i&&(this.lastError=i),this.maybeEnterStickyTransientFailureMode(),r===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(r+1)),a.subchannel.startConnecting();return}}startNextSubchannelConnecting(t){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[r,n]of this.children.entries())if(r>=t){let t=n.subchannel.getConnectivityState();if(t===s.ConnectivityState.IDLE||t===s.ConnectivityState.CONNECTING){this.startConnecting(r);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(t){var r,n;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=t,this.children[t].subchannel.getConnectivityState()===s.ConnectivityState.IDLE&&(c("Start connecting to subchannel with address "+this.children[t].subchannel.getAddress()),process.nextTick(()=>{var r;null===(r=this.children[t])||void 0===r||r.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(n=(r=setTimeout(()=>{this.startNextSubchannelConnecting(t+1)},h)).unref)||void 0===n?void 0:n.call(r)}pickSubchannel(t){this.currentPick&&t.realSubchannelEquals(this.currentPick)||(c("Pick subchannel with address "+t.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=t,t.ref(),this.channelControlHelper.addChannelzChild(t.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(t,r){c(s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[t]),this.currentState=t,this.channelControlHelper.updateState(t,r)}resetSubchannelList(){for(let t of this.children)this.currentPick&&t.subchannel.realSubchannelEquals(this.currentPick)||t.subchannel.removeConnectivityStateListener(this.subchannelStateListener),t.subchannel.unref(),this.channelControlHelper.removeChannelzChild(t.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(t){let r=t.map(t=>({subchannel:this.channelControlHelper.createSubchannel(t,{}),hasReportedTransientFailure:!1}));for(let{subchannel:t}of r)t.ref(),this.channelControlHelper.addChannelzChild(t.getChannelzRef());for(let{subchannel:t}of(this.resetSubchannelList(),this.children=r,this.children))if(t.addConnectivityStateListener(this.subchannelStateListener),t.getConnectivityState()===s.ConnectivityState.READY){this.pickSubchannel(t);return}for(let t of this.children)t.subchannel.getConnectivityState()===s.ConnectivityState.TRANSIENT_FAILURE&&(t.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(t,r){r instanceof f&&(r.getShuffleAddressList()&&(t=g(t)),this.latestAddressList=t,this.connectToAddressList(t))}exitIdle(){this.currentState===s.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return d}}function v(){(0,i.registerLoadBalancerType)(d,m,f),(0,i.registerDefaultLoadBalancerType)(d)}r.PickFirstLoadBalancer=m,r.setup=v},385:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setup=r.RoundRobinLoadBalancer=void 0;let i=n(77541),s=n(29354),a=n(54387),o=n(11636),l=n(66295),u=n(44746),c="round_robin";function d(t){l.trace(u.LogVerbosity.DEBUG,c,t)}let h="round_robin";class f{getLoadBalancerName(){return h}constructor(){}toJsonObject(){return{[h]:{}}}static createFromJson(t){return new f}}class p{constructor(t,r=0){this.subchannelList=t,this.nextIndex=r}pick(t){let r=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:a.PickResultType.COMPLETE,subchannel:r,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class g{constructor(t){this.channelControlHelper=t,this.subchannels=[],this.currentState=s.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(t,r,n,i,a)=>{this.calculateAndUpdateState(),(n===s.ConnectivityState.TRANSIENT_FAILURE||n===s.ConnectivityState.IDLE)&&(a&&(this.lastError=a),this.channelControlHelper.requestReresolution(),t.startConnecting())}}countSubchannelsWithState(t){return this.subchannels.filter(r=>r.getConnectivityState()===t).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(s.ConnectivityState.READY)>0){let t=this.subchannels.filter(t=>t.getConnectivityState()===s.ConnectivityState.READY),r=0;null!==this.currentReadyPicker&&(r=t.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(r=0),this.updateState(s.ConnectivityState.READY,new p(t,r))}else this.countSubchannelsWithState(s.ConnectivityState.CONNECTING)>0?this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this)):this.countSubchannelsWithState(s.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this))}updateState(t,r){d(s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[t]),t===s.ConnectivityState.READY?this.currentReadyPicker=r:this.currentReadyPicker=null,this.currentState=t,this.channelControlHelper.updateState(t,r)}resetSubchannelList(){for(let t of this.subchannels)t.removeConnectivityStateListener(this.subchannelStateListener),t.unref(),this.channelControlHelper.removeChannelzChild(t.getChannelzRef());this.subchannels=[]}updateAddressList(t,r){for(let r of(this.resetSubchannelList(),d("Connect to address list "+t.map(t=>(0,o.subchannelAddressToString)(t))),this.subchannels=t.map(t=>this.channelControlHelper.createSubchannel(t,{})),this.subchannels)){r.ref(),r.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(r.getChannelzRef());let t=r.getConnectivityState();(t===s.ConnectivityState.IDLE||t===s.ConnectivityState.TRANSIENT_FAILURE)&&r.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let t of this.subchannels)t.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return h}}function m(){(0,i.registerLoadBalancerType)(h,g,f)}r.RoundRobinLoadBalancer=g,r.setup=m},77541:(t,r)=>{"use strict";function n(t,r){var n,i,s,a,o,l,u,c,d,h;return{createSubchannel:null!==(i=null===(n=r.createSubchannel)||void 0===n?void 0:n.bind(r))&&void 0!==i?i:t.createSubchannel.bind(t),updateState:null!==(a=null===(s=r.updateState)||void 0===s?void 0:s.bind(r))&&void 0!==a?a:t.updateState.bind(t),requestReresolution:null!==(l=null===(o=r.requestReresolution)||void 0===o?void 0:o.bind(r))&&void 0!==l?l:t.requestReresolution.bind(t),addChannelzChild:null!==(c=null===(u=r.addChannelzChild)||void 0===u?void 0:u.bind(r))&&void 0!==c?c:t.addChannelzChild.bind(t),removeChannelzChild:null!==(h=null===(d=r.removeChannelzChild)||void 0===d?void 0:d.bind(r))&&void 0!==h?h:t.removeChannelzChild.bind(t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.validateLoadBalancingConfig=r.getFirstUsableConfig=r.isLoadBalancerNameRegistered=r.createLoadBalancer=r.registerDefaultLoadBalancerType=r.registerLoadBalancerType=r.createChildChannelControlHelper=void 0,r.createChildChannelControlHelper=n;let i={},s=null;function a(t,r,n){i[t]={LoadBalancer:r,LoadBalancingConfig:n}}function o(t){s=t}function l(t,r){let n=t.getLoadBalancerName();return n in i?new i[n].LoadBalancer(r):null}function u(t){return t in i}function c(t,r=!1){for(let r of t)if(r.getLoadBalancerName() in i)return r;return r&&s?new i[s].LoadBalancingConfig:null}function d(t){if(!(null!==t&&"object"==typeof t))throw Error("Load balancing config must be an object");let r=Object.keys(t);if(1!==r.length)throw Error("Provided load balancing config has multiple conflicting entries");let n=r[0];if(n in i)return i[n].LoadBalancingConfig.createFromJson(t[n]);throw Error(`Unrecognized load balancing config name ${n}`)}r.registerLoadBalancerType=a,r.registerDefaultLoadBalancerType=o,r.createLoadBalancer=l,r.isLoadBalancerNameRegistered=u,r.getFirstUsableConfig=c,r.validateLoadBalancingConfig=d},52967:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoadBalancingCall=void 0;let i=n(29354),s=n(44746),a=n(53779),o=n(40614),l=n(54387),u=n(47180),c=n(66295),d=n(36258),h=n(85158),f="load_balancing_call";class p{constructor(t,r,n,i,s,a,o){var l,c;this.channel=t,this.callConfig=r,this.methodName=n,this.host=i,this.credentials=s,this.deadline=a,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let d=this.methodName.split("/"),h="";d.length>=2&&(h=d[1]);let f=null!==(c=null===(l=(0,u.splitHostPort)(this.host))||void 0===l?void 0:l.host)&&void 0!==c?c:"localhost";this.serviceUrl=`https://${f}/${h}`}trace(t){c.trace(s.LogVerbosity.DEBUG,f,"["+this.callNumber+"] "+t)}outputStatus(t,r){var n,i;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+t.code+' details="'+t.details+'"');let s=Object.assign(Object.assign({},t),{progress:r});null===(n=this.listener)||void 0===n||n.onReceiveStatus(s),null===(i=this.onCallEnded)||void 0===i||i.call(this,s.code)}}doPick(){var t,r;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let n=this.channel.doPick(this.metadata,this.callConfig.pickInformation),u=n.subchannel?"("+n.subchannel.getChannelzRef().id+") "+n.subchannel.getAddress():""+n.subchannel;switch(this.trace("Pick result: "+l.PickResultType[n.pickResultType]+" subchannel: "+u+" status: "+(null===(t=n.status)||void 0===t?void 0:t.code)+" "+(null===(r=n.status)||void 0===r?void 0:r.details)),n.pickResultType){case l.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(t=>{var r,l,c;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let d=this.metadata.clone();if(d.merge(t),d.get("authorization").length>1&&this.outputStatus({code:s.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED"),n.subchannel.getConnectivityState()!==i.ConnectivityState.READY){this.trace("Picked subchannel "+u+" has state "+i.ConnectivityState[n.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&d.set("grpc-timeout",(0,a.getDeadlineTimeoutString)(this.deadline));try{this.child=n.subchannel.getRealSubchannel().createCall(d,this.host,this.methodName,{onReceiveMetadata:t=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(t)},onReceiveMessage:t=>{this.trace("Received message"),this.listener.onReceiveMessage(t)},onReceiveStatus:t=>{this.trace("Received status"),t.rstCode===h.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(t,"REFUSED"):this.outputStatus(t,"PROCESSED")}})}catch(t){this.trace("Failed to start call on picked subchannel "+u+" with error "+t.message),this.outputStatus({code:s.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+t.message,metadata:new o.Metadata},"NOT_STARTED");return}null===(l=(r=this.callConfig).onCommitted)||void 0===l||l.call(r),null===(c=n.onCallStarted)||void 0===c||c.call(n),this.onCallEnded=n.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},t=>{let{code:r,details:n}=(0,d.restrictControlPlaneStatusCode)("number"==typeof t.code?t.code:s.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${t.message}`);this.outputStatus({code:r,details:n,metadata:new o.Metadata},"PROCESSED")});break;case l.PickResultType.DROP:let{code:c,details:f}=(0,d.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:c,details:f,metadata:n.status.metadata},"DROP")});break;case l.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:t,details:r}=(0,d.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:t,details:r,metadata:n.status.metadata},"PROCESSED")})}break;case l.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(t,r){var n;this.trace("cancelWithStatus code: "+t+' details: "'+r+'"'),null===(n=this.child)||void 0===n||n.cancelWithStatus(t,r),this.outputStatus({code:t,details:r,metadata:new o.Metadata},"PROCESSED")}getPeer(){var t,r;return null!==(r=null===(t=this.child)||void 0===t?void 0:t.getPeer())&&void 0!==r?r:this.channel.getTarget()}start(t,r){this.trace("start called"),this.listener=r,this.metadata=t,this.doPick()}sendMessageWithContext(t,r){this.trace("write() called with message of length "+r.length),this.child?this.child.sendMessageWithContext(t,r):this.pendingMessage={context:t,message:r}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(t){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}r.LoadBalancingCall=p},66295:(t,r,n)=>{"use strict";var i,s,a,o;Object.defineProperty(r,"__esModule",{value:!0}),r.isTracerEnabled=r.trace=r.log=r.setLoggerVerbosity=r.setLogger=r.getLogger=void 0;let l=n(44746),u=n(77282),c=n(18993).i8,d={error:(t,...r)=>{console.error("E "+t,...r)},info:(t,...r)=>{console.error("I "+t,...r)},debug:(t,...r)=>{console.error("D "+t,...r)}},h=l.LogVerbosity.ERROR;switch((null!==(s=null!==(i=process.env.GRPC_NODE_VERBOSITY)&&void 0!==i?i:process.env.GRPC_VERBOSITY)&&void 0!==s?s:"").toUpperCase()){case"DEBUG":h=l.LogVerbosity.DEBUG;break;case"INFO":h=l.LogVerbosity.INFO;break;case"ERROR":h=l.LogVerbosity.ERROR;break;case"NONE":h=l.LogVerbosity.NONE}let f=()=>d;r.getLogger=f;let p=t=>{d=t};r.setLogger=p;let g=t=>{h=t};r.setLoggerVerbosity=g;let m=(t,...r)=>{let n;if(t>=h){switch(t){case l.LogVerbosity.DEBUG:n=d.debug;break;case l.LogVerbosity.INFO:n=d.info;break;case l.LogVerbosity.ERROR:n=d.error}n||(n=d.error),n&&n.bind(d)(...r)}};r.log=m;let v=null!==(o=null!==(a=process.env.GRPC_NODE_TRACE)&&void 0!==a?a:process.env.GRPC_TRACE)&&void 0!==o?o:"",y=new Set,_=new Set;for(let t of v.split(","))t.startsWith("-")?_.add(t.substring(1)):y.add(t);let b=y.has("all");function S(t,n,i){E(n)&&(0,r.log)(t,new Date().toISOString()+" | v"+c+" "+u.pid+" | "+n+" | "+i)}function E(t){return!_.has(t)&&(b||y.has(t))}r.trace=S,r.isTracerEnabled=E},87788:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadPackageDefinition=r.makeClientConstructor=void 0;let i=n(54388),s={unary:i.Client.prototype.makeUnaryRequest,server_stream:i.Client.prototype.makeServerStreamRequest,client_stream:i.Client.prototype.makeClientStreamRequest,bidi:i.Client.prototype.makeBidiStreamRequest};function a(t){return["__proto__","prototype","constructor"].includes(t)}function o(t,r,n){n||(n={});class o extends i.Client{}return Object.keys(t).forEach(r=>{let n;if(a(r))return;let i=t[r];if("string"==typeof r&&"$"===r.charAt(0))throw Error("Method names cannot start with $");n=i.requestStream?i.responseStream?"bidi":"client_stream":i.responseStream?"server_stream":"unary";let u=i.requestSerialize,c=i.responseDeserialize,d=l(s[n],i.path,u,c);o.prototype[r]=d,Object.assign(o.prototype[r],i),i.originalName&&!a(i.originalName)&&(o.prototype[i.originalName]=o.prototype[r])}),o.service=t,o.serviceName=r,o}function l(t,r,n,i){return function(...s){return t.call(this,r,n,i,...s)}}function u(t){return"format"in t}function c(t){let r={};for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let i=t[n],s=n.split(".");if(s.some(t=>a(t)))continue;let l=s[s.length-1],c=r;for(let t of s.slice(0,-1))c[t]||(c[t]={}),c=c[t];u(i)?c[l]=i:c[l]=o(i,l,{})}return r}r.makeClientConstructor=o,r.loadPackageDefinition=c},40614:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Metadata=void 0;let i=n(66295),s=n(44746),a=n(58307),o=/^[0-9a-z_.-]+$/,l=/^[ -~]*$/;function u(t){return o.test(t)}function c(t){return l.test(t)}function d(t){return t.endsWith("-bin")}function h(t){return!t.startsWith("grpc-")}function f(t){return t.toLowerCase()}function p(t,r){if(!u(t))throw Error('Metadata key "'+t+'" contains illegal characters');if(null!=r){if(d(t)){if(!Buffer.isBuffer(r))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(r))throw Error("keys that don't end with '-bin' must have String values");if(!c(r))throw Error('Metadata string value "'+r+'" contains illegal characters')}}}class g{constructor(t={}){this.internalRepr=new Map,this.options=t}set(t,r){p(t=f(t),r),this.internalRepr.set(t,[r])}add(t,r){p(t=f(t),r);let n=this.internalRepr.get(t);void 0===n?this.internalRepr.set(t,[r]):n.push(r)}remove(t){t=f(t),this.internalRepr.delete(t)}get(t){return t=f(t),this.internalRepr.get(t)||[]}getMap(){let t={};for(let[r,n]of this.internalRepr)if(n.length>0){let i=n[0];t[r]=Buffer.isBuffer(i)?Buffer.from(i):i}return t}clone(){let t=new g(this.options),r=t.internalRepr;for(let[t,n]of this.internalRepr){let i=n.map(t=>Buffer.isBuffer(t)?Buffer.from(t):t);r.set(t,i)}return t}merge(t){for(let[r,n]of t.internalRepr){let t=(this.internalRepr.get(r)||[]).concat(n);this.internalRepr.set(r,t)}}setOptions(t){this.options=t}getOptions(){return this.options}toHttp2Headers(){let t={};for(let[r,n]of this.internalRepr)t[r]=n.map(m);return t}toJSON(){let t={};for(let[r,n]of this.internalRepr)t[r]=n;return t}static fromHttp2Headers(t){let r=new g;for(let n of Object.keys(t)){if(":"===n.charAt(0))continue;let o=t[n];try{d(n)?Array.isArray(o)?o.forEach(t=>{r.add(n,Buffer.from(t,"base64"))}):void 0!==o&&(h(n)?o.split(",").forEach(t=>{r.add(n,Buffer.from(t.trim(),"base64"))}):r.add(n,Buffer.from(o,"base64"))):Array.isArray(o)?o.forEach(t=>{r.add(n,t)}):void 0!==o&&r.add(n,o)}catch(r){let t=`Failed to add metadata entry ${n}: ${o}. ${(0,a.getErrorMessage)(r)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,i.log)(s.LogVerbosity.ERROR,t)}}return r}}r.Metadata=g;let m=t=>Buffer.isBuffer(t)?t.toString("base64"):t},54387:(t,r,n)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),r.QueuePicker=r.UnavailablePicker=r.PickResultType=void 0;let s=n(40614),a=n(44746);!function(t){t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP"}(i||(r.PickResultType=i={}));class o{constructor(t){this.status=Object.assign({code:a.Status.UNAVAILABLE,details:"No connection established",metadata:new s.Metadata},t)}pick(t){return{pickResultType:i.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}r.UnavailablePicker=o;class l{constructor(t){this.loadBalancer=t,this.calledExitIdle=!1}pick(t){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:i.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}r.QueuePicker=l},42708:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setup=r.DEFAULT_PORT=void 0;let i=n(93764),s=n(9523),a=n(73837),o=n(27473),l=n(44746),u=n(40614),c=n(66295),d=n(44746),h=n(47180),f=n(41808),p=n(87601),g="dns_resolver";function m(t){c.trace(d.LogVerbosity.DEBUG,g,t)}r.DEFAULT_PORT=443;let v=3e4,y=a.promisify(s.resolveTxt),_=a.promisify(s.lookup);function b(...t){let r=[];for(let n=0;n<Math.max.apply(null,t.map(t=>t.length));n++)for(let i of t)n<i.length&&r.push(i[n]);return r}class S{constructor(t,n,i){var s,a,o;this.target=t,this.listener=n,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,m("Resolver constructed for target "+(0,h.uriToString)(t));let c=(0,h.splitHostPort)(t.path);null===c?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,f.isIPv4)(c.host)||(0,f.isIPv6)(c.host)?(this.ipResult=[{host:c.host,port:null!==(s=c.port)&&void 0!==s?s:r.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=c.host,this.port=null!==(a=c.port)&&void 0!==a?a:r.DEFAULT_PORT),this.percentage=100*Math.random(),1===i["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:l.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,h.uriToString)(this.target)}`,metadata:new u.Metadata};let d={initialDelay:i["grpc.initial_reconnect_backoff_ms"],maxDelay:i["grpc.max_reconnect_backoff_ms"]};this.backoff=new p.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},d),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(o=i["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==o?o:v,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(m("Returning IP address for target "+(0,h.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)m("Failed to parse DNS address "+(0,h.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:l.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,h.uriToString)(this.target)}`,metadata:new u.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;m("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let t=this.dnsHostname;this.pendingLookupPromise=_(t,{all:!0}),this.pendingLookupPromise.then(t=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let r=t.filter(t=>4===t.family),n=t.filter(t=>6===t.family);this.latestLookupResult=b(n,r).map(t=>({host:t.address,port:+this.port}));let i="["+this.latestLookupResult.map(t=>t.host+":"+t.port).join(",")+"]";if(m("Resolved addresses for target "+(0,h.uriToString)(this.target)+": "+i),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{null!==this.pendingLookupPromise&&(m("Resolution error for target "+(0,h.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=y(t),this.pendingTxtPromise.then(t=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(t,this.percentage)}catch(t){this.latestServiceConfigError={code:l.Status.UNAVAILABLE,details:`Parsing service config failed with error ${t.message}`,metadata:new u.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}startNextResolutionTimer(){var t,r;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(r=(t=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===r?void 0:r.call(t),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?m('resolution update delayed by "min time between resolutions" rate limit'):m("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(t){return t.path}}function E(){(0,i.registerResolver)("dns",S),(0,i.registerDefaultScheme)("dns")}r.setup=E},47630:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setup=void 0;let i=n(41808),s=n(44746),a=n(40614),o=n(93764),l=n(47180),u=n(66295),c="ip_resolver";function d(t){u.trace(s.LogVerbosity.DEBUG,c,t)}let h="ipv4",f="ipv6",p=443;class g{constructor(t,r,n){var o;this.listener=r,this.addresses=[],this.error=null,this.hasReturnedResult=!1,d("Resolver constructed for target "+(0,l.uriToString)(t));let u=[];if(!(t.scheme===h||t.scheme===f)){this.error={code:s.Status.UNAVAILABLE,details:`Unrecognized scheme ${t.scheme} in IP resolver`,metadata:new a.Metadata};return}for(let r of t.path.split(",")){let n=(0,l.splitHostPort)(r);if(null===n||t.scheme===h&&!(0,i.isIPv4)(n.host)||t.scheme===f&&!(0,i.isIPv6)(n.host)){this.error={code:s.Status.UNAVAILABLE,details:`Failed to parse ${t.scheme} address ${r}`,metadata:new a.Metadata};return}u.push({host:n.host,port:null!==(o=n.port)&&void 0!==o?o:p})}this.addresses=u,d("Parsed "+t.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(t){return t.path.split(",")[0]}}function m(){(0,o.registerResolver)(h,g),(0,o.registerResolver)(f,g)}r.setup=m},62012:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setup=void 0;let i=n(93764);class s{constructor(t,r,n){let i;this.listener=r,this.addresses=[],this.hasReturnedResult=!1,i=""===t.authority?"/"+t.path:t.path,this.addresses=[{path:i}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(t){return"localhost"}}function a(){(0,i.registerResolver)("unix",s)}r.setup=a},93764:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mapUriDefaultScheme=r.getDefaultAuthority=r.createResolver=r.registerDefaultScheme=r.registerResolver=void 0;let i=n(47180),s={},a=null;function o(t,r){s[t]=r}function l(t){a=t}function u(t,r,n){if(void 0!==t.scheme&&t.scheme in s)return new s[t.scheme](t,r,n);throw Error(`No resolver could be created for target ${(0,i.uriToString)(t)}`)}function c(t){if(void 0!==t.scheme&&t.scheme in s)return s[t.scheme].getDefaultAuthority(t);throw Error(`Invalid target ${(0,i.uriToString)(t)}`)}function d(t){return void 0!==t.scheme&&t.scheme in s?t:null!==a?{scheme:a,authority:void 0,path:(0,i.uriToString)(t)}:null}r.registerResolver=o,r.registerDefaultScheme=l,r.createResolver=u,r.getDefaultAuthority=c,r.mapUriDefaultScheme=d},76296:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ResolvingCall=void 0;let i=n(44746),s=n(53779),a=n(40614),o=n(66295),l=n(36258),u="resolving_call";class c{constructor(t,r,n,a,o,l){this.channel=t,this.method=r,this.filterStackFactory=a,this.credentials=o,this.callNumber=l,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=n.deadline,this.host=n.host,n.parentCall&&(n.flags&i.Propagate.CANCELLATION&&n.parentCall.on("cancelled",()=>{this.cancelWithStatus(i.Status.CANCELLED,"Cancelled by parent call")}),n.flags&i.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+n.parentCall.getDeadline()),this.deadline=(0,s.minDeadline)(this.deadline,n.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(t){o.trace(i.LogVerbosity.DEBUG,u,"["+this.callNumber+"] "+t)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,s.deadlineToString)(this.deadline));let t=(0,s.getRelativeTimeout)(this.deadline);if(t!==1/0){this.trace("Deadline will be reached in "+t+"ms");let r=()=>{this.cancelWithStatus(i.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};t<=0?process.nextTick(r):this.deadlineTimer=setTimeout(r,t)}}outputStatus(t){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let r=this.filterStack.receiveTrailers(t);this.trace("ended with status: code="+r.code+' details="'+r.details+'"'),this.statusWatchers.forEach(t=>t(r)),process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus(r)})}}sendMessageOnChild(t,r){if(!this.child)throw Error("sendMessageonChild called with child not populated");let n=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:r,flags:t.flags})).then(r=>{this.writeFilterPending=!1,n.sendMessageWithContext(t,r.message),this.pendingHalfClose&&n.halfClose()},t=>{this.cancelWithStatus(t.code,t.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let t=this.channel.getConfig(this.method,this.metadata);if("NONE"===t.type){this.channel.queueCallForConfig(this);return}if("ERROR"===t.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(t.error);return}let r=t.config;if(r.status!==i.Status.OK){let{code:t,details:n}=(0,l.restrictControlPlaneStatusCode)(r.status,"Failed to route call to method "+this.method);this.outputStatus({code:t,details:n,metadata:new a.Metadata});return}if(r.methodConfig.timeout){let t=new Date;t.setSeconds(t.getSeconds()+r.methodConfig.timeout.seconds),t.setMilliseconds(t.getMilliseconds()+r.methodConfig.timeout.nanos/1e6),this.deadline=(0,s.minDeadline)(this.deadline,t),this.runDeadlineTimer()}this.filterStackFactory.push(r.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(t=>{this.child=this.channel.createInnerCall(r,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(t,{onReceiveMetadata:t=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(t))},onReceiveMessage:t=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(t).then(t=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(t),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},t=>{this.cancelWithStatus(t.code,t.details)})},onReceiveStatus:t=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=t:this.outputStatus(t)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},t=>{this.outputStatus(t)})}reportResolverError(t){var r;(null===(r=this.metadata)||void 0===r?void 0:r.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(t)}cancelWithStatus(t,r){var n;this.trace("cancelWithStatus code: "+t+' details: "'+r+'"'),null===(n=this.child)||void 0===n||n.cancelWithStatus(t,r),this.outputStatus({code:t,details:r,metadata:new a.Metadata})}getPeer(){var t,r;return null!==(r=null===(t=this.child)||void 0===t?void 0:t.getPeer())&&void 0!==r?r:this.channel.getTarget()}start(t,r){this.trace("start called"),this.metadata=t.clone(),this.listener=r,this.getConfig()}sendMessageWithContext(t,r){this.trace("write() called with message of length "+r.length),this.child?this.sendMessageOnChild(t,r):this.pendingMessage={context:t,message:r}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(t){this.credentials=this.credentials.compose(t)}addStatusWatcher(t){this.statusWatchers.push(t)}getCallNumber(){return this.callNumber}}r.ResolvingCall=c},69379:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ResolvingLoadBalancer=void 0;let i=n(77541),s=n(27473),a=n(29354),o=n(93764),l=n(54387),u=n(87601),c=n(44746),d=n(40614),h=n(66295),f=n(44746),p=n(47180),g=n(17788),m="resolving_load_balancer";function v(t){h.trace(f.LogVerbosity.DEBUG,m,t)}let y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function _(t,r,n,i){for(let s of n.name)switch(i){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===t&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===t&&s.method===r)return!0}return!1}function b(t,r,n,i){for(let s of n)if(_(t,r,s,i))return s;return null}function S(t){return function(r,n){var i,s;let a=r.split("/").filter(t=>t.length>0),o=null!==(i=a[0])&&void 0!==i?i:"",l=null!==(s=a[1])&&void 0!==s?s:"";if(t&&t.methodConfig)for(let r of y){let n=b(o,l,t.methodConfig,r);if(n)return{methodConfig:n,pickInformation:{},status:c.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:c.Status.OK,dynamicFilterFactories:[]}}}class E{constructor(t,r,n,h,f){this.target=t,this.channelControlHelper=r,this.onSuccessfulResolution=h,this.onFailedResolution=f,this.latestChildState=a.ConnectivityState.IDLE,this.latestChildPicker=new l.QueuePicker(this),this.currentState=a.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,n["grpc.service_config"]?this.defaultServiceConfig=(0,s.validateServiceConfig)(JSON.parse(n["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(a.ConnectivityState.IDLE,new l.QueuePicker(this)),this.childLoadBalancer=new g.ChildLoadBalancerHandler({createSubchannel:r.createSubchannel.bind(r),requestReresolution:()=>{this.backoffTimeout.isRunning()?(v("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(t,r)=>{this.latestChildState=t,this.latestChildPicker=r,this.updateState(t,r)},addChannelzChild:r.addChannelzChild.bind(r),removeChannelzChild:r.removeChannelzChild.bind(r)}),this.innerResolver=(0,o.createResolver)(t,{onSuccessfulResolution:(t,r,n,s,a)=>{var o;this.backoffTimeout.stop(),this.backoffTimeout.reset();let l=null;null===r?null===n?(this.previousServiceConfig=null,l=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(n):l=this.previousServiceConfig:(l=r,this.previousServiceConfig=r);let u=null!==(o=null==l?void 0:l.loadBalancingConfig)&&void 0!==o?o:[],h=(0,i.getFirstUsableConfig)(u,!0);if(null===h){this.handleResolutionFailure({code:c.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new d.Metadata});return}this.childLoadBalancer.updateAddressList(t,h,a);let f=null!=l?l:this.defaultServiceConfig;this.onSuccessfulResolution(f,null!=s?s:S(f))},onError:t=>{this.handleResolutionFailure(t)}},n);let p={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new u.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},p),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===a.ConnectivityState.IDLE&&this.updateState(a.ConnectivityState.CONNECTING,new l.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(t,r){v((0,p.uriToString)(this.target)+" "+a.ConnectivityState[this.currentState]+" -> "+a.ConnectivityState[t]),t===a.ConnectivityState.IDLE&&(r=new l.QueuePicker(this)),this.currentState=t,this.channelControlHelper.updateState(t,r)}handleResolutionFailure(t){this.latestChildState===a.ConnectivityState.IDLE&&(this.updateState(a.ConnectivityState.TRANSIENT_FAILURE,new l.UnavailablePicker(t)),this.onFailedResolution(t))}exitIdle(){(this.currentState===a.ConnectivityState.IDLE||this.currentState===a.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(t,r){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=a.ConnectivityState.IDLE,this.latestChildPicker=new l.QueuePicker(this),this.currentState=a.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}r.ResolvingLoadBalancer=E},22005:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RetryingCall=r.MessageBufferTracker=r.RetryThrottler=void 0;let i=n(44746),s=n(40614),a=n(66295),o="retrying_call";class l{constructor(t,r,n){this.maxTokens=t,this.tokenRatio=r,n?this.tokens=n.tokens*(t/n.maxTokens):this.tokens=t}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}r.RetryThrottler=l;class u{constructor(t,r){this.totalLimit=t,this.limitPerCall=r,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(t,r){var n;let i=null!==(n=this.allocatedPerCall.get(r))&&void 0!==n?n:0;return!(this.limitPerCall-i<t)&&!(this.totalLimit-this.totalAllocated<t)&&(this.allocatedPerCall.set(r,i+t),this.totalAllocated+=t,!0)}free(t,r){var n;if(this.totalAllocated<t)throw Error(`Invalid buffer allocation state: call ${r} freed ${t} > total allocated ${this.totalAllocated}`);this.totalAllocated-=t;let i=null!==(n=this.allocatedPerCall.get(r))&&void 0!==n?n:0;if(i<t)throw Error(`Invalid buffer allocation state: call ${r} freed ${t} > allocated for call ${i}`);this.allocatedPerCall.set(r,i-t)}freeAll(t){var r;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(this.totalAllocated<n)throw Error(`Invalid buffer allocation state: call ${t} allocated ${n} > total allocated ${this.totalAllocated}`);this.totalAllocated-=n,this.allocatedPerCall.delete(t)}}r.MessageBufferTracker=u;let c="grpc-previous-rpc-attempts";class d{constructor(t,r,n,i,s,a,o,l,u){if(this.channel=t,this.callConfig=r,this.methodName=n,this.host=i,this.credentials=s,this.deadline=a,this.callNumber=o,this.bufferTracker=l,this.retryThrottler=u,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,r.methodConfig.retryPolicy){this.state="RETRY";let t=r.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(t.initialBackoff.substring(0,t.initialBackoff.length-1))}else r.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(t){a.trace(i.LogVerbosity.DEBUG,o,"["+this.callNumber+"] "+t)}reportStatus(t){this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var r;null===(r=this.listener)||void 0===r||r.onReceiveStatus({code:t.code,details:t.details,metadata:t.metadata})})}cancelWithStatus(t,r){for(let{call:n}of(this.trace("cancelWithStatus code: "+t+' details: "'+r+'"'),this.reportStatus({code:t,details:r,metadata:new s.Metadata}),this.underlyingCalls))n.cancelWithStatus(t,r)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(t){var r;return null!==(r=this.writeBuffer[t-this.writeBufferOffset])&&void 0!==r?r:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let t=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let r=this.writeBufferOffset;r<t;r++){let t=this.getBufferEntry(r);t.allocated&&this.bufferTracker.free(t.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(t-this.writeBufferOffset),this.writeBufferOffset=t}commitCall(t){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[t].state){this.trace("Committing call ["+this.underlyingCalls[t].call.getCallNumber()+"] at index "+t),this.state="COMMITTED",this.committedCallIndex=t;for(let r=0;r<this.underlyingCalls.length;r++)r!==t&&"COMPLETED"!==this.underlyingCalls[r].state&&(this.underlyingCalls[r].state="COMPLETED",this.underlyingCalls[r].call.cancelWithStatus(i.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let t=-1,r=-1;for(let[n,i]of this.underlyingCalls.entries())"ACTIVE"===i.state&&i.nextMessageToSend>t&&(t=i.nextMessageToSend,r=n);-1===r?this.state="TRANSPARENT_ONLY":this.commitCall(r)}isStatusCodeInList(t,r){return t.some(t=>t===r||t.toString().toLowerCase()===i.Status[r].toLowerCase())}getNextRetryBackoffMs(){var t;let r=null===(t=this.callConfig)||void 0===t?void 0:t.methodConfig.retryPolicy;if(!r)return 0;let n=Math.random()*this.nextRetryBackoffSec*1e3,i=Number(r.maxBackoff.substring(0,r.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*r.backoffMultiplier,i),n}maybeRetryCall(t,r){let n;if("RETRY"!==this.state){r(!1);return}let i=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(i.maxAttempts,5)){r(!1);return}if(null===t)n=this.getNextRetryBackoffMs();else if(t<0){this.state="TRANSPARENT_ONLY",r(!1);return}else n=t,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var t,n;if("RETRY"!==this.state){r(!1);return}(null===(n=null===(t=this.retryThrottler)||void 0===t?void 0:t.canRetryCall())||void 0===n||n)&&(r(!0),this.attempts+=1,this.startNewAttempt())},n)}countActiveCalls(){let t=0;for(let r of this.underlyingCalls)(null==r?void 0:r.state)==="ACTIVE"&&(t+=1);return t}handleProcessedStatus(t,r,n){var i,s,a;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(r),this.reportStatus(t);break;case"HEDGING":if(this.isStatusCodeInList(null!==(i=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==i?i:[],t.code)){let i;if(null===(s=this.retryThrottler)||void 0===s||s.addCallFailed(),null===n)i=0;else if(n<0){this.state="TRANSPARENT_ONLY",this.commitCall(r),this.reportStatus(t);return}else i=n;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(r),this.reportStatus(t))},i)}else this.commitCall(r),this.reportStatus(t);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,t.code)?(null===(a=this.retryThrottler)||void 0===a||a.addCallFailed(),this.maybeRetryCall(n,n=>{n||(this.commitCall(r),this.reportStatus(t))})):(this.commitCall(r),this.reportStatus(t))}}getPushback(t){let r=t.get("grpc-retry-pushback-ms");if(0===r.length)return null;try{return parseInt(r[0])}catch(t){return -1}}handleChildStatus(t,r){var n;if("COMPLETED"===this.underlyingCalls[r].state)return;if(this.trace("state="+this.state+" handling status with progress "+t.progress+" from child ["+this.underlyingCalls[r].call.getCallNumber()+"] in state "+this.underlyingCalls[r].state),this.underlyingCalls[r].state="COMPLETED",t.code===i.Status.OK){null===(n=this.retryThrottler)||void 0===n||n.addCallSucceeded(),this.commitCall(r),this.reportStatus(t);return}if("COMMITTED"===this.state){this.reportStatus(t);return}let s=this.getPushback(t.metadata);switch(t.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(t,r,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(r),this.reportStatus(t);break;case"PROCESSED":this.handleProcessedStatus(t,r,s)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let t=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(t.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var t,r,n;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let i=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(i.maxAttempts,5))return;let s=null!==(t=i.hedgingDelay)&&void 0!==t?t:"0s",a=Number(s.substring(0,s.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*a),null===(n=(r=this.hedgingTimer).unref)||void 0===n||n.call(r)}startNewAttempt(){let t=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+t.getCallNumber()+"] for attempt "+this.attempts);let r=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:t,nextMessageToSend:0});let n=this.attempts-1,i=this.initialMetadata.clone();n>0&&i.set(c,`${n}`);let s=!1;t.start(i,{onReceiveMetadata:i=>{this.trace("Received metadata from child ["+t.getCallNumber()+"]"),this.commitCall(r),s=!0,n>0&&i.set(c,`${n}`),"ACTIVE"===this.underlyingCalls[r].state&&this.listener.onReceiveMetadata(i)},onReceiveMessage:n=>{this.trace("Received message from child ["+t.getCallNumber()+"]"),this.commitCall(r),"ACTIVE"===this.underlyingCalls[r].state&&this.listener.onReceiveMessage(n)},onReceiveStatus:i=>{this.trace("Received status from child ["+t.getCallNumber()+"]"),!s&&n>0&&i.metadata.set(c,`${n}`),this.handleChildStatus(i,r)}}),this.sendNextChildMessage(r),this.readStarted&&t.startRead()}start(t,r){this.trace("start called"),this.listener=r,this.initialMetadata=t,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(t){var r,n;let i=this.underlyingCalls[t],s=i.nextMessageToSend;null===(n=(r=this.getBufferEntry(s)).callback)||void 0===n||n.call(r),this.clearSentMessages(),i.nextMessageToSend+=1,this.sendNextChildMessage(t)}sendNextChildMessage(t){let r=this.underlyingCalls[t];if("COMPLETED"!==r.state&&this.getBufferEntry(r.nextMessageToSend)){let n=this.getBufferEntry(r.nextMessageToSend);switch(n.entryType){case"MESSAGE":r.call.sendMessageWithContext({callback:r=>{this.handleChildWriteCompleted(t)}},n.message.message);break;case"HALF_CLOSE":r.nextMessageToSend+=1,r.call.halfClose()}}}sendMessageWithContext(t,r){var n;this.trace("write() called with message of length "+r.length);let i={message:r,flags:t.flags},s=this.getNextBufferIndex(),a={entryType:"MESSAGE",message:i,allocated:this.bufferTracker.allocate(r.length,this.callNumber)};if(this.writeBuffer.push(a),a.allocated)for(let[i,a]of(null===(n=t.callback)||void 0===n||n.call(t),this.underlyingCalls.entries()))"ACTIVE"===a.state&&a.nextMessageToSend===s&&a.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(i)}},r);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let n=this.underlyingCalls[this.committedCallIndex];a.callback=t.callback,"ACTIVE"===n.state&&n.nextMessageToSend===s&&n.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(this.committedCallIndex)}},r)}}startRead(){for(let t of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.call.startRead()}halfClose(){this.trace("halfClose called");let t=this.getNextBufferIndex();for(let r of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==r?void 0:r.state)==="ACTIVE"&&r.nextMessageToSend===t&&(r.nextMessageToSend+=1,r.call.halfClose())}setCredentials(t){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}r.RetryingCall=d},93233:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Http2ServerCallStream=r.ServerDuplexStreamImpl=r.ServerWritableStreamImpl=r.ServerReadableStreamImpl=r.ServerUnaryCallImpl=void 0;let i=n(82361),s=n(85158),a=n(12781),o=n(59796),l=n(44746),u=n(40614),c=n(75072),d=n(66295),h=n(58307),f="server_call";function p(t){d.trace(l.LogVerbosity.DEBUG,f,t)}let g="grpc-message",m="grpc-status",v="grpc-timeout",y=/(\d{1,8})\s*([HMSmun])/,_={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},b={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},S={[s.constants.HTTP2_HEADER_STATUS]:s.constants.HTTP_STATUS_OK,[s.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},E={waitForTrailers:!0};class T extends i.EventEmitter{constructor(t,r,n){super(),this.call=t,this.metadata=r,this.request=n,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}r.ServerUnaryCallImpl=T;class w extends a.Readable{constructor(t,r,n,i){super({objectMode:!0}),this.call=t,this.metadata=r,this.deserialize=n,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i)}_read(t){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}r.ServerReadableStreamImpl=w;class C extends a.Writable{constructor(t,r,n,i){super({objectMode:!0}),this.call=t,this.metadata=r,this.serialize=n,this.request=i,this.cancelled=!1,this.trailingMetadata=new u.Metadata,this.call.setupSurfaceCall(this),this.on("error",t=>{this.call.sendError(t),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(t,r,n){try{let r=this.call.serializeMessage(t);if(!this.call.write(r)){this.call.once("drain",n);return}}catch(t){this.emit("error",{details:(0,h.getErrorMessage)(t),code:l.Status.INTERNAL})}n()}_final(t){this.call.sendStatus({code:l.Status.OK,details:"OK",metadata:this.trailingMetadata}),t(null)}end(t){return t&&(this.trailingMetadata=t),super.end()}}r.ServerWritableStreamImpl=C;class R extends a.Duplex{constructor(t,r,n,i,s){super({objectMode:!0}),this.call=t,this.metadata=r,this.serialize=n,this.deserialize=i,this.cancelled=!1,this.trailingMetadata=new u.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,s),this.on("error",t=>{this.call.sendError(t),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(t){this.call.sendMetadata(t)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(t){return t&&(this.trailingMetadata=t),super.end()}}r.ServerDuplexStreamImpl=R,R.prototype._read=w.prototype._read,R.prototype._write=C.prototype._write,R.prototype._final=C.prototype._final;class I extends i.EventEmitter{constructor(t,r,n){super(),this.stream=t,this.handler=r,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=l.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=l.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",t=>{}),this.stream.once("close",()=>{var t;p("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:l.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in n&&(this.maxSendMessageSize=n["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in n&&(this.maxReceiveMessageSize=n["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(t,r){let n=t.subarray(5);if("identity"===r)return n;if("deflate"!==r&&"gzip"!==r)return Promise.reject({code:l.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${r}"`});{let t;return t="deflate"===r?o.createInflate():o.createGunzip(),new Promise((r,i)=>{let s=0,a=[];t.on("data",r=>{a.push(r),s+=r.byteLength,-1!==this.maxReceiveMessageSize&&s>this.maxReceiveMessageSize&&(t.destroy(),i({code:l.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),t.on("end",()=>{r(Buffer.concat(a))}),t.write(n),t.end()})}}sendMetadata(t){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let r=t?t.toHttp2Headers():null,n=Object.assign(Object.assign(Object.assign({},S),b),r);this.stream.respond(n,E)}receiveMetadata(t){let r=u.Metadata.fromHttp2Headers(t);d.isTracerEnabled(f)&&p("Request to "+this.handler.path+" received headers "+JSON.stringify(r.toJSON()));let n=r.get(v);if(n.length>0){let t=n[0].toString().match(y);if(null===t){let t=Error("Invalid deadline");return t.code=l.Status.OUT_OF_RANGE,this.sendError(t),r}let i=+t[1]*_[t[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+i),this.deadlineTimer=setTimeout(A,i,this),r.remove(v)}return r.remove(s.constants.HTTP2_HEADER_ACCEPT_ENCODING),r.remove(s.constants.HTTP2_HEADER_TE),r.remove(s.constants.HTTP2_HEADER_CONTENT_TYPE),r.remove("grpc-accept-encoding"),r}receiveUnaryMessage(t){return new Promise((r,n)=>{let{stream:i}=this,s=0,a=this,o=[],u=this.maxReceiveMessageSize;function c(t){if(s+=t.byteLength,-1!==u&&s>u){i.removeListener("data",c),i.removeListener("end",d),i.removeListener("error",d),n({code:l.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s} vs. ${u})`});return}o.push(t)}function d(u){if(i.removeListener("data",c),i.removeListener("end",d),i.removeListener("error",d),void 0!==u){n({code:l.Status.INTERNAL,details:u.message});return}if(0===s){n({code:l.Status.INTERNAL,details:"received empty unary message"});return}a.emit("receiveMessage");let h=Buffer.concat(o,s),f=1===h.readUInt8(0)?t:"identity",p=a.getDecompressedMessage(h,f);if(Buffer.isBuffer(p)){r(a.deserializeMessageWithInternalError(p));return}p.then(t=>r(a.deserializeMessageWithInternalError(t)),r=>n(r.code?r:{code:l.Status.INTERNAL,details:`Received "grpc-encoding" header "${t}" but ${t} decompression failed`}))}this.stream.on("data",c),this.stream.on("end",d),this.stream.on("error",d)})}async deserializeMessageWithInternalError(t){try{return this.deserializeMessage(t)}catch(t){throw{details:(0,h.getErrorMessage)(t),code:l.Status.INTERNAL}}}serializeMessage(t){let r=this.handler.serialize(t),n=r.byteLength,i=Buffer.allocUnsafe(n+5);return i.writeUInt8(0,0),i.writeUInt32BE(n,1),r.copy(i,5),i}deserializeMessage(t){return this.handler.deserialize(t)}async sendUnaryMessage(t,r,n,i){if(!this.checkCancelled()){if(void 0===n&&(n=null),t){!Object.prototype.hasOwnProperty.call(t,"metadata")&&n&&(t.metadata=n),this.sendError(t);return}try{let t=this.serializeMessage(r);this.write(t),this.sendStatus({code:l.Status.OK,details:"OK",metadata:n})}catch(t){this.sendError({details:(0,h.getErrorMessage)(t),code:l.Status.INTERNAL})}}}sendStatus(t){var r,n;if(this.emit("callEnd",t.code),this.emit("streamEnd",t.code===l.Status.OK),!this.checkCancelled()){if(p("Request to method "+(null===(r=this.handler)||void 0===r?void 0:r.path)+" ended with status code: "+l.Status[t.code]+" details: "+t.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var r;let n=Object.assign({[m]:t.code,[g]:encodeURI(t.details)},null===(r=t.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.sendTrailers(n),this.statusSent=!0}),this.stream.end());else{let r=Object.assign(Object.assign({[m]:t.code,[g]:encodeURI(t.details)},S),null===(n=t.metadata)||void 0===n?void 0:n.toHttp2Headers());this.stream.respond(r,{endStream:!0}),this.statusSent=!0}}}sendError(t){let r={code:l.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:"metadata"in t&&void 0!==t.metadata?t.metadata:null};"code"in t&&"number"==typeof t.code&&Number.isInteger(t.code)&&(r.code=t.code,"details"in t&&"string"==typeof t.details&&(r.details=t.details)),this.sendStatus(r)}write(t){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&t.length>this.maxSendMessageSize){this.sendError({code:l.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${t.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(t)}}resume(){this.stream.resume()}setupSurfaceCall(t){this.once("cancelled",r=>{t.cancelled=!0,t.emit("cancelled",r)}),this.once("callEnd",r=>t.emit("callEnd",r))}setupReadable(t,r){let n=new c.StreamDecoder(this.maxReceiveMessageSize),i=!1,s=!1,a=!1,o=async()=>{a||!i||s||(a=!0,await this.pushOrBufferMessage(t,null))};this.stream.on("data",async i=>{let a;try{a=n.write(i)}catch(t){this.sendError({code:l.Status.RESOURCE_EXHAUSTED,details:t.message});return}for(let n of(s=!0,this.stream.pause(),a)){let i;this.emit("receiveMessage");let s=1===n.readUInt8(0)?r:"identity";try{i=await this.getDecompressedMessage(n,s)}catch(t){this.sendError(t);return}if(!i)return;await this.pushOrBufferMessage(t,i)}s=!1,this.stream.resume(),await o()}),this.stream.once("end",async()=>{i=!0,await o()})}consumeUnpushedMessages(t){for(this.canPush=!0;this.messagesToPush.length>0;){let r=this.messagesToPush.shift(),n=t.push(r);if(null===r||!1===n){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(t,r){this.isPushPending?this.bufferedMessages.push(r):await this.pushMessage(t,r)}async pushMessage(t,r){if(null===r){p("Received end of stream"),this.canPush?t.push(null):this.messagesToPush.push(null);return}p("Received message of length "+r.length),this.isPushPending=!0;try{let n=await this.deserializeMessage(r);this.canPush?t.push(n)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(n)}catch(n){this.bufferedMessages.length=0;let r=(0,h.getErrorCode)(n);(null===r||r<l.Status.OK||r>l.Status.UNAUTHENTICATED)&&(r=l.Status.INTERNAL),t.emit("error",{details:(0,h.getErrorMessage)(n),code:r})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(t,this.bufferedMessages.shift())}getPeer(){var t;let r=null===(t=this.stream.session)||void 0===t?void 0:t.socket;return null!=r&&r.remoteAddress?r.remotePort?`${r.remoteAddress}:${r.remotePort}`:r.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function A(t){let r=Error("Deadline exceeded");r.code=l.Status.DEADLINE_EXCEEDED,t.sendError(r),t.cancelled=!0,t.emit("cancelled","deadline")}r.Http2ServerCallStream=I},1208:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ServerCredentials=void 0;let i=n(56305);class s{static createInsecure(){return new a}static createSsl(t,r,n=!1){if(null!==t&&!Buffer.isBuffer(t))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof n)throw TypeError("checkClientCertificate must be a boolean");let s=[],a=[];for(let t=0;t<r.length;t++){let n=r[t];if(null===n||"object"!=typeof n)throw TypeError(`keyCertPair[${t}] must be an object`);if(!Buffer.isBuffer(n.private_key))throw TypeError(`keyCertPair[${t}].private_key must be a Buffer`);if(!Buffer.isBuffer(n.cert_chain))throw TypeError(`keyCertPair[${t}].cert_chain must be a Buffer`);s.push(n.cert_chain),a.push(n.private_key)}return new o({ca:t||(0,i.getDefaultRootsData)()||void 0,cert:s,key:a,requestCert:n,ciphers:i.CIPHER_SUITES})}}r.ServerCredentials=s;class a extends s{_isSecure(){return!1}_getSettings(){return null}}class o extends s{constructor(t){super(),this.options=t}_isSecure(){return!0}_getSettings(){return this.options}}},39403:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Server=void 0;let i=n(85158),s=n(44746),a=n(93233),o=n(1208),l=n(93764),u=n(66295),c=n(11636),d=n(47180),h=n(11915),f=2147483647,p=2147483647,g=2e4,{HTTP2_HEADER_PATH:m}=i.constants,v="server";function y(){}function _(t){return{code:s.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function b(t,r){let n=_(r);switch(t){case"unary":return(t,r)=>{r(n,null)};case"clientStream":return(t,r)=>{r(n,null)};case"serverStream":return t=>{t.emit("error",n)};case"bidi":return t=>{t.emit("error",n)};default:throw Error(`Invalid handlerType ${t}`)}}class S{constructor(t){var r,n,i,s;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new h.ChannelzTrace,this.callTracker=new h.ChannelzCallTracker,this.listenerChildrenTracker=new h.ChannelzChildrenTracker,this.sessionChildrenTracker=new h.ChannelzChildrenTracker,this.options=null!=t?t:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,h.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(r=this.options["grpc.max_connection_age_ms"])&&void 0!==r?r:f,this.maxConnectionAgeGraceMs=null!==(n=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==n?n:f,this.keepaliveTimeMs=null!==(i=this.options["grpc.keepalive_time_ms"])&&void 0!==i?i:p,this.keepaliveTimeoutMs=null!==(s=this.options["grpc.keepalive_timeout_ms"])&&void 0!==s?s:g,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(t){return()=>{var r,n,i;let s;let a=this.sessions.get(t),o=t.socket,l=o.remoteAddress?(0,c.stringToSubchannelAddress)(o.remoteAddress,o.remotePort):null,u=o.localAddress?(0,c.stringToSubchannelAddress)(o.localAddress,o.localPort):null;if(t.encrypted){let t=o,n=t.getCipher(),i=t.getCertificate(),a=t.getPeerCertificate();s={cipherSuiteStandardName:null!==(r=n.standardName)&&void 0!==r?r:null,cipherSuiteOtherName:n.standardName?null:n.name,localCertificate:i&&"raw"in i?i.raw:null,remoteCertificate:a&&"raw"in a?a.raw:null}}else s=null;return{remoteAddress:l,localAddress:u,security:s,remoteName:null,streamsStarted:a.streamTracker.callsStarted,streamsSucceeded:a.streamTracker.callsSucceeded,streamsFailed:a.streamTracker.callsFailed,messagesSent:a.messagesSent,messagesReceived:a.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:a.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:a.lastMessageSentTimestamp,lastMessageReceivedTimestamp:a.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(n=t.state.localWindowSize)&&void 0!==n?n:null,remoteFlowControlWindow:null!==(i=t.state.remoteWindowSize)&&void 0!==i?i:null}}}trace(t){u.trace(s.LogVerbosity.DEBUG,v,"("+this.channelzRef.id+") "+t)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(t,r){if(null===t||"object"!=typeof t||null===r||"object"!=typeof r)throw Error("addService() requires two objects as arguments");let n=Object.keys(t);if(0===n.length)throw Error("Cannot add an empty service to a server");n.forEach(n=>{let i,s;let a=t[n];i=a.requestStream?a.responseStream?"bidi":"clientStream":a.responseStream?"serverStream":"unary";let o=r[n];if(void 0===o&&"string"==typeof a.originalName&&(o=r[a.originalName]),s=void 0!==o?o.bind(r):b(i,n),!1===this.register(a.path,s,a.responseSerialize,a.requestDeserialize,i))throw Error(`Method handler for ${a.path} already provided.`)})}removeService(t){if(null===t||"object"!=typeof t)throw Error("removeService() requires object as argument");Object.keys(t).forEach(r=>{let n=t[r];this.unregister(n.path)})}bind(t,r){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(t,r,n){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof t)throw TypeError("port must be a string");if(null===r||!(r instanceof o.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof n)throw TypeError("callback must be a function");let a=(0,d.parseUri)(t);if(null===a)throw Error(`Could not parse port "${t}"`);let f=(0,l.mapUriDefaultScheme)(a);if(null===f)throw Error(`Could not get a default scheme for port "${t}"`);let p={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?p.maxSessionMemory=this.options["grpc-node.max_session_memory"]:p.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(p.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let g=(t,r)=>{process.nextTick(()=>n(t,r))},m=()=>{let t;if(r._isSecure()){let n=Object.assign(p,r._getSettings());n.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(t=i.createSecureServer(n)).on("secureConnection",t=>{t.on("error",t=>{this.trace("An incoming TLS connection closed with error: "+t.message)})})}else t=i.createServer(p);return t.setTimeout(0,y),this._setupHandlers(t),t},v=(t,r,n)=>0===t.length?Promise.resolve({port:r,count:n}):Promise.all(t.map(t=>{let n;this.trace("Attempting to bind "+(0,c.subchannelAddressToString)(t)),n=(0,c.isTcpSubchannelAddress)(t)?{host:t.host,port:r}:t;let i=m();return new Promise((s,a)=>{let o=r=>{this.trace("Failed to bind "+(0,c.subchannelAddressToString)(t)+" with error "+r.message),s(r)};i.once("error",o),i.listen(n,()=>{let t;if(this.shutdown){i.close(),s(Error("bindAsync failed because server is shutdown"));return}let n=i.address();t="string"==typeof n?{path:n}:{host:n.address,port:n.port};let a=(0,h.registerChannelzSocket)((0,c.subchannelAddressToString)(t),()=>({localAddress:t,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(a),this.http2ServerList.push({server:i,channelzRef:a}),this.trace("Successfully bound "+(0,c.subchannelAddressToString)(t)),s("port"in t?t.port:r),i.removeListener("error",o)})})})).then(t=>{let i=0;for(let n of t)if("number"==typeof n&&(i+=1,n!==r))throw Error("Invalid state: multiple port numbers added from single address");return{port:r,count:i+n}}),_=t=>{if(0===t.length)return Promise.resolve({port:0,count:0});let r=t[0],n=m();return new Promise((i,s)=>{let a=n=>{this.trace("Failed to bind "+(0,c.subchannelAddressToString)(r)+" with error "+n.message),i(_(t.slice(1)))};n.once("error",a),n.listen(r,()=>{if(this.shutdown){n.close(),i({port:0,count:0});return}let r=n.address(),s={host:r.address,port:r.port},o=(0,h.registerChannelzSocket)((0,c.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(o),this.http2ServerList.push({server:n,channelzRef:o}),this.trace("Successfully bound "+(0,c.subchannelAddressToString)(s)),i(v(t.slice(1),r.port,1)),n.removeListener("error",a)})})},b={onSuccessfulResolution:(r,n,i)=>{let a;if(b.onSuccessfulResolution=()=>{},this.shutdown&&g(Error("bindAsync failed because server is shutdown"),0),0===r.length){g(Error(`No addresses resolved for port ${t}`),0);return}(a=(0,c.isTcpSubchannelAddress)(r[0])?0===r[0].port?_(r):v(r,r[0].port,0):v(r,1,0)).then(t=>{if(0===t.count){let t=`No address added out of total ${r.length} resolved`;u.log(s.LogVerbosity.ERROR,t),g(Error(t),0)}else t.count<r.length&&u.log(s.LogVerbosity.INFO,`WARNING Only ${t.count} addresses added out of total ${r.length} resolved`),g(null,t.port)},t=>{let n=`No address added out of total ${r.length} resolved`;u.log(s.LogVerbosity.ERROR,n),g(Error(n),0)})},onError:t=>{g(Error(t.details),0)}};(0,l.createResolver)(f,b,this.options).updateResolution()}forceShutdown(){for(let{server:t,channelzRef:r}of this.http2ServerList)t.listening&&t.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(r),(0,h.unregisterChannelzRef)(r))});this.started=!1,this.shutdown=!0,this.sessions.forEach((t,r)=>{r.destroy(i.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,h.unregisterChannelzRef)(this.channelzRef)}register(t,r,n,i,s){return!this.handlers.has(t)&&(this.handlers.set(t,{func:r,serialize:n,deserialize:i,type:s,path:t}),!0)}unregister(t){return this.handlers.delete(t)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:t})=>!0!==t.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(t){let r=r=>{this.channelzEnabled&&(0,h.unregisterChannelzRef)(this.channelzRef),t(r)},n=0;function i(){0==--n&&r()}for(let{server:t,channelzRef:r}of(this.started=!1,this.shutdown=!0,this.http2ServerList))t.listening&&(n++,t.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(r),(0,h.unregisterChannelzRef)(r)),i()}));this.sessions.forEach((t,r)=>{r.closed||(n+=1,r.close(i))}),0===n&&r()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(t,r){let n=r[i.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof n&&n.startsWith("application/grpc"))||(t.respond({[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(t){this.trace("Received call to method "+t+" at address "+this.serverAddressString);let r=this.handlers.get(t);return void 0===r?(this.trace("No handler registered for method "+t+". Sending UNIMPLEMENTED status."),null):r}_respondWithError(t,r,n=null){let i=new a.Http2ServerCallStream(r,null,this.options);void 0===t.code&&(t.code=s.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed()),i.sendError(t)}_channelzHandler(t,r){let n=this.sessions.get(t.session);if(this.callTracker.addCallStarted(),null==n||n.streamTracker.addCallStarted(),!this._verifyContentType(t,r)){this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed();return}let i=r[m],o=this._retrieveHandler(i);if(!o){this._respondWithError(_(i),t,n);return}let l=new a.Http2ServerCallStream(t,o,this.options);l.once("callEnd",t=>{t===s.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),n&&(l.once("streamEnd",t=>{t?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed()}),l.on("sendMessage",()=>{n.messagesSent+=1,n.lastMessageSentTimestamp=new Date}),l.on("receiveMessage",()=>{n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(l,o,r)||(this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed(),l.sendError({code:s.Status.INTERNAL,details:`Unknown handler type: ${o.type}`}))}_streamHandler(t,r){if(!0!==this._verifyContentType(t,r))return;let n=r[m],i=this._retrieveHandler(n);if(!i){this._respondWithError(_(n),t,null);return}let o=new a.Http2ServerCallStream(t,i,this.options);this._runHandlerForCall(o,i,r)||o.sendError({code:s.Status.INTERNAL,details:`Unknown handler type: ${i.type}`})}_runHandlerForCall(t,r,n){var i;let s=t.receiveMetadata(n),a=null!==(i=s.get("grpc-encoding")[0])&&void 0!==i?i:"identity";s.remove("grpc-encoding");let{type:o}=r;if("unary"===o)E(t,r,s,a);else if("clientStream"===o)T(t,r,s,a);else if("serverStream"===o)w(t,r,s,a);else{if("bidi"!==o)return!1;C(t,r,s,a)}return!0}_setupHandlers(t){if(null===t)return;let r=t.address(),n="null";r&&(n="string"==typeof r?r:r.address+":"+r.port),this.serverAddressString=n;let s=this.channelzEnabled?this._channelzHandler:this._streamHandler;t.on("stream",s.bind(this)),t.on("session",t=>{var r,n,s,a,o;if(!this.started){t.destroy();return}let l=(0,h.registerChannelzSocket)(null!==(r=t.socket.remoteAddress)&&void 0!==r?r:"unknown",this.getChannelzSessionInfoGetter(t),this.channelzEnabled),u={ref:l,streamTracker:new h.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(t,u);let c=t.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+c),this.sessionChildrenTracker.refChild(l));let d=null,p=null,g=!1;if(this.maxConnectionAgeMs!==f){let r=this.maxConnectionAgeMs/10,a=Math.random()*r*2-r;d=null===(s=(n=setTimeout(()=>{var r,n;g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+c);try{t.goaway(i.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(r){t.destroy();return}t.close(),this.maxConnectionAgeGraceMs!==f&&(p=null===(n=(r=setTimeout(()=>{t.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===n?void 0:n.call(r))},this.maxConnectionAgeMs+a)).unref)||void 0===s?void 0:s.call(n)}let m=null===(o=(a=setInterval(()=>{var r,n;let i=null===(n=(r=setTimeout(()=>{g=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+c),t.close()},this.keepaliveTimeoutMs)).unref)||void 0===n?void 0:n.call(r);try{t.ping((t,r,n)=>{clearTimeout(i)})}catch(r){t.destroy()}},this.keepaliveTimeMs)).unref)||void 0===o?void 0:o.call(a);t.on("close",()=>{this.channelzEnabled&&(g||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+c),this.sessionChildrenTracker.unrefChild(l),(0,h.unregisterChannelzRef)(l)),d&&clearTimeout(d),p&&clearTimeout(p),m&&clearTimeout(m),this.sessions.delete(t)})})}}async function E(t,r,n,i){try{let s=await t.receiveUnaryMessage(i);if(void 0===s||t.cancelled)return;let o=new a.ServerUnaryCallImpl(t,n,s);r.func(o,(r,n,i,s)=>{t.sendUnaryMessage(r,n,i,s)})}catch(r){t.sendError(r)}}function T(t,r,n,i){let s=new a.ServerReadableStreamImpl(t,n,r.deserialize,i);function o(r,n,i,a){s.destroy(),t.sendUnaryMessage(r,n,i,a)}t.cancelled||(s.on("error",o),r.func(s,o))}async function w(t,r,n,i){try{let s=await t.receiveUnaryMessage(i);if(void 0===s||t.cancelled)return;let o=new a.ServerWritableStreamImpl(t,n,r.serialize,s);r.func(o)}catch(r){t.sendError(r)}}function C(t,r,n,i){let s=new a.ServerDuplexStreamImpl(t,n,r.serialize,r.deserialize,i);t.cancelled||r.func(s)}r.Server=S},27473:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractAndSelectServiceConfig=r.validateServiceConfig=r.validateRetryThrottling=void 0;let i=n(22037),s=n(44746),a=n(77541),o=/^\d+(\.\d{1,9})?s$/,l="node";function u(t){if("service"in t&&""!==t.service){if("string"!=typeof t.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if(!("method"in t)||""===t.method)return{service:t.service};if("string"!=typeof t.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return{service:t.service,method:t.method}}if("method"in t&&void 0!==t.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function c(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||"string"!=typeof t.initialBackoff||!o.test(t.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in t)||"string"!=typeof t.maxBackoff||!o.test(t.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in t)||"number"!=typeof t.backoffMultiplier||t.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===t.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let r of t.retryableStatusCodes)if("number"==typeof r){if(!Object.values(s.Status).includes(r))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof r){if(!Object.values(s.Status).includes(r.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function d(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&("string"!=typeof t.hedgingDelay||!o.test(t.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let r of t.nonFatalStatusCodes)if("number"==typeof r){if(!Object.values(s.Status).includes(r))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof r){if(!Object.values(s.Status).includes(r.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let r={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(r.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(r.nonFatalStatusCodes=t.nonFatalStatusCodes),r}function h(t){var r;let n={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw Error("Invalid method config: invalid name array");for(let r of t.name)n.name.push(u(r));if("waitForReady"in t){if("boolean"!=typeof t.waitForReady)throw Error("Invalid method config: invalid waitForReady");n.waitForReady=t.waitForReady}if("timeout"in t){if("object"==typeof t.timeout){if(!("seconds"in t.timeout)||"number"!=typeof t.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||"number"!=typeof t.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");n.timeout=t.timeout}else if("string"==typeof t.timeout&&o.test(t.timeout)){let i=t.timeout.substring(0,t.timeout.length-1).split(".");n.timeout={seconds:0|i[0],nanos:(null!==(r=i[1])&&void 0!==r?r:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in t){if("number"!=typeof t.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");n.maxRequestBytes=t.maxRequestBytes}if("maxResponseBytes"in t){if("number"!=typeof t.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");n.maxResponseBytes=t.maxResponseBytes}if("retryPolicy"in t){if("hedgingPolicy"in t)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");n.retryPolicy=c(t.retryPolicy)}else"hedgingPolicy"in t&&(n.hedgingPolicy=d(t.hedgingPolicy));return n}function f(t){if(!("maxTokens"in t)||"number"!=typeof t.maxTokens||t.maxTokens<=0||t.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||"number"!=typeof t.tokenRatio||t.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}function p(t){let r={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t){if("string"==typeof t.loadBalancingPolicy)r.loadBalancingPolicy=t.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in t){if(Array.isArray(t.loadBalancingConfig))for(let n of t.loadBalancingConfig)r.loadBalancingConfig.push((0,a.validateLoadBalancingConfig)(n));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let n of t.methodConfig)r.methodConfig.push(h(n));"retryThrottling"in t&&(r.retryThrottling=f(t.retryThrottling));let n=[];for(let t of r.methodConfig)for(let r of t.name){for(let t of n)if(r.service===t.service&&r.method===t.method)throw Error(`Invalid service config: duplicate name ${r.service}/${r.method}`);n.push(r)}return r}function g(t){if(!("serviceConfig"in t))throw Error("Invalid service config choice: missing service config");let r={serviceConfig:p(t.serviceConfig)};if("clientLanguage"in t){if(Array.isArray(t.clientLanguage))for(let n of(r.clientLanguage=[],t.clientLanguage))if("string"==typeof n)r.clientLanguage.push(n);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in t){if(Array.isArray(t.clientHostname))for(let n of(r.clientHostname=[],t.clientHostname))if("string"==typeof n)r.clientHostname.push(n);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in t){if("number"==typeof t.percentage&&0<=t.percentage&&t.percentage<=100)r.percentage=t.percentage;else throw Error("Invalid service config choice: invalid percentage")}let n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let r in t)if(!n.includes(r))throw Error(`Invalid service config choice: unexpected field ${r}`);return r}function m(t,r){if(!Array.isArray(t))throw Error("Invalid service config list");for(let n of t){let t=g(n);if("number"!=typeof t.percentage||!(r>t.percentage)){if(Array.isArray(t.clientHostname)){let r=!1;for(let n of t.clientHostname)n===i.hostname()&&(r=!0);if(!r)continue}if(Array.isArray(t.clientLanguage)){let r=!1;for(let n of t.clientLanguage)n===l&&(r=!0);if(!r)continue}return t.serviceConfig}}throw Error("No matching service config found")}function v(t,r){for(let n of t)if(n.length>0&&n[0].startsWith("grpc_config="))return m(JSON.parse(n.join("").substring(12)),r);return null}r.validateRetryThrottling=f,r.validateServiceConfig=p,r.extractAndSelectServiceConfig=v},7780:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StatusBuilder=void 0;class n{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(t){return this.code=t,this}withDetails(t){return this.details=t,this}withMetadata(t){return this.metadata=t,this}build(){let t={};return null!==this.code&&(t.code=this.code),null!==this.details&&(t.details=this.details),null!==this.metadata&&(t.metadata=this.metadata),t}}r.StatusBuilder=n},75072:(t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.StreamDecoder=void 0,function(t){t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE"}(n||(n={}));class i{constructor(t){this.maxReadMessageLength=t,this.readState=n.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(t){let r,i=0,s=[];for(;i<t.length;)switch(this.readState){case n.NO_DATA:this.readCompressFlag=t.slice(i,i+1),i+=1,this.readState=n.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case n.READING_SIZE:if(r=Math.min(t.length-i,this.readSizeRemaining),t.copy(this.readPartialSize,4-this.readSizeRemaining,i,i+r),this.readSizeRemaining-=r,i+=r,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=n.READING_MESSAGE;else{let t=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=n.NO_DATA,s.push(t)}}break;case n.READING_MESSAGE:if(r=Math.min(t.length-i,this.readMessageRemaining),this.readPartialMessage.push(t.slice(i,i+r)),this.readMessageRemaining-=r,i+=r,0===this.readMessageRemaining){let t=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),r=Buffer.concat(t,this.readMessageSize+5);this.readState=n.NO_DATA,s.push(r)}break;default:throw Error("Unexpected read state")}return s}}r.StreamDecoder=i},11636:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stringToSubchannelAddress=r.subchannelAddressToString=r.subchannelAddressEqual=r.isTcpSubchannelAddress=void 0;let i=n(41808);function s(t){return"port"in t}function a(t,r){return!t&&!r||!!t&&!!r&&(s(t)?s(r)&&t.host===r.host&&t.port===r.port:!s(r)&&t.path===r.path)}function o(t){return s(t)?t.host+":"+t.port:t.path}r.isTcpSubchannelAddress=s,r.subchannelAddressEqual=a,r.subchannelAddressToString=o;let l=443;function u(t,r){return(0,i.isIP)(t)?{host:t,port:null!=r?r:l}:{path:t}}r.stringToSubchannelAddress=u},72211:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Http2SubchannelCall=void 0;let i=n(85158),s=n(22037),a=n(44746),o=n(40614),l=n(75072),u=n(66295),c=n(44746),d="subchannel_call";function h(t){for(let[r,n]of Object.entries(s.constants.errno))if(n===t)return r;return"Unknown system error "+t}class f{constructor(t,r,n,s,u){var c;this.http2Stream=t,this.callEventTracker=r,this.listener=n,this.transport=s,this.callId=u,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=a.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let d=null!==(c=s.getOptions()["grpc.max_receive_message_length"])&&void 0!==c?c:a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new l.StreamDecoder(d),t.on("response",(t,r)=>{let n="";for(let r of Object.keys(t))n+="		"+r+": "+t[r]+"\n";switch(this.trace("Received server headers:\n"+n),t[":status"]){case 400:this.mappedStatusCode=a.Status.INTERNAL;break;case 401:this.mappedStatusCode=a.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=a.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=a.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=a.Status.UNAVAILABLE;break;default:this.mappedStatusCode=a.Status.UNKNOWN}if(r&i.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(t);else{let r;try{r=o.Metadata.fromHttp2Headers(t)}catch(t){this.endCall({code:a.Status.UNKNOWN,details:t.message,metadata:new o.Metadata});return}this.listener.onReceiveMetadata(r)}}),t.on("trailers",t=>{this.handleTrailers(t)}),t.on("data",t=>{let r;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+t.length);try{r=this.decoder.write(t)}catch(t){this.cancelWithStatus(a.Status.RESOURCE_EXHAUSTED,t.message);return}for(let t of r)this.trace("parsed message of length "+t.length),this.callEventTracker.addMessageReceived(),this.tryPush(t)}}),t.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),t.on("close",()=>{process.nextTick(()=>{var r;let n;if(this.trace("HTTP/2 stream closed with code "+t.rstCode),(null===(r=this.finalStatus)||void 0===r?void 0:r.code)===a.Status.OK)return;let s="";switch(t.rstCode){case i.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;n=a.Status.INTERNAL,s=`Received RST_STREAM with code ${t.rstCode}`;break;case i.constants.NGHTTP2_REFUSED_STREAM:n=a.Status.UNAVAILABLE,s="Stream refused by server";break;case i.constants.NGHTTP2_CANCEL:n=a.Status.CANCELLED,s="Call cancelled";break;case i.constants.NGHTTP2_ENHANCE_YOUR_CALM:n=a.Status.RESOURCE_EXHAUSTED,s="Bandwidth exhausted or memory limit exceeded";break;case i.constants.NGHTTP2_INADEQUATE_SECURITY:n=a.Status.PERMISSION_DENIED,s="Protocol not secure enough";break;case i.constants.NGHTTP2_INTERNAL_ERROR:n=a.Status.INTERNAL,null===this.internalError?s=`Received RST_STREAM with code ${t.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(n=a.Status.UNAVAILABLE,s=this.internalError.message):s=`Received RST_STREAM with code ${t.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:n=a.Status.INTERNAL,s=`Received RST_STREAM with code ${t.rstCode}`}this.endCall({code:n,details:s,metadata:new o.Metadata,rstCode:t.rstCode})})}),t.on("error",t=>{"ERR_HTTP2_STREAM_ERROR"!==t.code&&(this.trace("Node error event: message="+t.message+" code="+t.code+" errno="+h(t.errno)+" syscall="+t.syscall),this.internalError=t),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:a.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(t){u.trace(c.LogVerbosity.DEBUG,d,"["+this.callId+"] "+t)}endCall(t){(null===this.finalStatus||this.finalStatus.code===a.Status.OK)&&(this.finalStatus=t,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===a.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(t){this.trace("pushing to reader message of length "+(t instanceof Buffer?t.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(t),this.maybeOutputStatus())})}tryPush(t){this.canPush?(this.http2Stream.pause(),this.push(t)):(this.trace("unpushedReadMessages.push message of length "+t.length),this.unpushedReadMessages.push(t))}handleTrailers(t){let r;this.callEventTracker.onStreamEnd(!0);let n="";for(let r of Object.keys(t))n+="		"+r+": "+t[r]+"\n";this.trace("Received server trailers:\n"+n);try{r=o.Metadata.fromHttp2Headers(t)}catch(t){r=new o.Metadata}let i=r.getMap(),s=this.mappedStatusCode;if(s===a.Status.UNKNOWN&&"string"==typeof i["grpc-status"]){let t=Number(i["grpc-status"]);t in a.Status&&(s=t,this.trace("received status code "+t+" from server")),r.remove("grpc-status")}let l="";if("string"==typeof i["grpc-message"]){try{l=decodeURI(i["grpc-message"])}catch(t){l=i["grpc-message"]}r.remove("grpc-message"),this.trace('received status details string "'+l+'" from server')}let u={code:s,details:l,metadata:r};this.endCall(u)}destroyHttp2Stream(){var t;if(!this.http2Stream.destroyed){let r;r=(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===a.Status.OK?i.constants.NGHTTP2_NO_ERROR:i.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+r),this.http2Stream.close(r)}}cancelWithStatus(t,r){this.trace("cancelWithStatus code: "+t+' details: "'+r+'"'),this.endCall({code:t,details:r,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==a.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let t=this.unpushedReadMessages.shift();this.push(t);return}this.http2Stream.resume()}sendMessageWithContext(t,r){this.trace("write() called with message of length "+r.length);let n=r=>{process.nextTick(()=>{var n;let i=a.Status.UNAVAILABLE;(null==r?void 0:r.code)==="ERR_STREAM_WRITE_AFTER_END"&&(i=a.Status.INTERNAL),r&&this.cancelWithStatus(i,`Write error: ${r.message}`),null===(n=t.callback)||void 0===n||n.call(t)})};this.trace("sending data chunk of length "+r.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(r,n)}catch(t){this.endCall({code:a.Status.UNAVAILABLE,details:`Write failed with error ${t.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}r.Http2SubchannelCall=f},16120:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BaseSubchannelWrapper=void 0;class n{constructor(t){this.child=t}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(t){this.child.addConnectivityStateListener(t)}removeConnectivityStateListener(t){this.child.removeConnectivityStateListener(t)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(t){this.child.throttleKeepalive(t)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(t){return this.getRealSubchannel()===t.getRealSubchannel()}}r.BaseSubchannelWrapper=n},79314:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSubchannelPool=r.SubchannelPool=void 0;let i=n(5717),s=n(89503),a=n(11636),o=n(47180),l=n(22597),u=1e4;class c{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let t=!0;for(let r in this.pool){let n=this.pool[r].filter(t=>!t.subchannel.unrefIfOneRef());n.length>0&&(t=!1),this.pool[r]=n}t&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var t,r;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},u),null===(r=(t=this.cleanupTimer).unref)||void 0===r||r.call(t))}getOrCreateSubchannel(t,r,n,u){this.ensureCleanupTask();let c=(0,o.uriToString)(t);if(c in this.pool){for(let t of this.pool[c])if((0,a.subchannelAddressEqual)(r,t.subchannelAddress)&&(0,i.channelOptionsEqual)(n,t.channelArguments)&&u._equals(t.channelCredentials))return t.subchannel}let d=new s.Subchannel(t,r,n,u,new l.Http2SubchannelConnector(t));return c in this.pool||(this.pool[c]=[]),this.pool[c].push({subchannelAddress:r,channelArguments:n,channelCredentials:u,subchannel:d}),d.ref(),d}}r.SubchannelPool=c;let d=new c;function h(t){return t?d:new c}r.getSubchannelPool=h},89503:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Subchannel=void 0;let i=n(29354),s=n(87601),a=n(66295),o=n(44746),l=n(47180),u=n(11636),c=n(11915),d="subchannel",h=2147483647;class f{constructor(t,r,n,a,o){var l;this.channelTarget=t,this.subchannelAddress=r,this.options=n,this.credentials=a,this.connector=o,this.connectivityState=i.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new c.ChannelzCallTracker,this.childrenTracker=new c.ChannelzChildrenTracker,this.streamTracker=new c.ChannelzCallTracker;let d={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new s.BackoffTimeout(()=>{this.handleBackoffTimer()},d),this.backoffTimeout.unref(),this.subchannelAddressString=(0,u.subchannelAddressToString)(r),this.keepaliveTime=null!==(l=n["grpc.keepalive_time_ms"])&&void 0!==l?l:-1,0===n["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new c.ChannelzTrace,this.channelzRef=(0,c.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(n,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(t){a.trace(o.LogVerbosity.DEBUG,d,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}refTrace(t){a.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING):this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let t=this.options;if(t["grpc.keepalive_time_ms"]){let r=Math.min(this.keepaliveTime,h);t=Object.assign(Object.assign({},t),{"grpc.keepalive_time_ms":r})}this.connector.connect(this.subchannelAddress,this.credentials,t).then(t=>{this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(t=>{this.transitionToState([i.ConnectivityState.READY],i.ConnectivityState.IDLE),t&&this.keepaliveTime>0&&(this.keepaliveTime*=2,a.log(o.LogVerbosity.ERROR,`Connection to ${(0,l.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([i.ConnectivityState.CONNECTING],i.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(t,r,n){var s,a;if(-1===t.indexOf(this.connectivityState))return!1;this.trace(i.ConnectivityState[this.connectivityState]+" -> "+i.ConnectivityState[r]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+i.ConnectivityState[r]);let o=this.connectivityState;switch(this.connectivityState=r,r){case i.ConnectivityState.READY:this.stopBackoff();break;case i.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case i.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(s=this.transport)||void 0===s||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case i.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(a=this.transport)||void 0===a||a.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${r}`)}for(let t of this.stateListeners)t(this,o,r,this.keepaliveTime,n);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,c.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([i.ConnectivityState.CONNECTING,i.ConnectivityState.READY],i.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(t,r,n,i){let s;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),s={onCallEnd:t=>{t.code===o.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):s={},this.transport.createCall(t,r,n,i,s)}startConnecting(){process.nextTick(()=>{this.transitionToState([i.ConnectivityState.IDLE],i.ConnectivityState.CONNECTING)||this.connectivityState!==i.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(t){this.stateListeners.add(t)}removeConnectivityStateListener(t){this.stateListeners.delete(t)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([i.ConnectivityState.TRANSIENT_FAILURE],i.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(t){return t.getRealSubchannel()===this}throttleKeepalive(t){t>this.keepaliveTime&&(this.keepaliveTime=t)}}r.Subchannel=f},56305:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultRootsData=r.CIPHER_SUITES=void 0;let i=n(57147);r.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let s=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,a=null;function o(){return s?(null===a&&(a=i.readFileSync(s)),a):null}r.getDefaultRootsData=o},22597:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Http2SubchannelConnector=void 0;let i=n(85158),s=n(24404),a=n(11915),o=n(44746),l=n(37174),u=n(66295),c=n(93764),d=n(11636),h=n(47180),f=n(41808),p=n(72211),g=n(54509),m="transport",v="transport_flowctrl",y=n(18993).i8,{HTTP2_HEADER_AUTHORITY:_,HTTP2_HEADER_CONTENT_TYPE:b,HTTP2_HEADER_METHOD:S,HTTP2_HEADER_PATH:E,HTTP2_HEADER_TE:T,HTTP2_HEADER_USER_AGENT:w}=i.constants,C=2e4,R=Buffer.from("too_many_pings","ascii");class I{constructor(t,r,n,s){this.session=t,this.options=n,this.remoteName=s,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=C,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new a.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,d.subchannelAddressToString)(r),0===n["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,a.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${y}`,n["grpc.secondary_user_agent"]].filter(t=>t).join(" "),"grpc.keepalive_time_ms"in n&&(this.keepaliveTimeMs=n["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in n&&(this.keepaliveTimeoutMs=n["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in n?this.keepaliveWithoutCalls=1===n["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,t.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),t.once("goaway",(t,r,n)=>{let s=!1;t===i.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n&&n.equals(R)&&(s=!0),this.trace("connection closed by GOAWAY with code "+t+" and data "+(null==n?void 0:n.toString())),this.reportDisconnectToOwner(s)}),t.once("error",t=>{this.trace("connection closed with error "+t.message)}),u.isTracerEnabled(m)&&(t.on("remoteSettings",r=>{this.trace("new settings received"+(this.session!==t?" on the old connection":"")+": "+JSON.stringify(r))}),t.on("localSettings",r=>{this.trace("local settings acknowledged by remote"+(this.session!==t?" on the old connection":"")+": "+JSON.stringify(r))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var t,r,n;let i;let s=this.session.socket,a=s.remoteAddress?(0,d.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,o=s.localAddress?(0,d.stringToSubchannelAddress)(s.localAddress,s.localPort):null;if(this.session.encrypted){let r=s,n=r.getCipher(),a=r.getCertificate(),o=r.getPeerCertificate();i={cipherSuiteStandardName:null!==(t=n.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:n.standardName?null:n.name,localCertificate:a&&"raw"in a?a.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else i=null;return{remoteAddress:a,localAddress:o,security:i,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=this.session.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=this.session.state.remoteWindowSize)&&void 0!==n?n:null}}trace(t){u.trace(o.LogVerbosity.DEBUG,m,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}keepaliveTrace(t){u.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}flowControlTrace(t){u.trace(o.LogVerbosity.DEBUG,v,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}internalsTrace(t){u.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+t)}reportDisconnectToOwner(t){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(r=>r(t)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let t of this.activeCalls)t.onDisconnect()})}addDisconnectListener(t){this.disconnectListeners.push(t)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var t,r;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(r=(t=this.keepaliveTimeoutId).unref)||void 0===r||r.call(t));try{this.session.ping((t,r,n)=>{t&&(this.keepaliveTrace("Ping failed with error "+t.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(t){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var t,r;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(r=(t=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===r?void 0:r.call(t)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(t){this.activeCalls.delete(t),0===this.activeCalls.size&&this.session.unref()}addActiveCall(t){this.activeCalls.add(t),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(t,r,n,i,s){let a,o,l;let u=t.toHttp2Headers();u[_]=r,u[w]=this.userAgent,u[b]="application/grpc",u[S]="POST",u[E]=n,u[T]="trailers";try{a=this.session.request(u)}catch(t){throw this.handleDisconnect(),t}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),o={addMessageSent:()=>{var t;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(t=s.addMessageSent)||void 0===t||t.call(s)},addMessageReceived:()=>{var t;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(t=s.addMessageReceived)||void 0===t||t.call(s)},onCallEnd:t=>{var r;null===(r=s.onCallEnd)||void 0===r||r.call(s,t),this.removeActiveCall(l)},onStreamEnd:t=>{var r;t?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(r=s.onStreamEnd)||void 0===r||r.call(s,t)}}):o={addMessageSent:()=>{var t;null===(t=s.addMessageSent)||void 0===t||t.call(s)},addMessageReceived:()=>{var t;null===(t=s.addMessageReceived)||void 0===t||t.call(s)},onCallEnd:t=>{var r;null===(r=s.onCallEnd)||void 0===r||r.call(s,t),this.removeActiveCall(l)},onStreamEnd:t=>{var r;null===(r=s.onStreamEnd)||void 0===r||r.call(s,t)}},l=new p.Http2SubchannelCall(a,o,i,this,(0,g.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,a.unregisterChannelzRef)(this.channelzRef)}}class A{constructor(t){this.channelTarget=t,this.session=null,this.isShutdown=!1}trace(t){u.trace(o.LogVerbosity.DEBUG,m,(0,h.uriToString)(this.channelTarget)+" "+t)}createSession(t,r,n,a){return this.isShutdown?Promise.reject():new Promise((o,l)=>{var u,p,g;let m;a.realTarget?(m=(0,h.uriToString)(a.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,h.uriToString)(a.realTarget))):(m=null,this.trace("creating HTTP/2 session to "+(0,d.subchannelAddressToString)(t)));let v=(0,c.getDefaultAuthority)(null!==(u=a.realTarget)&&void 0!==u?u:this.channelTarget),y=r._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in n?y.maxSessionMemory=n["grpc-node.max_session_memory"]:y.maxSessionMemory=Number.MAX_SAFE_INTEGER;let _="http://";if("secureContext"in y){if(_="https://",n["grpc.ssl_target_name_override"]){let t=n["grpc.ssl_target_name_override"];y.checkServerIdentity=(r,n)=>(0,s.checkServerIdentity)(t,n),y.servername=t}else{let t=null!==(g=null===(p=(0,h.splitHostPort)(v))||void 0===p?void 0:p.host)&&void 0!==g?g:"localhost";y.servername=t}a.socket&&(y.createConnection=(t,r)=>a.socket)}else y.createConnection=(r,n)=>a.socket?a.socket:f.connect(t);y=Object.assign(Object.assign(Object.assign({},y),t),{enableTrace:1===n["grpc-node.tls_enable_trace"]});let b=i.connect(_+v,y);this.session=b;let S="Failed to connect";b.unref(),b.once("connect",()=>{b.removeAllListeners(),o(new I(b,t,n,m)),this.session=null}),b.once("close",()=>{this.session=null,setImmediate(()=>{l(`${S} (${new Date().toISOString()})`)})}),b.once("error",t=>{S=t.message,this.trace("connection failed with error "+S)})})}connect(t,r,n){var i,a;if(this.isShutdown)return Promise.reject();let o=r._getConnectionOptions()||{};if("secureContext"in o){if(o.ALPNProtocols=["h2"],n["grpc.ssl_target_name_override"]){let t=n["grpc.ssl_target_name_override"];o.checkServerIdentity=(r,n)=>(0,s.checkServerIdentity)(t,n),o.servername=t}else if("grpc.http_connect_target"in n){let t=(0,c.getDefaultAuthority)(null!==(i=(0,h.parseUri)(n["grpc.http_connect_target"]))&&void 0!==i?i:{path:"localhost"}),r=(0,h.splitHostPort)(t);o.servername=null!==(a=null==r?void 0:r.host)&&void 0!==a?a:t}n["grpc-node.tls_enable_trace"]&&(o.enableTrace=!0)}return(0,l.getProxiedConnection)(t,n,o).then(i=>this.createSession(t,r,n,i))}shutdown(){var t;this.isShutdown=!0,null===(t=this.session)||void 0===t||t.close(),this.session=null}}r.Http2SubchannelConnector=A},47180:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uriToString=r.splitHostPort=r.parseUri=void 0;let n=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function i(t){let r=n.exec(t);return null===r?null:{scheme:r[1],authority:r[2],path:r[3]}}r.parseUri=i;let s=/^\d+$/;function a(t){if(t.startsWith("[")){let r=t.indexOf("]");if(-1===r)return null;let n=t.substring(1,r);if(-1===n.indexOf(":"))return null;if(!(t.length>r+1))return{host:n};if(":"!==t[r+1])return null;{let i=t.substring(r+2);return s.test(i)?{host:n,port:+i}:null}}{let r=t.split(":");return 2!==r.length?{host:t}:s.test(r[1])?{host:r[0],port:+r[1]}:null}}function o(t){let r="";return void 0!==t.scheme&&(r+=t.scheme+":"),void 0!==t.authority&&(r+="//"+t.authority+"/"),r+=t.path}r.splitHostPort=a,r.uriToString=o},51509:(t,r,n)=>{"use strict";var i;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(r,"__esModule",{value:!0}),r.loadFileDescriptorSetFromObject=r.loadFileDescriptorSetFromBuffer=r.fromJSON=r.loadSync=r.load=r.IdempotencyLevel=r.isAnyExtension=r.Long=void 0;let s=n(3883),a=n(28596),o=n(96633),l=n(80964),u=n(42482);function c(t){return"@type"in t&&"string"==typeof t["@type"]}r.Long=u,r.isAnyExtension=c,function(t){t.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",t.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",t.IDEMPOTENT="IDEMPOTENT"}(i=r.IdempotencyLevel||(r.IdempotencyLevel={}));let d={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function h(t,r){return""===t?r:t+"."+r}function f(t){return t instanceof a.Service||t instanceof a.Type||t instanceof a.Enum}function p(t){return t instanceof a.Namespace||t instanceof a.Root}function g(t,r){let n=h(r,t.name);return f(t)?[[n,t]]:p(t)&&void 0!==t.nested?Object.keys(t.nested).map(r=>g(t.nested[r],n)).reduce((t,r)=>t.concat(r),[]):[]}function m(t,r){return function(n){return t.toObject(t.decode(n),r)}}function v(t){return function(r){if(Array.isArray(r))throw Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let n=t.fromObject(r);return t.encode(n).finish()}}function y(t){return(t||[]).reduce((t,r)=>{for(let[n,i]of Object.entries(r))"uninterpreted_option"===n?t.uninterpreted_option.push(r.uninterpreted_option):t[n]=i;return t},{deprecated:!1,idempotency_level:i.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function _(t,r,n,i){let a=t.resolvedRequestType,o=t.resolvedResponseType;return{path:"/"+r+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:v(a),requestDeserialize:m(a,n),responseSerialize:v(o),responseDeserialize:m(o,n),originalName:s(t.name),requestType:S(a,i),responseType:S(o,i),options:y(t.parsedOptions)}}function b(t,r,n,i){let s={};for(let a of t.methodsArray)s[a.name]=_(a,r,n,i);return s}function S(t,r){let n=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,d),fileDescriptorProtos:r}}function E(t,r){let n=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,d),fileDescriptorProtos:r}}function T(t,r,n,i){if(t instanceof a.Service)return b(t,r,n,i);if(t instanceof a.Type)return S(t,i);if(t instanceof a.Enum)return E(t,i);throw Error("Type mismatch in reflection object handling")}function w(t,r){let n={};t.resolveAll();let i=t.toDescriptor("proto3").file.map(t=>Buffer.from(o.FileDescriptorProto.encode(t).finish()));for(let[s,a]of g(t,""))n[s]=T(a,s,r,i);return n}function C(t,r){r=r||{};let n=a.Root.fromDescriptor(t);return n.resolveAll(),w(n,r)}function R(t,r){return(0,l.loadProtosWithOptions)(t,r).then(t=>w(t,r))}function I(t,r){return w((0,l.loadProtosWithOptionsSync)(t,r),r)}function A(t,r){r=r||{};let n=a.Root.fromJSON(t);return n.resolveAll(),w(n,r)}function O(t,r){return C(o.FileDescriptorSet.decode(t),r)}function N(t,r){return C(o.FileDescriptorSet.fromObject(t),r)}r.load=R,r.loadSync=I,r.fromJSON=A,r.loadFileDescriptorSetFromBuffer=O,r.loadFileDescriptorSetFromObject=N,(0,l.addCommonProtos)()},80964:(t,r,n)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(r,"__esModule",{value:!0}),r.addCommonProtos=r.loadProtosWithOptionsSync=r.loadProtosWithOptions=void 0;let i=n(57147),s=n(71017),a=n(28596);function o(t,r){let n=t.resolvePath;t.resolvePath=(t,a)=>{if(s.isAbsolute(a))return a;for(let t of r){let r=s.join(t,a);try{return i.accessSync(r,i.constants.R_OK),r}catch(t){continue}}return process.emitWarning(`${a} not found in any of the include paths ${r}`),n(t,a)}}async function l(t,r){let n=new a.Root;if((r=r||{}).includeDirs){if(!Array.isArray(r.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));o(n,r.includeDirs)}let i=await n.load(t,r);return i.resolveAll(),i}function u(t,r){let n=new a.Root;if((r=r||{}).includeDirs){if(!Array.isArray(r.includeDirs))throw Error("The includeDirs option must be an array");o(n,r.includeDirs)}let i=n.loadSync(t,r);return i.resolveAll(),i}function c(){let t=n(68139),r=n(40524),i=n(92690),s=n(71800);a.common("api",t.nested.google.nested.protobuf.nested),a.common("descriptor",r.nested.google.nested.protobuf.nested),a.common("source_context",i.nested.google.nested.protobuf.nested),a.common("type",s.nested.google.nested.protobuf.nested)}r.loadProtosWithOptions=l,r.loadProtosWithOptionsSync=u,r.addCommonProtos=c},24886:(t,r,n)=>{var i=n(52191),s=function(t,r,n){if(t&&"reportValidity"in t){var s=i.get(n,r);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},a=function(t,r){var n=function(n){var i=r.fields[n];i&&i.ref&&"reportValidity"in i.ref?s(i.ref,n,t):i.refs&&i.refs.forEach(function(r){return s(r,n,t)})};for(var i in r.fields)n(i)},o=function(t,r){return t.some(function(t){return t.startsWith(r+".")})};r.toNestErrors=function(t,r){r.shouldUseNativeValidation&&a(t,r);var n={};for(var s in t){var l=i.get(r.fields,s),u=Object.assign(t[s]||{},{ref:l&&l.ref});if(o(r.names||Object.keys(t),s)){var c=Object.assign({},i.get(n,s));i.set(c,"root",u),i.set(n,s,c)}else i.set(n,s,u)}return n},r.validateFieldsNatively=a},79137:(t,r,n)=>{var i=n(24886),s=n(52191),a=function(t,r){for(var n={};t.length;){var i=t[0],a=i.code,o=i.message,l=i.path.join(".");if(!n[l]){if("unionErrors"in i){var u=i.unionErrors[0].errors[0];n[l]={message:u.message,type:u.code}}else n[l]={message:o,type:a}}if("unionErrors"in i&&i.unionErrors.forEach(function(r){return r.errors.forEach(function(r){return t.push(r)})}),r){var c=n[l].types,d=c&&c[i.code];n[l]=s.appendErrors(l,r,n,a,d?[].concat(d,i.message):i.message)}t.shift()}return n};r.zodResolver=function(t,r,n){return void 0===n&&(n={}),function(s,o,l){try{return Promise.resolve(function(a,o){try{var u=Promise.resolve(t["sync"===n.mode?"parse":"parseAsync"](s,r)).then(function(t){return l.shouldUseNativeValidation&&i.validateFieldsNatively({},l),{errors:{},values:n.raw?s:t}})}catch(t){return o(t)}return u&&u.then?u.then(void 0,o):u}(0,function(t){if(function(t){return Array.isArray(null==t?void 0:t.errors)}(t))return{values:{},errors:i.toNestErrors(a(t.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)};throw t}))}catch(t){return Promise.reject(t)}}}},23697:t=>{"use strict";function r(t,r){for(var n=Array(arguments.length-1),i=0,s=2,a=!0;s<arguments.length;)n[i++]=arguments[s++];return new Promise(function(s,o){n[i]=function(t){if(a){if(a=!1,t)o(t);else{for(var r=Array(arguments.length-1),n=0;n<r.length;)r[n++]=arguments[n];s.apply(null,r)}}};try{t.apply(r||null,n)}catch(t){a&&(a=!1,o(t))}})}t.exports=r},77827:(t,r)=>{"use strict";var n=r;n.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&"="===t.charAt(r);)++n;return Math.ceil(3*t.length)/4-n};for(var i=Array(64),s=Array(123),a=0;a<64;)s[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(t,r,n){for(var s,a=null,o=[],l=0,u=0;r<n;){var c=t[r++];switch(u){case 0:o[l++]=i[c>>2],s=(3&c)<<4,u=1;break;case 1:o[l++]=i[s|c>>4],s=(15&c)<<2,u=2;break;case 2:o[l++]=i[s|c>>6],o[l++]=i[63&c],u=0}l>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),l=0)}return(u&&(o[l++]=i[s],o[l++]=61,1===u&&(o[l++]=61)),a)?(l&&a.push(String.fromCharCode.apply(String,o.slice(0,l))),a.join("")):String.fromCharCode.apply(String,o.slice(0,l))};var o="invalid encoding";n.decode=function(t,r,n){for(var i,a=n,l=0,u=0;u<t.length;){var c=t.charCodeAt(u++);if(61===c&&l>1)break;if(void 0===(c=s[c]))throw Error(o);switch(l){case 0:i=c,l=1;break;case 1:r[n++]=i<<2|(48&c)>>4,i=c,l=2;break;case 2:r[n++]=(15&i)<<4|(60&c)>>2,i=c,l=3;break;case 3:r[n++]=(3&i)<<6|c,l=0}}if(1===l)throw Error(o);return n-a},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},46724:t=>{"use strict";function r(t,n){"string"==typeof t&&(n=t,t=void 0);var i=[];function s(t){if("string"!=typeof t){var n=a();if(r.verbose&&console.log("codegen: "+n),n="return "+n,t){for(var o=Object.keys(t),l=Array(o.length+1),u=Array(o.length),c=0;c<o.length;)l[c]=o[c],u[c]=t[o[c++]];return l[c]=n,Function.apply(null,l).apply(null,u)}return Function(n)()}for(var d=Array(arguments.length-1),h=0;h<d.length;)d[h]=arguments[++h];if(h=0,t=t.replace(/%([%dfijs])/g,function(t,r){var n=d[h++];switch(r){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),h!==d.length)throw Error("parameter count mismatch");return i.push(t),s}function a(r){return"function "+(r||n||"")+"("+(t&&t.join(",")||"")+"){\n  "+i.join("\n  ")+"\n}"}return s.toString=a,s}t.exports=r,r.verbose=!1},12855:t=>{"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this},r.prototype.off=function(t,r){if(void 0===t)this._listeners={};else if(void 0===r)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this},r.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}},45327:(t,r,n)=>{"use strict";t.exports=a;var i=n(23697),s=n(34693)("fs");function a(t,r,n){return("function"==typeof r?(n=r,r={}):r||(r={}),n)?!r.xhr&&s&&s.readFile?s.readFile(t,function(i,s){return i&&"undefined"!=typeof XMLHttpRequest?a.xhr(t,r,n):i?n(i):n(null,r.binary?s:s.toString("utf8"))}):a.xhr(t,r,n):i(a,this,t,r)}a.xhr=function(t,r,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(0!==i.status&&200!==i.status)return n(Error("status "+i.status));if(r.binary){var t=i.response;if(!t){t=[];for(var s=0;s<i.responseText.length;++s)t.push(255&i.responseText.charCodeAt(s))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return n(null,i.responseText)}},r.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",t),i.send()}},89617:t=>{"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var r=new Float32Array([-0]),n=new Uint8Array(r.buffer),i=128===n[3];function s(t,i,s){r[0]=t,i[s]=n[0],i[s+1]=n[1],i[s+2]=n[2],i[s+3]=n[3]}function a(t,i,s){r[0]=t,i[s]=n[3],i[s+1]=n[2],i[s+2]=n[1],i[s+3]=n[0]}function o(t,i){return n[0]=t[i],n[1]=t[i+1],n[2]=t[i+2],n[3]=t[i+3],r[0]}function l(t,i){return n[3]=t[i],n[2]=t[i+1],n[1]=t[i+2],n[0]=t[i+3],r[0]}t.writeFloatLE=i?s:a,t.writeFloatBE=i?a:s,t.readFloatLE=i?o:l,t.readFloatBE=i?l:o}():function(){function r(t,r,n,i){var s=r<0?1:0;if(s&&(r=-r),0===r)t(1/r>0?0:2147483648,n,i);else if(isNaN(r))t(2143289344,n,i);else if(r>34028234663852886e22)t((s<<31|2139095040)>>>0,n,i);else if(r<11754943508222875e-54)t((s<<31|Math.round(r/1401298464324817e-60))>>>0,n,i);else{var a=Math.floor(Math.log(r)/Math.LN2),o=8388607&Math.round(r*Math.pow(2,-a)*8388608);t((s<<31|a+127<<23|o)>>>0,n,i)}}function o(t,r,n){var i=t(r,n),s=(i>>31)*2+1,a=i>>>23&255,o=8388607&i;return 255===a?o?NaN:1/0*s:0===a?1401298464324817e-60*s*o:s*Math.pow(2,a-150)*(o+8388608)}t.writeFloatLE=r.bind(null,n),t.writeFloatBE=r.bind(null,i),t.readFloatLE=o.bind(null,s),t.readFloatBE=o.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var r=new Float64Array([-0]),n=new Uint8Array(r.buffer),i=128===n[7];function s(t,i,s){r[0]=t,i[s]=n[0],i[s+1]=n[1],i[s+2]=n[2],i[s+3]=n[3],i[s+4]=n[4],i[s+5]=n[5],i[s+6]=n[6],i[s+7]=n[7]}function a(t,i,s){r[0]=t,i[s]=n[7],i[s+1]=n[6],i[s+2]=n[5],i[s+3]=n[4],i[s+4]=n[3],i[s+5]=n[2],i[s+6]=n[1],i[s+7]=n[0]}function o(t,i){return n[0]=t[i],n[1]=t[i+1],n[2]=t[i+2],n[3]=t[i+3],n[4]=t[i+4],n[5]=t[i+5],n[6]=t[i+6],n[7]=t[i+7],r[0]}function l(t,i){return n[7]=t[i],n[6]=t[i+1],n[5]=t[i+2],n[4]=t[i+3],n[3]=t[i+4],n[2]=t[i+5],n[1]=t[i+6],n[0]=t[i+7],r[0]}t.writeDoubleLE=i?s:a,t.writeDoubleBE=i?a:s,t.readDoubleLE=i?o:l,t.readDoubleBE=i?l:o}():function(){function r(t,r,n,i,s,a){var o,l=i<0?1:0;if(l&&(i=-i),0===i)t(0,s,a+r),t(1/i>0?0:2147483648,s,a+n);else if(isNaN(i))t(0,s,a+r),t(2146959360,s,a+n);else if(i>17976931348623157e292)t(0,s,a+r),t((l<<31|2146435072)>>>0,s,a+n);else if(i<22250738585072014e-324)t((o=i/5e-324)>>>0,s,a+r),t((l<<31|o/4294967296)>>>0,s,a+n);else{var u=Math.floor(Math.log(i)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(o=i*Math.pow(2,-u))>>>0,s,a+r),t((l<<31|u+1023<<20|1048576*o&1048575)>>>0,s,a+n)}}function o(t,r,n,i,s){var a=t(i,s+r),o=t(i,s+n),l=(o>>31)*2+1,u=o>>>20&2047,c=4294967296*(1048575&o)+a;return 2047===u?c?NaN:1/0*l:0===u?5e-324*l*c:l*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=r.bind(null,n,0,4),t.writeDoubleBE=r.bind(null,i,4,0),t.readDoubleLE=o.bind(null,s,0,4),t.readDoubleBE=o.bind(null,a,4,0)}(),t}function n(t,r,n){r[n]=255&t,r[n+1]=t>>>8&255,r[n+2]=t>>>16&255,r[n+3]=t>>>24}function i(t,r,n){r[n]=t>>>24,r[n+1]=t>>>16&255,r[n+2]=t>>>8&255,r[n+3]=255&t}function s(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0}function a(t,r){return(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0}t.exports=r(r)},34693:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},74108:(t,r)=>{"use strict";var n=r,i=n.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},s=n.normalize=function(t){var r=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=i(t),s="";n&&(s=r.shift()+"/");for(var a=0;a<r.length;)".."===r[a]?a>0&&".."!==r[a-1]?r.splice(--a,2):n?r.splice(a,1):++a:"."===r[a]?r.splice(a,1):++a;return s+r.join("/")};n.resolve=function(t,r,n){return(n||(r=s(r)),i(r))?r:(n||(t=s(t)),(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?s(t+"/"+r):r)}},48692:t=>{"use strict";function r(t,r,n){var i=n||8192,s=i>>>1,a=null,o=i;return function(n){if(n<1||n>s)return t(n);o+n>i&&(a=t(i),o=0);var l=r.call(a,o,o+=n);return 7&o&&(o=(7|o)+1),l}}t.exports=r},64720:(t,r)=>{"use strict";var n=r;n.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)(n=t.charCodeAt(i))<128?r+=1:n<2048?r+=2:(64512&n)==55296&&(64512&t.charCodeAt(i+1))==56320?(++i,r+=4):r+=3;return r},n.read=function(t,r,n){if(n-r<1)return"";for(var i,s=null,a=[],o=0;r<n;)(i=t[r++])<128?a[o++]=i:i>191&&i<224?a[o++]=(31&i)<<6|63&t[r++]:i>239&&i<365?(i=((7&i)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,a[o++]=55296+(i>>10),a[o++]=56320+(1023&i)):a[o++]=(15&i)<<12|(63&t[r++])<<6|63&t[r++],o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))},n.write=function(t,r,n){for(var i,s,a=n,o=0;o<t.length;++o)(i=t.charCodeAt(o))<128?r[n++]=i:(i<2048?r[n++]=i>>6|192:((64512&i)==55296&&(64512&(s=t.charCodeAt(o+1)))==56320?(i=65536+((1023&i)<<10)+(1023&s),++o,r[n++]=i>>18|240,r[n++]=i>>12&63|128):r[n++]=i>>12|224,r[n++]=i>>6&63|128),r[n++]=63&i|128);return n-a}},9538:t=>{"use strict";let r;function n(t){let r;if("number"==typeof t)return t>>>0===t&&t>=0&&t<=4294967295?t:null;if("string"!=typeof t)return null;let n=h();if(r=n.hex6.exec(t))return parseInt(r[1]+"ff",16)>>>0;let i=v(t);return null!=i?i:(r=n.rgb.exec(t))?(f(r[1])<<24|f(r[2])<<16|f(r[3])<<8|255)>>>0:(r=n.rgba.exec(t))?void 0!==r[6]?(f(r[6])<<24|f(r[7])<<16|f(r[8])<<8|g(r[9]))>>>0:(f(r[2])<<24|f(r[3])<<16|f(r[4])<<8|g(r[5]))>>>0:(r=n.hex3.exec(t))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+"ff",16)>>>0:(r=n.hex8.exec(t))?parseInt(r[1],16)>>>0:(r=n.hex4.exec(t))?parseInt(r[1]+r[1]+r[2]+r[2]+r[3]+r[3]+r[4]+r[4],16)>>>0:(r=n.hsl.exec(t))?(255|s(p(r[1]),m(r[2]),m(r[3])))>>>0:(r=n.hsla.exec(t))?void 0!==r[6]?(s(p(r[6]),m(r[7]),m(r[8]))|g(r[9]))>>>0:(s(p(r[2]),m(r[3]),m(r[4]))|g(r[5]))>>>0:(r=n.hwb.exec(t))?(255|a(p(r[1]),m(r[2]),m(r[3])))>>>0:null}function i(t,r,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?t+(r-t)*6*n:n<.5?r:n<2/3?t+(r-t)*(2/3-n)*6:t}function s(t,r,n){let s=n<.5?n*(1+r):n+r-n*r,a=2*n-s;return Math.round(255*i(a,s,t+1/3))<<24|Math.round(255*i(a,s,t))<<16|Math.round(255*i(a,s,t-1/3))<<8}function a(t,r,n){if(r+n>=1){let t=Math.round(255*r/(r+n));return t<<24|t<<16|t<<8}return Math.round(255*(i(0,1,t+1/3)*(1-r-n)+r))<<24|Math.round(255*(i(0,1,t)*(1-r-n)+r))<<16|Math.round(255*(i(0,1,t-1/3)*(1-r-n)+r))<<8}let o="[-+]?\\d*\\.?\\d+",l=o+"%";function u(...t){return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function c(...t){return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function d(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function h(){return void 0===r&&(r={rgb:RegExp("rgb"+u(o,o,o)),rgba:RegExp("rgba("+d(o,o,o,o)+"|"+c(o,o,o,o)+")"),hsl:RegExp("hsl"+u(o,l,l)),hsla:RegExp("hsla("+d(o,l,l,o)+"|"+c(o,l,l,o)+")"),hwb:RegExp("hwb"+u(o,l,l)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),r}function f(t){let r=parseInt(t,10);return r<0?0:r>255?255:r}function p(t){return(parseFloat(t)%360+360)%360/360}function g(t){let r=parseFloat(t);return r<0?0:r>1?255:Math.round(255*r)}function m(t){let r=parseFloat(t);return r<0?0:r>100?1:r/100}function v(t){switch(t){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}t.exports=n},7294:(t,r,n)=>{"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return u(t)||l(t)||o(t)||a()}function a(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,r){if(t){if("string"==typeof t)return c(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,r)}}function l(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=Array(r);n<r;n++)i[n]=t[n];return i}function d(t){return t.filter(function(r,n){return t.lastIndexOf(r)===n})}function h(t){for(var r=0,n=arguments.length<=1?0:arguments.length-1;r<n;++r){var a=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];for(var o in a){var l=a[o],u=t[o];if(u&&l){if(Array.isArray(u)){t[o]=d(u.concat(l));continue}if(Array.isArray(l)){t[o]=d([u].concat(s(l)));continue}if("object"===i(l)){t[o]=h({},u,l);continue}}t[o]=l}}return t}n.r(r),n.d(r,{assignStyle:()=>h,camelCaseProperty:()=>v,cssifyDeclaration:()=>b,cssifyObject:()=>S,hyphenateProperty:()=>_,isPrefixedProperty:()=>T,isPrefixedValue:()=>C,isUnitlessProperty:()=>M,normalizeProperty:()=>V,resolveArrayValue:()=>B,unprefixProperty:()=>j,unprefixValue:()=>z});var f=/-([a-z])/g,p=/^Ms/g,g={};function m(t){return t[1].toUpperCase()}function v(t){if(g.hasOwnProperty(t))return g[t];var r=t.replace(f,m).replace(p,"ms");return g[t]=r,r}var y=n(54880);function _(t){return(0,y.default)(t)}function b(t,r){return _(t)+":"+r}function S(t){var r="";for(var n in t){var i=t[n];("string"==typeof i||"number"==typeof i)&&(r&&(r+=";"),r+=b(n,i))}return r}var E=/^(Webkit|Moz|O|ms)/;function T(t){return E.test(t)}var w=/-webkit-|-moz-|-ms-/;function C(t){return"string"==typeof t&&w.test(t)}var R={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],A=["Webkit","ms","Moz","O"];function O(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)}for(var N=0,k=I.length;N<k;++N){var P=I[N];R[P]=!0;for(var x=0,D=A.length;x<D;++x)R[O(A[x],P)]=!0}for(var L in R)R[_(L)]=!0;function M(t){return R.hasOwnProperty(t)}var F=/^(ms|Webkit|Moz|O)/;function j(t){var r=t.replace(F,"");return r.charAt(0).toLowerCase()+r.slice(1)}function V(t){return j(v(t))}function B(t,r){return r.join(";"+_(t)+":")}var U=/(-ms-|-webkit-|-moz-|-o-)/g;function z(t){return"string"==typeof t?t.replace(U,""):t}},16862:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var i=s(n(54880));function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return(0,i.default)(t)}},64652:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var n=/-webkit-|-moz-|-ms-/;function i(t){return"string"==typeof t&&n.test(t)}},37134:t=>{"use strict";function r(t){return function(){return t}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},29879:t=>{"use strict";var r=function(t){};function n(t,n){for(var i,s=arguments.length,a=Array(s>2?s-2:0),o=2;o<s;o++)a[o-2]=arguments[o];if(r(n),!t){if(void 0===n)i=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;(i=Error(n.replace(/%s/g,function(){return String(a[l++])}))).name="Invariant Violation"}throw i.framesToPop=1,i}}t.exports=n},25514:(t,r,n)=>{"use strict";var i=n(37134);t.exports=i},33363:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(97539);Object.keys(i).forEach(function(t){"default"===t||r.hasOwnProperty(t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})})},56009:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(75159);Object.keys(i).forEach(function(t){"default"===t||r.hasOwnProperty(t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})})},93e3:(t,r,n)=>{"use strict";n.d(r,{Z:()=>h});var i=n(9603),s=n.n(i),a=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function o(t){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(r.name=n[1],(s()[n[1]]||"/"===t.charAt(t.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var i=t.indexOf("-->");return{type:"comment",comment:-1!==i?t.slice(4,i):""}}for(var o=new RegExp(a),l=null;null!==(l=o.exec(t));)if(l[0].trim()){if(l[1]){var u=l[1].trim(),c=[u,""];u.indexOf("=")>-1&&(c=u.split("=")),r.attrs[c[0]]=c[1],o.lastIndex--}else l[2]&&(r.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1))}return r}var l=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,u=/^\s*$/,c=Object.create(null);function d(t,r){switch(r.type){case"text":return t+r.content;case"tag":return t+="<"+r.name+(r.attrs?function(t){var r=[];for(var n in t)r.push(n+'="'+t[n]+'"');return r.length?" "+r.join(" "):""}(r.attrs):"")+(r.voidElement?"/>":">"),r.voidElement?t:t+r.children.reduce(d,"")+"</"+r.name+">";case"comment":return t+"<!--"+r.comment+"-->"}}let h={parse:function(t,r){r||(r={}),r.components||(r.components=c);var n,i=[],s=[],a=-1,d=!1;if(0!==t.indexOf("<")){var h=t.indexOf("<");i.push({type:"text",content:-1===h?t:t.substring(0,h)})}return t.replace(l,function(l,c){if(d){if(l!=="</"+n.name+">")return;d=!1}var h,f="/"!==l.charAt(1),p=l.startsWith("<!--"),g=c+l.length,m=t.charAt(g);if(p){var v=o(l);return a<0?i.push(v):(h=s[a]).children.push(v),i}if(f&&(a++,"tag"===(n=o(l)).type&&r.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!m||"<"===m||n.children.push({type:"text",content:t.slice(g,t.indexOf("<",g))}),0===a&&i.push(n),(h=s[a-1])&&h.children.push(n),s[a]=n),(!f||n.voidElement)&&(a>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(n=-1==--a?i:s[a]),!d&&"<"!==m&&m)){h=-1===a?i:s[a].children;var y=t.indexOf("<",g),_=t.slice(g,-1===y?void 0:y);u.test(_)&&(_=" "),(y>-1&&a+h.length>=0||" "!==_)&&h.push({type:"text",content:_})}}),i},stringify:function(t){return t.reduce(function(t,r){return t+d("",r)},"")}}},54880:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>l});var i=/[A-Z]/g,s=/^ms-/,a={};function o(t){return"-"+t.toLowerCase()}let l=function(t){if(a.hasOwnProperty(t))return a[t];var r=t.replace(i,o);return a[t]=s.test(r)?"-"+r:r}},42606:(t,r,n)=>{"use strict";i={value:!0},r.Z=c;var i,s=u(n(76608)),a=u(n(38037)),o=u(n(48476)),l=u(n(69549));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){var r=t.prefixMap,n=t.plugins;return function t(i){for(var u in i){var c=i[u];if((0,l.default)(c))i[u]=t(c);else if(Array.isArray(c)){for(var d=[],h=0,f=c.length;h<f;++h){var p=(0,a.default)(n,u,c[h],i,r);(0,o.default)(d,p||c[h])}d.length>0&&(i[u]=d)}else{var g=(0,a.default)(n,u,c,i,r);g&&(i[u]=g),i=(0,s.default)(r,u,i)}}return i}}},76581:(t,r)=>{"use strict";var n;function i(){return null}n={value:!0},r.Z=i},51415:(t,r,n)=>{"use strict";i={value:!0},r.Z=l;var i,s=n(7294),a=/cross-fade\(/g,o=["-webkit-",""];function l(t,r){if("string"==typeof r&&!(0,s.isPrefixedValue)(r)&&-1!==r.indexOf("cross-fade("))return o.map(function(t){return r.replace(a,t+"cross-fade(")})}},67589:(t,r)=>{"use strict";n={value:!0},r.Z=a;var n,i=["-webkit-","-moz-",""],s={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function a(t,r){if("cursor"===t&&s.hasOwnProperty(r))return i.map(function(t){return t+r})}},73129:(t,r,n)=>{"use strict";i={value:!0},r.Z=l;var i,s=n(7294),a=/filter\(/g,o=["-webkit-",""];function l(t,r){if("string"==typeof r&&!(0,s.isPrefixedValue)(r)&&-1!==r.indexOf("filter("))return o.map(function(t){return r.replace(a,t+"filter(")})}},66854:(t,r,n)=>{"use strict";i={value:!0},r.Z=l;var i,s=a(n(64652));function a(t){return t&&t.__esModule?t:{default:t}}var o=["-webkit-",""];function l(t,r){if("string"==typeof r&&!(0,s.default)(r)&&r.indexOf("image-set(")>-1)return o.map(function(t){return r.replace(/image-set\(/g,t+"image-set(")})}},8432:(t,r)=>{"use strict";n={value:!0},r.Z=s;var n,i={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function s(t,r,n){if(Object.prototype.hasOwnProperty.call(i,t))for(var s=i[t],a=0,o=s.length;a<o;++a)n[s[a]]=r}},82432:(t,r)=>{"use strict";var n;function i(t,r){if("position"===t&&"sticky"===r)return["-webkit-sticky","sticky"]}n={value:!0},r.Z=i},70640:(t,r)=>{"use strict";n={value:!0},r.Z=o;var n,i=["-webkit-","-moz-",""],s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function o(t,r){if(s.hasOwnProperty(t)&&a.hasOwnProperty(r))return i.map(function(t){return t+r})}},81281:(t,r,n)=>{"use strict";i={value:!0},r.Z=h;var i,s=l(n(16862)),a=l(n(64652)),o=l(n(93237));function l(t){return t&&t.__esModule?t:{default:t}}var u={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function d(t,r){if((0,a.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),i=0,o=n.length;i<o;++i){var l=n[i],u=[l];for(var d in r){var h=(0,s.default)(d);if(l.indexOf(h)>-1&&"order"!==h)for(var f=r[d],p=0,g=f.length;p<g;++p)u.unshift(l.replace(h,c[f[p]]+h))}n[i]=u.join(",")}return n.join(",")}function h(t,r,n,i){if("string"==typeof r&&u.hasOwnProperty(t)){var s=d(r,i),a=s.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(",");if(t.indexOf("Webkit")>-1)return a;var l=s.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(",");return t.indexOf("Moz")>-1?l:(n["Webkit"+(0,o.default)(t)]=a,n["Moz"+(0,o.default)(t)]=l,s)}}},48476:(t,r)=>{"use strict";function n(t,r){-1===t.indexOf(r)&&t.push(r)}function i(t,r){if(Array.isArray(r))for(var i=0,s=r.length;i<s;++i)n(t,r[i]);else n(t,r)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},93237:(t,r)=>{"use strict";function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},69549:(t,r)=>{"use strict";function n(t){return t instanceof Object&&!Array.isArray(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},76608:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var i=s(n(93237));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,r,n){var s=t[r];if(s&&n.hasOwnProperty(r))for(var a=(0,i.default)(r),o=0;o<s.length;++o){var l=s[o]+a;n[l]||(n[l]=n[r])}return n}},38037:(t,r)=>{"use strict";function n(t,r,n,i,s){for(var a=0,o=t.length;a<o;++a){var l=t[a](r,n,i,s);if(l)return l}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},3883:t=>{var r=1/0,n="[object Symbol]",i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a="\ud800-\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",l="\\u20d0-\\u20f0",u="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",d="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",f="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="[']",g="["+a+"]",m="["+f+"]",v="["+o+l+"]",y="\\d+",_="["+u+"]",b="["+c+"]",S="[^"+a+f+y+u+c+d+"]",E="\ud83c[\udffb-\udfff]",T="[^"+a+"]",w="(?:\ud83c[\udde6-\uddff]){2}",C="[\ud800-\udbff][\udc00-\udfff]",R="["+d+"]",I="\\u200d",A="(?:"+b+"|"+S+")",O="(?:"+R+"|"+S+")",N="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",k="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",P="(?:"+v+"|"+E+")?",x="["+h+"]?",D="(?:"+I+"(?:"+[T,w,C].join("|")+")"+x+P+")*",L=x+P+D,M="(?:"+[_,w,C].join("|")+")"+L,F="(?:"+[T+v+"?",v,w,C,g].join("|")+")",j=RegExp(p,"g"),V=RegExp(v,"g"),B=RegExp(E+"(?="+E+")|"+F+L,"g"),U=RegExp([R+"?"+b+"+"+N+"(?="+[m,R,"$"].join("|")+")",O+"+"+k+"(?="+[m,R+A,"$"].join("|")+")",R+"?"+A+"+"+N,R+"+"+k,y,M].join("|"),"g"),z=RegExp("["+I+a+o+l+h+"]"),q=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,H={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},W="object"==typeof global&&global&&global.Object===Object&&global,G="object"==typeof self&&self&&self.Object===Object&&self,K=W||G||Function("return this")();function $(t,r,n,i){var s=-1,a=t?t.length:0;for(i&&a&&(n=t[++s]);++s<a;)n=r(n,t[s],s,t);return n}function Y(t){return t.split("")}function Q(t){return t.match(i)||[]}var Z=function(t){return function(r){return null==t?void 0:t[r]}}(H);function J(t){return z.test(t)}function X(t){return q.test(t)}function ee(t){return J(t)?et(t):Y(t)}function et(t){return t.match(B)||[]}function er(t){return t.match(U)||[]}var en=Object.prototype.toString,ei=K.Symbol,es=ei?ei.prototype:void 0,ea=es?es.toString:void 0;function eo(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),(n=n>s?s:n)<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(s);++i<s;)a[i]=t[i+r];return a}function el(t){if("string"==typeof t)return t;if(eh(t))return ea?ea.call(t):"";var n=t+"";return"0"==n&&1/t==-r?"-0":n}function eu(t,r,n){var i=t.length;return n=void 0===n?i:n,!r&&n>=i?t:eo(t,r,n)}function ec(t){return function(r){var n=J(r=ef(r))?ee(r):void 0,i=n?n[0]:r.charAt(0),s=n?eu(n,1).join(""):r.slice(1);return i[t]()+s}}function ed(t){return!!t&&"object"==typeof t}function eh(t){return"symbol"==typeof t||ed(t)&&en.call(t)==n}function ef(t){return null==t?"":el(t)}var ep=function(t){return function(r){return $(ey(em(r).replace(j,"")),t,"")}}(function(t,r,n){return r=r.toLowerCase(),t+(n?eg(r):r)});function eg(t){return ev(ef(t).toLowerCase())}function em(t){return(t=ef(t))&&t.replace(s,Z).replace(V,"")}var ev=ec("toUpperCase");function ey(t,r,n){return(t=ef(t),void 0===(r=n?void 0:r))?X(t)?er(t):Q(t):t.match(r)||[]}t.exports=ep},80576:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addBasePath",{enumerable:!0,get:function(){return o}});let i=n(50322),s=n(12716),a="";function o(t,r){return(0,s.normalizePathTrailingSlash)((0,i.addPathPrefix)(t,a))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},5448:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"callServer",{enumerable:!0,get:function(){return s}});let i=n(27070);async function s(t,r){let n=(0,i.getServerActionDispatcher)();if(!n)throw Error("Invariant: missing action dispatcher.");return new Promise((i,s)=>{n({actionId:t,actionArgs:r,resolve:i,reject:s})})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},98350:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AppRouterAnnouncer",{enumerable:!0,get:function(){return u}});let i=n(95542),s=n(48194),a="next-route-announcer",o="__next-route-announcer__";function l(){var t;let r=document.getElementsByName(a)[0];if(null==r?void 0:null==(t=r.shadowRoot)?void 0:t.childNodes[0])return r.shadowRoot.childNodes[0];{let t=document.createElement(a);t.style.cssText="position:absolute";let r=document.createElement("div");return r.ariaLive="assertive",r.id=o,r.role="alert",r.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal",t.attachShadow({mode:"open"}).appendChild(r),document.body.appendChild(t),r}}function u(t){let{tree:r}=t,[n,o]=(0,i.useState)(null);(0,i.useEffect)(()=>(o(l()),()=>{let t=document.getElementsByTagName(a)[0];(null==t?void 0:t.isConnected)&&document.body.removeChild(t)}),[]);let[u,c]=(0,i.useState)(""),d=(0,i.useRef)();return(0,i.useEffect)(()=>{let t="";if(document.title)t=document.title;else{let r=document.querySelector("h1");r&&(t=r.innerText||r.textContent||"")}void 0!==d.current&&d.current!==t&&c(t),d.current=t},[r]),n?(0,s.createPortal)(u,n):null}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},32445:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{ACTION:function(){return i},FLIGHT_PARAMETERS:function(){return u},NEXT_DID_POSTPONE_HEADER:function(){return d},NEXT_ROUTER_PREFETCH_HEADER:function(){return a},NEXT_ROUTER_STATE_TREE:function(){return s},NEXT_RSC_UNION_QUERY:function(){return c},NEXT_URL:function(){return o},RSC_CONTENT_TYPE_HEADER:function(){return l},RSC_HEADER:function(){return n}});let n="RSC",i="Next-Action",s="Next-Router-State-Tree",a="Next-Router-Prefetch",o="Next-Url",l="text/x-component",u=[[n],[s],[a]],c="_rsc",d="x-nextjs-postponed";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},27070:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{createEmptyCacheNode:function(){return x},default:function(){return B},getServerActionDispatcher:function(){return I},urlToUrlWithoutFlightMarker:function(){return O}});let i=n(34157),s=n(23704),a=i._(n(95542)),o=n(72644),l=n(39851),u=n(84848),c=n(30402),d=n(54042),h=n(43996),f=n(34674),p=n(43280),g=n(80576),m=n(98350),v=n(56208),y=n(92675),_=n(78627),b=n(32445),S=n(27355),E=n(86540),T=n(90997),w=!0,C=null,R=null;function I(){return R}let A={};function O(t){let r=new URL(t,location.origin);if(r.searchParams.delete(b.NEXT_RSC_UNION_QUERY),r.pathname.endsWith(".txt")){let{pathname:t}=r,n=t.endsWith("/index.txt")?10:4;r.pathname=t.slice(0,-n)}return r}function N(t,r){for(let n of(void 0===r&&(r={}),Object.values(t[1]))){let t=n[0],i=Array.isArray(t),s=i?t[1]:t;!s||s.startsWith(T.PAGE_SEGMENT_KEY)||(i&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):i&&(r[t[0]]=t[1]),r=N(n,r))}return r}function k(t){return t.origin!==window.location.origin}function P(t){let{appRouterState:r,sync:n}=t;return(0,a.useInsertionEffect)(()=>{let{tree:t,pushRef:i,canonicalUrl:s}=r,a={...i.preserveCustomHistoryState?window.history.state:{},__NA:!0,__PRIVATE_NEXTJS_INTERNALS_TREE:t};i.pendingPush&&(0,u.createHrefFromUrl)(new URL(window.location.href))!==s?(i.pendingPush=!1,window.history.pushState(a,"",s)):window.history.replaceState(a,"",s),n(r)},[r,n]),null}function x(){return{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null}}function D(t){R=(0,a.useCallback)(r=>{(0,a.startTransition)(()=>{t({...r,type:l.ACTION_SERVER_ACTION})})},[t])}function L(t){return(0,a.useCallback)(r=>{let{previousTree:n,serverResponse:i}=r;(0,a.startTransition)(()=>{t({type:l.ACTION_SERVER_PATCH,previousTree:n,serverResponse:i})})},[t])}function M(t){return(0,a.useCallback)((r,n,i)=>{let s=new URL((0,g.addBasePath)(r),location.href);return t({type:l.ACTION_NAVIGATE,url:s,isExternalUrl:k(s),locationSearch:location.search,shouldScroll:null==i||i,navigateType:n})},[t])}function F(t){null==t&&(t={});let r=window.history.state,n=null==r?void 0:r.__NA;n&&(t.__NA=n);let i=null==r?void 0:r.__PRIVATE_NEXTJS_INTERNALS_TREE;return i&&(t.__PRIVATE_NEXTJS_INTERNALS_TREE=i),t}function j(t){let{headCacheNode:r}=t,n=null!==r?r.head:null,i=null!==r?r.prefetchHead:null,s=null!==i?i:n;return(0,a.useDeferredValue)(n,s)}function V(t){let r,{buildId:n,initialHead:i,initialTree:u,initialCanonicalUrl:h,initialSeedData:b,couldBeIntercepted:T,assetPrefix:R,missingSlots:I}=t,O=(0,a.useMemo)(()=>(0,f.createInitialRouterState)({buildId:n,initialSeedData:b,initialCanonicalUrl:h,initialTree:u,initialParallelRoutes:C,location:w?null:window.location,initialHead:i,couldBeIntercepted:T}),[n,b,h,u,i,T]),[x,V,B]=(0,d.useReducerWithReduxDevtools)(O);(0,a.useEffect)(()=>{C=null},[]);let{canonicalUrl:U}=(0,d.useUnwrapState)(x),{searchParams:z,pathname:q}=(0,a.useMemo)(()=>{let t=new URL(U,"http://n");return{searchParams:t.searchParams,pathname:(0,E.hasBasePath)(t.pathname)?(0,S.removeBasePath)(t.pathname):t.pathname}},[U]),H=L(V),W=M(V);D(V);let G=(0,a.useMemo)(()=>({back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(t,r)=>{let n;if(!(0,p.isBot)(window.navigator.userAgent)){try{n=new URL((0,g.addBasePath)(t),window.location.href)}catch(r){throw Error("Cannot prefetch '"+t+"' because it cannot be converted to a URL.")}k(n)||(0,a.startTransition)(()=>{var t;V({type:l.ACTION_PREFETCH,url:n,kind:null!=(t=null==r?void 0:r.kind)?t:l.PrefetchKind.FULL})})}},replace:(t,r)=>{void 0===r&&(r={}),(0,a.startTransition)(()=>{var n;W(t,"replace",null==(n=r.scroll)||n)})},push:(t,r)=>{void 0===r&&(r={}),(0,a.startTransition)(()=>{var n;W(t,"push",null==(n=r.scroll)||n)})},refresh:()=>{(0,a.startTransition)(()=>{V({type:l.ACTION_REFRESH,origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}}),[V,W]);(0,a.useEffect)(()=>{window.next&&(window.next.router=G)},[G]),(0,a.useEffect)(()=>{function t(t){var r;t.persisted&&(null==(r=window.history.state)?void 0:r.__PRIVATE_NEXTJS_INTERNALS_TREE)&&(A.pendingMpaPath=void 0,V({type:l.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.__PRIVATE_NEXTJS_INTERNALS_TREE}))}return window.addEventListener("pageshow",t),()=>{window.removeEventListener("pageshow",t)}},[V]);let{pushRef:K}=(0,d.useUnwrapState)(x);if(K.mpaNavigation){if(A.pendingMpaPath!==U){let t=window.location;K.pendingPush?t.assign(U):t.replace(U),A.pendingMpaPath=U}(0,a.use)(_.unresolvedThenable)}(0,a.useEffect)(()=>{let t=window.history.pushState.bind(window.history),r=window.history.replaceState.bind(window.history),n=t=>{var r;let n=window.location.href,i=null==(r=window.history.state)?void 0:r.__PRIVATE_NEXTJS_INTERNALS_TREE;(0,a.startTransition)(()=>{V({type:l.ACTION_RESTORE,url:new URL(null!=t?t:n,n),tree:i})})};window.history.pushState=function(r,i,s){return(null==r?void 0:r.__NA)||(null==r?void 0:r._N)||(r=F(r),s&&n(s)),t(r,i,s)},window.history.replaceState=function(t,i,s){return(null==t?void 0:t.__NA)||(null==t?void 0:t._N)||(t=F(t),s&&n(s)),r(t,i,s)};let i=t=>{let{state:r}=t;if(r){if(!r.__NA){window.location.reload();return}(0,a.startTransition)(()=>{V({type:l.ACTION_RESTORE,url:new URL(window.location.href),tree:r.__PRIVATE_NEXTJS_INTERNALS_TREE})})}};return window.addEventListener("popstate",i),()=>{window.history.pushState=t,window.history.replaceState=r,window.removeEventListener("popstate",i)}},[V]);let{cache:$,tree:Y,nextUrl:Q,focusAndScrollRef:Z}=(0,d.useUnwrapState)(x),J=(0,a.useMemo)(()=>(0,y.findHeadInCache)($,Y[1]),[$,Y]),X=(0,a.useMemo)(()=>N(Y),[Y]);if(null!==J){let[t,n]=J;r=(0,s.jsx)(j,{headCacheNode:t},n)}else r=null;let ee=(0,s.jsxs)(v.RedirectBoundary,{children:[r,$.rsc,(0,s.jsx)(m.AppRouterAnnouncer,{tree:Y})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P,{appRouterState:(0,d.useUnwrapState)(x),sync:B}),(0,s.jsx)(c.PathParamsContext.Provider,{value:X,children:(0,s.jsx)(c.PathnameContext.Provider,{value:q,children:(0,s.jsx)(c.SearchParamsContext.Provider,{value:z,children:(0,s.jsx)(o.GlobalLayoutRouterContext.Provider,{value:{buildId:n,changeByServerResponse:H,tree:Y,focusAndScrollRef:Z,nextUrl:Q},children:(0,s.jsx)(o.AppRouterContext.Provider,{value:G,children:(0,s.jsx)(o.LayoutRouterContext.Provider,{value:{childNodes:$.parallelRoutes,tree:Y,url:U,loading:$.loading},children:ee})})})})})})]})}function B(t){let{globalErrorComponent:r,...n}=t;return(0,s.jsx)(h.ErrorBoundary,{errorComponent:r,children:(0,s.jsx)(V,{...n})})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},75319:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"bailoutToClientRendering",{enumerable:!0,get:function(){return a}});let i=n(88961),s=n(94749);function a(t){let r=s.staticGenerationAsyncStorage.getStore();if((null==r||!r.forceStatic)&&(null==r?void 0:r.isStaticGeneration))throw new i.BailoutToCSRError(t)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},24426:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ClientPageRoot",{enumerable:!0,get:function(){return a}});let i=n(23704),s=n(57958);function a(t){let{Component:r,props:n}=t;return n.searchParams=(0,s.createDynamicallyTrackedSearchParams)(n.searchParams||{}),(0,i.jsx)(r,{...n})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},43996:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{ErrorBoundary:function(){return g},ErrorBoundaryHandler:function(){return h},GlobalError:function(){return f},default:function(){return p}});let i=n(21752),s=n(23704),a=i._(n(95542)),o=n(18246),l=n(29393),u=n(94749),c={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function d(t){let{error:r}=t,n=u.staticGenerationAsyncStorage.getStore();if((null==n?void 0:n.isRevalidate)||(null==n?void 0:n.isStaticGeneration))throw console.error(r),r;return null}class h extends a.default.Component{static getDerivedStateFromError(t){if((0,l.isNextRouterError)(t))throw t;return{error:t}}static getDerivedStateFromProps(t,r){return t.pathname!==r.previousPathname&&r.error?{error:null,previousPathname:t.pathname}:{error:r.error,previousPathname:t.pathname}}render(){return this.state.error?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,s.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]}):this.props.children}constructor(t){super(t),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}}function f(t){let{error:r}=t,n=null==r?void 0:r.digest;return(0,s.jsxs)("html",{id:"__next_error__",children:[(0,s.jsx)("head",{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(d,{error:r}),(0,s.jsx)("div",{style:c.error,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:c.text,children:"Application error: a "+(n?"server":"client")+"-side exception has occurred (see the "+(n?"server logs":"browser console")+" for more information)."}),n?(0,s.jsx)("p",{style:c.text,children:"Digest: "+n}):null]})})]})]})}let p=f;function g(t){let{errorComponent:r,errorStyles:n,errorScripts:i,children:a}=t,l=(0,o.usePathname)();return r?(0,s.jsx)(h,{pathname:l,errorComponent:r,errorStyles:n,errorScripts:i,children:a}):(0,s.jsx)(s.Fragment,{children:a})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},70252:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{DynamicServerError:function(){return i},isDynamicServerError:function(){return s}});let n="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(t){super("Dynamic server usage: "+t),this.description=t,this.digest=n}}function s(t){return"object"==typeof t&&null!==t&&"digest"in t&&"string"==typeof t.digest&&t.digest===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},29393:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return a}});let i=n(43620),s=n(34350);function a(t){return t&&t.digest&&((0,s.isRedirectError)(t)||(0,i.isNotFoundError)(t))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},28235:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return A}}),n(21752);let i=n(34157),s=n(23704),a=i._(n(95542));n(48194);let o=n(72644),l=n(51569),u=n(78627),c=n(43996),d=n(22074),h=n(2503),f=n(56208),p=n(71468),g=n(5318),m=n(55272),v=n(52261);function y(t,r){if(t){let[n,i]=t,s=2===t.length;if((0,d.matchSegment)(r[0],n)&&r[1].hasOwnProperty(i)){if(s){let t=y(void 0,r[1][i]);return[r[0],{...r[1],[i]:[t[0],t[1],t[2],"refetch"]}]}return[r[0],{...r[1],[i]:y(t.slice(2),r[1][i])}]}}return r}function _(t){return null}let b=["bottom","height","left","right","top","width","x","y"];function S(t){if(["sticky","fixed"].includes(getComputedStyle(t).position))return!0;let r=t.getBoundingClientRect();return b.every(t=>0===r[t])}function E(t,r){let n=t.getBoundingClientRect();return n.top>=0&&n.top<=r}function T(t){var r;return"top"===t?document.body:null!=(r=document.getElementById(t))?r:document.getElementsByName(t)[0]}class w extends a.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...t){super(...t),this.handlePotentialScroll=()=>{let{focusAndScrollRef:t,segmentPath:r}=this.props;if(t.apply){if(0!==t.segmentPaths.length&&!t.segmentPaths.some(t=>r.every((r,n)=>(0,d.matchSegment)(r,t[n]))))return;let n=null,i=t.hashFragment;if(i&&(n=T(i)),n||(n=_(this)),!(n instanceof Element))return;for(;!(n instanceof HTMLElement)||S(n);){if(null===n.nextElementSibling)return;n=n.nextElementSibling}t.apply=!1,t.hashFragment=null,t.segmentPaths=[],(0,h.handleSmoothScroll)(()=>{if(i){n.scrollIntoView();return}let t=document.documentElement,r=t.clientHeight;!E(n,r)&&(t.scrollTop=0,E(n,r)||n.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:t.onlyHashChange}),t.onlyHashChange=!1,n.focus()}}}}function C(t){let{segmentPath:r,children:n}=t,i=(0,a.useContext)(o.GlobalLayoutRouterContext);if(!i)throw Error("invariant global layout router not mounted");return(0,s.jsx)(w,{segmentPath:r,focusAndScrollRef:i.focusAndScrollRef,children:n})}function R(t){let{parallelRouterKey:r,url:n,childNodes:i,segmentPath:c,tree:d,cacheKey:h}=t,f=(0,a.useContext)(o.GlobalLayoutRouterContext);if(!f)throw Error("invariant global layout router not mounted");let{buildId:p,changeByServerResponse:g,tree:m}=f,_=i.get(h);if(void 0===_){let t={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null};_=t,i.set(h,t)}let b=null!==_.prefetchRsc?_.prefetchRsc:_.rsc,S=(0,a.useDeferredValue)(_.rsc,b),E="object"==typeof S&&null!==S&&"function"==typeof S.then?(0,a.use)(S):S;if(!E){let t=_.lazyData;if(null===t){let r=y(["",...c],m),i=(0,v.hasInterceptionRouteInCurrentTree)(m);_.lazyData=t=(0,l.fetchServerResponse)(new URL(n,location.origin),r,i?f.nextUrl:null,p),_.lazyDataResolved=!1}let r=(0,a.use)(t);_.lazyDataResolved||(setTimeout(()=>{(0,a.startTransition)(()=>{g({previousTree:m,serverResponse:r})})}),_.lazyDataResolved=!0),(0,a.use)(u.unresolvedThenable)}return(0,s.jsx)(o.LayoutRouterContext.Provider,{value:{tree:d[1][r],childNodes:_.parallelRoutes,url:n,loading:_.loading},children:E})}function I(t){let{children:r,hasLoading:n,loading:i,loadingStyles:o,loadingScripts:l}=t;return n?(0,s.jsx)(a.Suspense,{fallback:(0,s.jsxs)(s.Fragment,{children:[o,l,i]}),children:r}):(0,s.jsx)(s.Fragment,{children:r})}function A(t){let{parallelRouterKey:r,segmentPath:n,error:i,errorStyles:l,errorScripts:u,templateStyles:d,templateScripts:h,template:v,notFound:y,notFoundStyles:_,styles:b}=t,S=(0,a.useContext)(o.LayoutRouterContext);if(!S)throw Error("invariant expected layout router to be mounted");let{childNodes:E,tree:T,url:w,loading:A}=S,O=E.get(r);O||(O=new Map,E.set(r,O));let N=T[1][r][0],k=(0,g.getSegmentValue)(N),P=[N];return(0,s.jsxs)(s.Fragment,{children:[b,P.map(t=>{let a=(0,g.getSegmentValue)(t),b=(0,m.createRouterCacheKey)(t);return(0,s.jsxs)(o.TemplateContext.Provider,{value:(0,s.jsx)(C,{segmentPath:n,children:(0,s.jsx)(c.ErrorBoundary,{errorComponent:i,errorStyles:l,errorScripts:u,children:(0,s.jsx)(I,{hasLoading:!!A,loading:null==A?void 0:A[0],loadingStyles:null==A?void 0:A[1],loadingScripts:null==A?void 0:A[2],children:(0,s.jsx)(p.NotFoundBoundary,{notFound:y,notFoundStyles:_,children:(0,s.jsx)(f.RedirectBoundary,{children:(0,s.jsx)(R,{parallelRouterKey:r,url:w,tree:T,childNodes:O,segmentPath:n,cacheKey:b,isActive:k===a})})})})})}),children:[d,h,v]},(0,m.createRouterCacheKey)(t,!0))})]})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},22074:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{canSegmentBeOverridden:function(){return a},matchSegment:function(){return s}});let i=n(24548),s=(t,r)=>"string"==typeof t?"string"==typeof r&&t===r:"string"!=typeof r&&t[0]===r[0]&&t[1]===r[1],a=(t,r)=>{var n;return!Array.isArray(t)&&!!Array.isArray(r)&&(null==(n=(0,i.getSegmentParam)(t))?void 0:n.param)===r[0]};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18246:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{ReadonlyURLSearchParams:function(){return u.ReadonlyURLSearchParams},RedirectType:function(){return u.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},notFound:function(){return u.notFound},permanentRedirect:function(){return u.permanentRedirect},redirect:function(){return u.redirect},useParams:function(){return p},usePathname:function(){return h},useRouter:function(){return f},useSearchParams:function(){return d},useSelectedLayoutSegment:function(){return v},useSelectedLayoutSegments:function(){return m},useServerInsertedHTML:function(){return c.useServerInsertedHTML}});let i=n(95542),s=n(72644),a=n(30402),o=n(5318),l=n(90997),u=n(44871),c=n(70562);function d(){let t=(0,i.useContext)(a.SearchParamsContext),r=(0,i.useMemo)(()=>t?new u.ReadonlyURLSearchParams(t):null,[t]);{let{bailoutToClientRendering:t}=n(75319);t("useSearchParams()")}return r}function h(){return(0,i.useContext)(a.PathnameContext)}function f(){let t=(0,i.useContext)(s.AppRouterContext);if(null===t)throw Error("invariant expected app router to be mounted");return t}function p(){return(0,i.useContext)(a.PathParamsContext)}function g(t,r,n,i){let s;if(void 0===n&&(n=!0),void 0===i&&(i=[]),n)s=t[1][r];else{var a;let r=t[1];s=null!=(a=r.children)?a:Object.values(r)[0]}if(!s)return i;let u=s[0],c=(0,o.getSegmentValue)(u);return!c||c.startsWith(l.PAGE_SEGMENT_KEY)?i:(i.push(c),g(s,r,!1,i))}function m(t){void 0===t&&(t="children");let r=(0,i.useContext)(s.LayoutRouterContext);return r?g(r.tree,t):null}function v(t){void 0===t&&(t="children");let r=m(t);if(!r||0===r.length)return null;let n="children"===t?r[0]:r[r.length-1];return n===l.DEFAULT_SEGMENT_KEY?null:n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},44871:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return i.RedirectType},notFound:function(){return s.notFound},permanentRedirect:function(){return i.permanentRedirect},redirect:function(){return i.redirect}});let i=n(34350),s=n(43620);class a extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new a}delete(){throw new a}set(){throw new a}sort(){throw new a}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},71468:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NotFoundBoundary",{enumerable:!0,get:function(){return d}});let i=n(34157),s=n(23704),a=i._(n(95542)),o=n(18246),l=n(43620);n(17567);let u=n(72644);class c extends a.default.Component{componentDidCatch(){}static getDerivedStateFromError(t){if((0,l.isNotFoundError)(t))return{notFoundTriggered:!0};throw t}static getDerivedStateFromProps(t,r){return t.pathname!==r.previousPathname&&r.notFoundTriggered?{notFoundTriggered:!1,previousPathname:t.pathname}:{notFoundTriggered:r.notFoundTriggered,previousPathname:t.pathname}}render(){return this.state.notFoundTriggered?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound]}):this.props.children}constructor(t){super(t),this.state={notFoundTriggered:!!t.asNotFound,previousPathname:t.pathname}}}function d(t){let{notFound:r,notFoundStyles:n,asNotFound:i,children:l}=t,d=(0,o.usePathname)(),h=(0,a.useContext)(u.MissingSlotContext);return r?(0,s.jsx)(c,{pathname:d,notFound:r,notFoundStyles:n,asNotFound:i,missingSlots:h,children:l}):(0,s.jsx)(s.Fragment,{children:l})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},43620:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{isNotFoundError:function(){return s},notFound:function(){return i}});let n="NEXT_NOT_FOUND";function i(){let t=Error(n);throw t.digest=n,t}function s(t){return"object"==typeof t&&null!==t&&"digest"in t&&t.digest===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},23444:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PromiseQueue",{enumerable:!0,get:function(){return c}});let i=n(90372),s=n(67550);var a=s._("_maxConcurrency"),o=s._("_runningCount"),l=s._("_queue"),u=s._("_processNext");class c{enqueue(t){let r,n;let s=new Promise((t,i)=>{r=t,n=i}),a={promiseFn:s,task:async()=>{try{i._(this,o)[o]++;let n=await t();r(n)}catch(t){n(t)}finally{i._(this,o)[o]--,i._(this,u)[u]()}}};return i._(this,l)[l].push(a),i._(this,u)[u](),s}bump(t){let r=i._(this,l)[l].findIndex(r=>r.promiseFn===t);if(r>-1){let t=i._(this,l)[l].splice(r,1)[0];i._(this,l)[l].unshift(t),i._(this,u)[u](!0)}}constructor(t=5){Object.defineProperty(this,u,{value:d}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),i._(this,a)[a]=t,i._(this,o)[o]=0,i._(this,l)[l]=[]}}function d(t){if(void 0===t&&(t=!1),(i._(this,o)[o]<i._(this,a)[a]||t)&&i._(this,l)[l].length>0){var r;null==(r=i._(this,l)[l].shift())||r.task()}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},56208:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{RedirectBoundary:function(){return d},RedirectErrorBoundary:function(){return c}});let i=n(34157),s=n(23704),a=i._(n(95542)),o=n(18246),l=n(34350);function u(t){let{redirect:r,reset:n,redirectType:i}=t,s=(0,o.useRouter)();return(0,a.useEffect)(()=>{a.default.startTransition(()=>{i===l.RedirectType.push?s.push(r,{}):s.replace(r,{}),n()})},[r,i,n,s]),null}class c extends a.default.Component{static getDerivedStateFromError(t){if((0,l.isRedirectError)(t))return{redirect:(0,l.getURLFromRedirectError)(t),redirectType:(0,l.getRedirectTypeFromError)(t)};throw t}render(){let{redirect:t,redirectType:r}=this.state;return null!==t&&null!==r?(0,s.jsx)(u,{redirect:t,redirectType:r,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(t){super(t),this.state={redirect:null,redirectType:null}}}function d(t){let{children:r}=t,n=(0,o.useRouter)();return(0,s.jsx)(c,{router:n,children:r})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},71587:(t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return n}}),function(t){t[t.SeeOther=303]="SeeOther",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect"}(n||(n={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},34350:(t,r,n)=>{"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{RedirectType:function(){return i},getRedirectError:function(){return u},getRedirectStatusCodeFromError:function(){return g},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return f},isRedirectError:function(){return h},permanentRedirect:function(){return d},redirect:function(){return c}});let s=n(55403),a=n(47849),o=n(71587),l="NEXT_REDIRECT";function u(t,r,n){void 0===n&&(n=o.RedirectStatusCode.TemporaryRedirect);let i=Error(l);i.digest=l+";"+r+";"+t+";"+n+";";let a=s.requestAsyncStorage.getStore();return a&&(i.mutableCookies=a.mutableCookies),i}function c(t,r){void 0===r&&(r="replace");let n=a.actionAsyncStorage.getStore();throw u(t,r,(null==n?void 0:n.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function d(t,r){void 0===r&&(r="replace");let n=a.actionAsyncStorage.getStore();throw u(t,r,(null==n?void 0:n.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function h(t){if("object"!=typeof t||null===t||!("digest"in t)||"string"!=typeof t.digest)return!1;let[r,n,i,s]=t.digest.split(";",4),a=Number(s);return r===l&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(a)&&a in o.RedirectStatusCode}function f(t){return h(t)?t.digest.split(";",3)[2]:null}function p(t){if(!h(t))throw Error("Not a redirect error");return t.digest.split(";",2)[1]}function g(t){if(!h(t))throw Error("Not a redirect error");return Number(t.digest.split(";",4)[3])}(function(t){t.push="push",t.replace="replace"})(i||(i={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},61864:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let i=n(34157),s=n(23704),a=i._(n(95542)),o=n(72644);function l(){let t=(0,a.useContext)(o.TemplateContext);return(0,s.jsx)(s.Fragment,{children:t})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},38880:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"applyFlightData",{enumerable:!0,get:function(){return a}});let i=n(33663),s=n(8163);function a(t,r,n,a){let[o,l,u]=n.slice(-3);if(null===l)return!1;if(3===n.length){let n=l[2],s=l[3];r.loading=s,r.rsc=n,r.prefetchRsc=null,(0,i.fillLazyItemsTillLeafWithHead)(r,t,o,l,u,a)}else r.rsc=t.rsc,r.prefetchRsc=t.prefetchRsc,r.parallelRoutes=new Map(t.parallelRoutes),r.loading=t.loading,(0,s.fillCacheWithNewSubTreeData)(r,t,n,a);return!0}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},51998:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return l}});let i=n(90997),s=n(22074),a=n(14307);function o(t,r,n){let[a,l]=t,[u,c]=r;if(u===i.DEFAULT_SEGMENT_KEY&&a!==i.DEFAULT_SEGMENT_KEY)return t;if((0,s.matchSegment)(a,u)){let r={};for(let t in l)void 0!==c[t]?r[t]=o(l[t],c[t],n):r[t]=l[t];for(let t in c)r[t]||(r[t]=c[t]);let i=[a,r];return t[2]&&(i[2]=t[2]),t[3]&&(i[3]=t[3]),t[4]&&(i[4]=t[4]),i}return r}function l(t,r,n,i){let u;let[c,d,h,f,p]=r;if(1===t.length){let s=o(r,n,t);return(0,a.addRefreshMarkerToActiveParallelSegments)(s,i),s}let[g,m]=t;if(!(0,s.matchSegment)(g,c))return null;if(2===t.length)u=o(d[m],n,t);else if(null===(u=l(t.slice(2),d[m],n,i)))return null;let v=[t[0],{...d,[m]:u},h,f];return p&&(v[4]=!0),(0,a.addRefreshMarkerToActiveParallelSegments)(v,i),v}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},57669:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"clearCacheNodeDataForSegmentPath",{enumerable:!0,get:function(){return s}});let i=n(55272);function s(t,r,n){let a=n.length<=2,[o,l]=n,u=(0,i.createRouterCacheKey)(l),c=r.parallelRoutes.get(o),d=t.parallelRoutes.get(o);d&&d!==c||(d=new Map(c),t.parallelRoutes.set(o,d));let h=null==c?void 0:c.get(u),f=d.get(u);if(a){f&&f.lazyData&&f!==h||d.set(u,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null});return}if(!f||!h){f||d.set(u,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null});return}return f===h&&(f={lazyData:f.lazyData,rsc:f.rsc,prefetchRsc:f.prefetchRsc,head:f.head,prefetchHead:f.prefetchHead,parallelRoutes:new Map(f.parallelRoutes),lazyDataResolved:f.lazyDataResolved,loading:f.loading},d.set(u,f)),s(f,h,n.slice(2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},42281:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{computeChangedPath:function(){return h},extractPathFromFlightRouterState:function(){return c}});let i=n(85744),s=n(90997),a=n(22074),o=t=>"/"===t[0]?t.slice(1):t,l=t=>"string"==typeof t?"children"===t?"":t:t[1];function u(t){return t.reduce((t,r)=>""===(r=o(r))||(0,s.isGroupSegment)(r)?t:t+"/"+r,"")||"/"}function c(t){var r;let n=Array.isArray(t[0])?t[0][1]:t[0];if(n===s.DEFAULT_SEGMENT_KEY||i.INTERCEPTION_ROUTE_MARKERS.some(t=>n.startsWith(t)))return;if(n.startsWith(s.PAGE_SEGMENT_KEY))return"";let a=[l(n)],o=null!=(r=t[1])?r:{},d=o.children?c(o.children):void 0;if(void 0!==d)a.push(d);else for(let[t,r]of Object.entries(o)){if("children"===t)continue;let n=c(r);void 0!==n&&a.push(n)}return u(a)}function d(t,r){let[n,s]=t,[o,u]=r,h=l(n),f=l(o);if(i.INTERCEPTION_ROUTE_MARKERS.some(t=>h.startsWith(t)||f.startsWith(t)))return"";if(!(0,a.matchSegment)(n,o)){var p;return null!=(p=c(r))?p:""}for(let t in s)if(u[t]){let r=d(s[t],u[t]);if(null!==r)return l(o)+"/"+r}return null}function h(t,r){let n=d(t,r);return null==n||"/"===n?n:u(n.split("/"))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},84848:(t,r)=>{"use strict";function n(t,r){return void 0===r&&(r=!0),t.pathname+t.search+(r?t.hash:"")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createHrefFromUrl",{enumerable:!0,get:function(){return n}}),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},34674:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createInitialRouterState",{enumerable:!0,get:function(){return c}});let i=n(84848),s=n(33663),a=n(42281),o=n(65366),l=n(39851),u=n(14307);function c(t){var r;let{buildId:n,initialTree:c,initialSeedData:d,initialCanonicalUrl:h,initialParallelRoutes:f,location:p,initialHead:g,couldBeIntercepted:m}=t,v=!p,y={lazyData:null,rsc:d[2],prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:v?new Map:f,lazyDataResolved:!1,loading:d[3]},_=p?(0,i.createHrefFromUrl)(p):h;(0,u.addRefreshMarkerToActiveParallelSegments)(c,_);let b=new Map;(null===f||0===f.size)&&(0,s.fillLazyItemsTillLeafWithHead)(y,void 0,c,d,g);let S={buildId:n,tree:c,cache:y,prefetchCache:b,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:_,nextUrl:null!=(r=(0,a.extractPathFromFlightRouterState)(c)||(null==p?void 0:p.pathname))?r:null};if(p){let t=new URL(""+p.pathname+p.search,p.origin),r=[["",c,null,null]];(0,o.createPrefetchCacheEntryForInitialLoad)({url:t,kind:l.PrefetchKind.AUTO,data:[r,void 0,!1,m],tree:S.tree,prefetchCache:S.prefetchCache,nextUrl:S.nextUrl})}return S}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},55272:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createRouterCacheKey",{enumerable:!0,get:function(){return s}});let i=n(90997);function s(t,r){return(void 0===r&&(r=!1),Array.isArray(t))?t[0]+"|"+t[1]+"|"+t[2]:r&&t.startsWith(i.PAGE_SEGMENT_KEY)?i.PAGE_SEGMENT_KEY:t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},51569:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"fetchServerResponse",{enumerable:!0,get:function(){return d}});let i=n(32445),s=n(27070),a=n(5448),o=n(39851),l=n(43929),{createFromFetch:u}=n(39135);function c(t){return[(0,s.urlToUrlWithoutFlightMarker)(t).toString(),void 0,!1,!1]}async function d(t,r,n,d,h){let f={[i.RSC_HEADER]:"1",[i.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(r))};h===o.PrefetchKind.AUTO&&(f[i.NEXT_ROUTER_PREFETCH_HEADER]="1"),n&&(f[i.NEXT_URL]=n);let p=(0,l.hexHash)([f[i.NEXT_ROUTER_PREFETCH_HEADER]||"0",f[i.NEXT_ROUTER_STATE_TREE],f[i.NEXT_URL]].join(","));try{var g;let r=new URL(t);r.pathname.endsWith("/")?r.pathname+="index.txt":r.pathname+=".txt",r.searchParams.set(i.NEXT_RSC_UNION_QUERY,p);let n=await fetch(r,{credentials:"same-origin",headers:f}),o=(0,s.urlToUrlWithoutFlightMarker)(n.url),l=n.redirected?o:void 0,h=n.headers.get("content-type")||"",m=!!n.headers.get(i.NEXT_DID_POSTPONE_HEADER),v=!!(null==(g=n.headers.get("vary"))?void 0:g.includes(i.NEXT_URL)),y=h===i.RSC_CONTENT_TYPE_HEADER;if(y||(y=h.startsWith("text/plain")),!y||!n.ok)return t.hash&&(o.hash=t.hash),c(o.toString());let[_,b]=await u(Promise.resolve(n),{callServer:a.callServer});if(d!==_)return c(n.url);return[b,l,m,v]}catch(r){return console.error("Failed to fetch RSC payload for "+t+". Falling back to browser navigation.",r),[t.toString(),void 0,!1,!1]}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},8163:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"fillCacheWithNewSubTreeData",{enumerable:!0,get:function(){return o}});let i=n(738),s=n(33663),a=n(55272);function o(t,r,n,l){let u=n.length<=5,[c,d]=n,h=(0,a.createRouterCacheKey)(d),f=r.parallelRoutes.get(c);if(!f)return;let p=t.parallelRoutes.get(c);p&&p!==f||(p=new Map(f),t.parallelRoutes.set(c,p));let g=f.get(h),m=p.get(h);if(u){if(!m||!m.lazyData||m===g){let t=n[3];m={lazyData:null,rsc:t[2],prefetchRsc:null,head:null,prefetchHead:null,loading:t[3],parallelRoutes:g?new Map(g.parallelRoutes):new Map,lazyDataResolved:!1},g&&(0,i.invalidateCacheByRouterState)(m,g,n[2]),(0,s.fillLazyItemsTillLeafWithHead)(m,g,n[2],t,n[4],l),p.set(h,m)}return}m&&g&&(m===g&&(m={lazyData:m.lazyData,rsc:m.rsc,prefetchRsc:m.prefetchRsc,head:m.head,prefetchHead:m.prefetchHead,parallelRoutes:new Map(m.parallelRoutes),lazyDataResolved:!1,loading:m.loading},p.set(h,m)),o(m,g,n.slice(2),l))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},33663:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return a}});let i=n(55272),s=n(39851);function a(t,r,n,o,l,u){if(0===Object.keys(n[1]).length){t.head=l;return}for(let c in n[1]){let d;let h=n[1][c],f=h[0],p=(0,i.createRouterCacheKey)(f),g=null!==o&&void 0!==o[1][c]?o[1][c]:null;if(r){let n=r.parallelRoutes.get(c);if(n){let r;let i=(null==u?void 0:u.kind)==="auto"&&u.status===s.PrefetchCacheEntryStatus.reusable,o=new Map(n),d=o.get(p);r=null!==g?{lazyData:null,rsc:g[2],prefetchRsc:null,head:null,prefetchHead:null,loading:g[3],parallelRoutes:new Map(null==d?void 0:d.parallelRoutes),lazyDataResolved:!1}:i&&d?{lazyData:d.lazyData,rsc:d.rsc,prefetchRsc:d.prefetchRsc,head:d.head,prefetchHead:d.prefetchHead,parallelRoutes:new Map(d.parallelRoutes),lazyDataResolved:d.lazyDataResolved,loading:d.loading}:{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map(null==d?void 0:d.parallelRoutes),lazyDataResolved:!1,loading:null},o.set(p,r),a(r,d,h,g||null,l,u),t.parallelRoutes.set(c,o);continue}}if(null!==g){let t=g[2],r=g[3];d={lazyData:null,rsc:t,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:r}}else d={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null};let m=t.parallelRoutes.get(c);m?m.set(p,d):t.parallelRoutes.set(c,new Map([[p,d]])),a(d,void 0,h,g,l,u)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},80943:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"handleMutable",{enumerable:!0,get:function(){return a}});let i=n(42281);function s(t){return void 0!==t}function a(t,r){var n,a,o;let l=null==(a=r.shouldScroll)||a,u=t.nextUrl;if(s(r.patchedTree)){let n=(0,i.computeChangedPath)(t.tree,r.patchedTree);n?u=n:u||(u=t.canonicalUrl)}return{buildId:t.buildId,canonicalUrl:s(r.canonicalUrl)?r.canonicalUrl===t.canonicalUrl?t.canonicalUrl:r.canonicalUrl:t.canonicalUrl,pushRef:{pendingPush:s(r.pendingPush)?r.pendingPush:t.pushRef.pendingPush,mpaNavigation:s(r.mpaNavigation)?r.mpaNavigation:t.pushRef.mpaNavigation,preserveCustomHistoryState:s(r.preserveCustomHistoryState)?r.preserveCustomHistoryState:t.pushRef.preserveCustomHistoryState},focusAndScrollRef:{apply:!!l&&(!!s(null==r?void 0:r.scrollableSegments)||t.focusAndScrollRef.apply),onlyHashChange:!!r.hashFragment&&t.canonicalUrl.split("#",1)[0]===(null==(n=r.canonicalUrl)?void 0:n.split("#",1)[0]),hashFragment:l?r.hashFragment&&""!==r.hashFragment?decodeURIComponent(r.hashFragment.slice(1)):t.focusAndScrollRef.hashFragment:null,segmentPaths:l?null!=(o=null==r?void 0:r.scrollableSegments)?o:t.focusAndScrollRef.segmentPaths:[]},cache:r.cache?r.cache:t.cache,prefetchCache:r.prefetchCache?r.prefetchCache:t.prefetchCache,tree:s(r.patchedTree)?r.patchedTree:t.tree,nextUrl:u}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},43129:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"handleSegmentMismatch",{enumerable:!0,get:function(){return s}});let i=n(9243);function s(t,r,n){return(0,i.handleExternalUrl)(t,{},t.canonicalUrl,!0)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},95415:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return s}});let i=n(55272);function s(t,r,n){let a=n.length<=2,[o,l]=n,u=(0,i.createRouterCacheKey)(l),c=r.parallelRoutes.get(o);if(!c)return;let d=t.parallelRoutes.get(o);if(d&&d!==c||(d=new Map(c),t.parallelRoutes.set(o,d)),a){d.delete(u);return}let h=c.get(u),f=d.get(u);f&&h&&(f===h&&(f={lazyData:f.lazyData,rsc:f.rsc,prefetchRsc:f.prefetchRsc,head:f.head,prefetchHead:f.prefetchHead,parallelRoutes:new Map(f.parallelRoutes),lazyDataResolved:f.lazyDataResolved},d.set(u,f)),s(f,h,n.slice(2)))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},738:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return s}});let i=n(55272);function s(t,r,n){for(let s in n[1]){let a=n[1][s][0],o=(0,i.createRouterCacheKey)(a),l=r.parallelRoutes.get(s);if(l){let r=new Map(l);r.delete(o),t.parallelRoutes.set(s,r)}}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94946:(t,r)=>{"use strict";function n(t,r){let i=t[0],s=r[0];if(Array.isArray(i)&&Array.isArray(s)){if(i[0]!==s[0]||i[2]!==s[2])return!0}else if(i!==s)return!0;if(t[4])return!r[4];if(r[4])return!0;let a=Object.values(t[1])[0],o=Object.values(r[1])[0];return!a||!o||n(a,o)}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return n}}),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},74145:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{abortTask:function(){return v},listenForDynamicRequest:function(){return h},updateCacheNodeOnNavigation:function(){return o},updateCacheNodeOnPopstateRestoration:function(){return _}});let i=n(90997),s=n(22074),a=n(55272);function o(t,r,n,h,f){let p=r[1],g=n[1],m=h[1],v=t.parallelRoutes,y=new Map(v),_={},b=null;for(let t in g){let r;let n=g[t],l=p[t],h=v.get(t),S=m[t],E=n[0],T=(0,a.createRouterCacheKey)(E),w=void 0!==l?l[0]:void 0,C=void 0!==h?h.get(T):void 0;if(null!==(r=E===i.PAGE_SEGMENT_KEY?u(n,void 0!==S?S:null,f):E===i.DEFAULT_SEGMENT_KEY?void 0!==l?c(l):u(n,void 0!==S?S:null,f):void 0!==w&&(0,s.matchSegment)(E,w)&&void 0!==C&&void 0!==l?null!=S?o(C,l,n,S,f):d(n):u(n,void 0!==S?S:null,f))){null===b&&(b=new Map),b.set(t,r);let n=r.node;if(null!==n){let r=new Map(h);r.set(T,n),y.set(t,r)}_[t]=r.route}else _[t]=n}if(null===b)return null;let S={lazyData:null,rsc:t.rsc,prefetchRsc:t.prefetchRsc,head:t.head,prefetchHead:t.prefetchHead,loading:t.loading,parallelRoutes:y,lazyDataResolved:!1};return{route:l(n,_),node:S,children:b}}function l(t,r){let n=[t[0],r];return 2 in t&&(n[2]=t[2]),3 in t&&(n[3]=t[3]),4 in t&&(n[4]=t[4]),n}function u(t,r,n){let i=g(t,r,n);return{route:t,node:i,children:null}}function c(t){return{route:t,node:null,children:null}}function d(t){let r=g(t,null,null);return{route:t,node:r,children:null}}function h(t,r){r.then(r=>{for(let n of r[0]){let r=n.slice(0,-3),i=n[n.length-3],s=n[n.length-2],a=n[n.length-1];"string"!=typeof r&&f(t,r,i,s,a)}v(t,null)},r=>{v(t,r)})}function f(t,r,n,i,a){let o=t;for(let t=0;t<r.length;t+=2){let n=r[t],i=r[t+1],a=o.children;if(null!==a){let t=a.get(n);if(void 0!==t){let r=t.route[0];if((0,s.matchSegment)(i,r)){o=t;continue}}}return}p(o,n,i,a)}function p(t,r,n,i){let a=t.children,o=t.node;if(null===a){null!==o&&(m(o,t.route,r,n,i),t.node=null);return}let l=r[1],u=n[1];for(let t in r){let r=l[t],n=u[t],o=a.get(t);if(void 0!==o){let t=o.route[0];if((0,s.matchSegment)(r[0],t)&&null!=n)return p(o,r,n,i)}}}function g(t,r,n){let i=t[1],s=null!==r?r[1]:null,o=new Map;for(let t in i){let r=i[t],l=null!==s?s[t]:null,u=r[0],c=(0,a.createRouterCacheKey)(u),d=g(r,void 0===l?null:l,n),h=new Map;h.set(c,d),o.set(t,h)}let l=0===o.size,u=null!==r?r[2]:null,c=null!==r?r[3]:null;return{lazyData:null,parallelRoutes:o,prefetchRsc:void 0!==u?u:null,prefetchHead:l?n:null,loading:void 0!==c?c:null,rsc:E(),head:l?E():null,lazyDataResolved:!1}}function m(t,r,n,i,o){let l=r[1],u=n[1],c=i[1],d=t.parallelRoutes;for(let t in l){let r=l[t],n=u[t],i=c[t],h=d.get(t),f=r[0],p=(0,a.createRouterCacheKey)(f),g=void 0!==h?h.get(p):void 0;void 0!==g&&(void 0!==n&&(0,s.matchSegment)(f,n[0])&&null!=i?m(g,r,n,i,o):y(r,g,null))}let h=t.rsc,f=i[2];null===h?t.rsc=f:S(h)&&h.resolve(f);let p=t.head;S(p)&&p.resolve(o)}function v(t,r){let n=t.node;if(null===n)return;let i=t.children;if(null===i)y(t.route,n,r);else for(let t of i.values())v(t,r);t.node=null}function y(t,r,n){let i=t[1],s=r.parallelRoutes;for(let t in i){let r=i[t],o=s.get(t);if(void 0===o)continue;let l=r[0],u=(0,a.createRouterCacheKey)(l),c=o.get(u);void 0!==c&&y(r,c,n)}let o=r.rsc;S(o)&&(null===n?o.resolve(null):o.reject(n));let l=r.head;S(l)&&l.resolve(null)}function _(t,r){let n=r[1],i=t.parallelRoutes,s=new Map(i);for(let t in n){let r=n[t],o=r[0],l=(0,a.createRouterCacheKey)(o),u=i.get(t);if(void 0!==u){let n=u.get(l);if(void 0!==n){let i=_(n,r),a=new Map(u);a.set(l,i),s.set(t,a)}}}let o=t.rsc,l=S(o)&&"pending"===o.status;return{lazyData:null,rsc:o,head:t.head,prefetchHead:l?t.prefetchHead:null,prefetchRsc:l?t.prefetchRsc:null,loading:l?t.loading:null,parallelRoutes:s,lazyDataResolved:!1}}let b=Symbol();function S(t){return t&&t.tag===b}function E(){let t,r;let n=new Promise((n,i)=>{t=n,r=i});return n.status="pending",n.resolve=r=>{if("pending"===n.status){let i=n;i.status="fulfilled",i.value=r,t(r)}},n.reject=t=>{if("pending"===n.status){let i=n;i.status="rejected",i.reason=t,r(t)}},n.tag=b,n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},65366:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{createPrefetchCacheEntryForInitialLoad:function(){return d},getOrCreatePrefetchCacheEntry:function(){return u},prunePrefetchCache:function(){return f}});let i=n(84848),s=n(51569),a=n(39851),o=n(63725);function l(t,r){let n=(0,i.createHrefFromUrl)(t,!1);return r?r+"%"+n:n}function u(t){let r,{url:n,nextUrl:i,tree:s,buildId:o,prefetchCache:u,kind:c}=t,d=l(n,i),f=u.get(d);if(f)r=f;else{let t=l(n),i=u.get(t);i&&(r=i)}return r?(r.status=m(r),r.kind!==a.PrefetchKind.FULL&&c===a.PrefetchKind.FULL)?h({tree:s,url:n,buildId:o,nextUrl:i,prefetchCache:u,kind:null!=c?c:a.PrefetchKind.TEMPORARY}):(c&&r.kind===a.PrefetchKind.TEMPORARY&&(r.kind=c),r):h({tree:s,url:n,buildId:o,nextUrl:i,prefetchCache:u,kind:c||a.PrefetchKind.TEMPORARY})}function c(t){let{url:r,nextUrl:n,prefetchCache:i}=t,s=l(r),a=i.get(s);if(!a)return;let o=l(r,n);i.set(o,a),i.delete(s)}function d(t){let{nextUrl:r,tree:n,prefetchCache:i,url:s,kind:o,data:u}=t,[,,,c]=u,d=c?l(s,r):l(s),h={treeAtTimeOfPrefetch:n,data:Promise.resolve(u),kind:o,prefetchTime:Date.now(),lastUsedTime:Date.now(),key:d,status:a.PrefetchCacheEntryStatus.fresh};return i.set(d,h),h}function h(t){let{url:r,kind:n,tree:i,nextUrl:u,buildId:d,prefetchCache:h}=t,f=l(r),p=o.prefetchQueue.enqueue(()=>(0,s.fetchServerResponse)(r,i,u,d,n).then(t=>{let[,,,n]=t;return n&&c({url:r,nextUrl:u,prefetchCache:h}),t})),g={treeAtTimeOfPrefetch:i,data:p,kind:n,prefetchTime:Date.now(),lastUsedTime:null,key:f,status:a.PrefetchCacheEntryStatus.fresh};return h.set(f,g),g}function f(t){for(let[r,n]of t)m(n)===a.PrefetchCacheEntryStatus.expired&&t.delete(r)}let p=1e3*Number("30"),g=1e3*Number("300");function m(t){let{kind:r,prefetchTime:n,lastUsedTime:i}=t;return Date.now()<(null!=i?i:n)+p?i?a.PrefetchCacheEntryStatus.reusable:a.PrefetchCacheEntryStatus.fresh:"auto"===r&&Date.now()<n+g?a.PrefetchCacheEntryStatus.stale:"full"===r&&Date.now()<n+g?a.PrefetchCacheEntryStatus.reusable:a.PrefetchCacheEntryStatus.expired}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},36762:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"fastRefreshReducer",{enumerable:!0,get:function(){return i}}),n(51569),n(84848),n(51998),n(94946),n(9243),n(80943),n(38880),n(27070),n(43129),n(52261);let i=function(t,r){return t};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},92675:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findHeadInCache",{enumerable:!0,get:function(){return s}});let i=n(55272);function s(t,r){return a(t,r,"")}function a(t,r,n){if(0===Object.keys(r).length)return[t,n];for(let s in r){let[o,l]=r[s],u=t.parallelRoutes.get(s);if(!u)continue;let c=(0,i.createRouterCacheKey)(o),d=u.get(c);if(!d)continue;let h=a(d,l,n+"/"+c);if(h)return h}return null}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},5318:(t,r)=>{"use strict";function n(t){return Array.isArray(t)?t[1]:t}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getSegmentValue",{enumerable:!0,get:function(){return n}}),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},52261:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"hasInterceptionRouteInCurrentTree",{enumerable:!0,get:function(){return s}});let i=n(85744);function s(t){let[r,n]=t;if(Array.isArray(r)&&("di"===r[2]||"ci"===r[2])||"string"==typeof r&&(0,i.isInterceptionRouteAppPath)(r))return!0;if(n){for(let t in n)if(s(n[t]))return!0}return!1}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},9243:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{handleExternalUrl:function(){return v},navigateReducer:function(){return b}}),n(51569);let i=n(84848),s=n(95415),a=n(51998),o=n(14327),l=n(94946),u=n(39851),c=n(80943),d=n(38880),h=n(63725),f=n(27070),p=n(90997),g=(n(74145),n(65366)),m=n(57669);function v(t,r,n,i){return r.mpaNavigation=!0,r.canonicalUrl=n,r.pendingPush=i,r.scrollableSegments=void 0,(0,c.handleMutable)(t,r)}function y(t){let r=[],[n,i]=t;if(0===Object.keys(i).length)return[[n]];for(let[t,s]of Object.entries(i))for(let i of y(s))""===n?r.push([t,...i]):r.push([n,t,...i]);return r}function _(t,r,n,i){let s=!1;for(let a of(t.rsc=r.rsc,t.prefetchRsc=r.prefetchRsc,t.loading=r.loading,t.parallelRoutes=new Map(r.parallelRoutes),y(i).map(t=>[...n,...t])))(0,m.clearCacheNodeDataForSegmentPath)(t,r,a),s=!0;return s}let b=S;function S(t,r){let{url:n,isExternalUrl:m,navigateType:b,shouldScroll:S}=r,E={},{hash:T}=n,w=(0,i.createHrefFromUrl)(n),C="push"===b;if((0,g.prunePrefetchCache)(t.prefetchCache),E.preserveCustomHistoryState=!1,m)return v(t,E,n.toString(),C);let R=(0,g.getOrCreatePrefetchCacheEntry)({url:n,nextUrl:t.nextUrl,tree:t.tree,buildId:t.buildId,prefetchCache:t.prefetchCache}),{treeAtTimeOfPrefetch:I,data:A}=R;return h.prefetchQueue.bump(A),A.then(r=>{let[n,h]=r,g=!1;if(R.lastUsedTime||(R.lastUsedTime=Date.now(),g=!0),"string"==typeof n)return v(t,E,n,C);if(document.getElementById("__next-page-redirect"))return v(t,E,w,C);let m=t.tree,b=t.cache,A=[];for(let r of n){let n=r.slice(0,-4),i=r.slice(-3)[0],c=["",...n],h=(0,a.applyRouterStatePatchToTree)(c,m,i,w);if(null===h&&(h=(0,a.applyRouterStatePatchToTree)(c,I,i,w)),null!==h){if((0,l.isNavigatingToNewRootLayout)(m,h))return v(t,E,w,C);let a=(0,f.createEmptyCacheNode)(),S=!1;for(let t of(R.status!==u.PrefetchCacheEntryStatus.stale||g?S=(0,d.applyFlightData)(b,a,r,R):(S=_(a,b,n,i),R.lastUsedTime=Date.now()),(0,o.shouldHardNavigate)(c,m)?(a.rsc=b.rsc,a.prefetchRsc=b.prefetchRsc,(0,s.invalidateCacheBelowFlightSegmentPath)(a,b,n),E.cache=a):S&&(E.cache=a,b=a),m=h,y(i))){let r=[...n,...t];r[r.length-1]!==p.DEFAULT_SEGMENT_KEY&&A.push(r)}}}return E.patchedTree=m,E.canonicalUrl=h?(0,i.createHrefFromUrl)(h):w,E.pendingPush=C,E.scrollableSegments=A,E.hashFragment=T,E.shouldScroll=S,(0,c.handleMutable)(t,E)},()=>t)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},63725:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{prefetchQueue:function(){return o},prefetchReducer:function(){return l}});let i=n(32445),s=n(23444),a=n(65366),o=new s.PromiseQueue(5);function l(t,r){(0,a.prunePrefetchCache)(t.prefetchCache);let{url:n}=r;return n.searchParams.delete(i.NEXT_RSC_UNION_QUERY),(0,a.getOrCreatePrefetchCacheEntry)({url:n,nextUrl:t.nextUrl,prefetchCache:t.prefetchCache,kind:r.kind,tree:t.tree,buildId:t.buildId}),t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},55302:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"refreshReducer",{enumerable:!0,get:function(){return g}});let i=n(51569),s=n(84848),a=n(51998),o=n(94946),l=n(9243),u=n(80943),c=n(33663),d=n(27070),h=n(43129),f=n(52261),p=n(14307);function g(t,r){let{origin:n}=r,g={},m=t.canonicalUrl,v=t.tree;g.preserveCustomHistoryState=!1;let y=(0,d.createEmptyCacheNode)(),_=(0,f.hasInterceptionRouteInCurrentTree)(t.tree);return y.lazyData=(0,i.fetchServerResponse)(new URL(m,n),[v[0],v[1],v[2],"refetch"],_?t.nextUrl:null,t.buildId),y.lazyData.then(async n=>{let[i,d]=n;if("string"==typeof i)return(0,l.handleExternalUrl)(t,g,i,t.pushRef.pendingPush);for(let n of(y.lazyData=null,i)){if(3!==n.length)return console.log("REFRESH FAILED"),t;let[i]=n,u=(0,a.applyRouterStatePatchToTree)([""],v,i,t.canonicalUrl);if(null===u)return(0,h.handleSegmentMismatch)(t,r,i);if((0,o.isNavigatingToNewRootLayout)(v,u))return(0,l.handleExternalUrl)(t,g,m,t.pushRef.pendingPush);let f=d?(0,s.createHrefFromUrl)(d):void 0;d&&(g.canonicalUrl=f);let[b,S]=n.slice(-2);if(null!==b){let t=b[2];y.rsc=t,y.prefetchRsc=null,(0,c.fillLazyItemsTillLeafWithHead)(y,void 0,i,b,S),g.prefetchCache=new Map}await (0,p.refreshInactiveParallelSegments)({state:t,updatedTree:u,updatedCache:y,includeNextUrl:_,canonicalUrl:g.canonicalUrl||t.canonicalUrl}),g.cache=y,g.patchedTree=u,g.canonicalUrl=m,v=u}return(0,u.handleMutable)(t,g)},()=>t)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},66722:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"restoreReducer",{enumerable:!0,get:function(){return a}});let i=n(84848),s=n(42281);function a(t,r){var n;let{url:a,tree:o}=r,l=(0,i.createHrefFromUrl)(a),u=o||t.tree,c=t.cache;return{buildId:t.buildId,canonicalUrl:l,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:t.focusAndScrollRef,cache:c,prefetchCache:t.prefetchCache,tree:u,nextUrl:null!=(n=(0,s.extractPathFromFlightRouterState)(u))?n:a.pathname}}n(74145),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},3129:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"serverActionReducer",{enumerable:!0,get:function(){return b}});let i=n(5448),s=n(32445),a=n(80576),o=n(84848),l=n(9243),u=n(51998),c=n(94946),d=n(80943),h=n(33663),f=n(27070),p=n(52261),g=n(43129),m=n(14307),{createFromFetch:v,encodeReply:y}=n(39135);async function _(t,r,n){let o,{actionId:l,actionArgs:u}=n,c=await y(u),d=await fetch("",{method:"POST",headers:{Accept:s.RSC_CONTENT_TYPE_HEADER,[s.ACTION]:l,[s.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(t.tree)),...r?{[s.NEXT_URL]:r}:{}},body:c}),h=d.headers.get("x-action-redirect");try{let t=JSON.parse(d.headers.get("x-action-revalidated")||"[[],0,0]");o={paths:t[0]||[],tag:!!t[1],cookie:t[2]}}catch(t){o={paths:[],tag:!1,cookie:!1}}let f=h?new URL((0,a.addBasePath)(h),new URL(t.canonicalUrl,window.location.href)):void 0;if(d.headers.get("content-type")===s.RSC_CONTENT_TYPE_HEADER){let t=await v(Promise.resolve(d),{callServer:i.callServer});if(h){let[,r]=null!=t?t:[];return{actionFlightData:r,redirectLocation:f,revalidatedParts:o}}let[r,[,n]]=null!=t?t:[];return{actionResult:r,actionFlightData:n,redirectLocation:f,revalidatedParts:o}}return{redirectLocation:f,revalidatedParts:o}}function b(t,r){let{resolve:n,reject:i}=r,s={},a=t.canonicalUrl,v=t.tree;s.preserveCustomHistoryState=!1;let y=t.nextUrl&&(0,p.hasInterceptionRouteInCurrentTree)(t.tree)?t.nextUrl:null;return s.inFlightServerAction=_(t,y,r),s.inFlightServerAction.then(async i=>{let{actionResult:p,actionFlightData:_,redirectLocation:b}=i;if(b&&(t.pushRef.pendingPush=!0,s.pendingPush=!0),!_)return(n(p),b)?(0,l.handleExternalUrl)(t,s,b.href,t.pushRef.pendingPush):t;if("string"==typeof _)return(0,l.handleExternalUrl)(t,s,_,t.pushRef.pendingPush);if(s.inFlightServerAction=null,b){let t=(0,o.createHrefFromUrl)(b,!1);s.canonicalUrl=t}for(let n of _){if(3!==n.length)return console.log("SERVER ACTION APPLY FAILED"),t;let[i]=n,d=(0,u.applyRouterStatePatchToTree)([""],v,i,b?(0,o.createHrefFromUrl)(b):t.canonicalUrl);if(null===d)return(0,g.handleSegmentMismatch)(t,r,i);if((0,c.isNavigatingToNewRootLayout)(v,d))return(0,l.handleExternalUrl)(t,s,a,t.pushRef.pendingPush);let[p,_]=n.slice(-2),S=null!==p?p[2]:null;if(null!==S){let r=(0,f.createEmptyCacheNode)();r.rsc=S,r.prefetchRsc=null,(0,h.fillLazyItemsTillLeafWithHead)(r,void 0,i,p,_),await (0,m.refreshInactiveParallelSegments)({state:t,updatedTree:d,updatedCache:r,includeNextUrl:!!y,canonicalUrl:s.canonicalUrl||t.canonicalUrl}),s.cache=r,s.prefetchCache=new Map}s.patchedTree=d,v=d}return n(p),(0,d.handleMutable)(t,s)},r=>(i(r),t))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},61399:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"serverPatchReducer",{enumerable:!0,get:function(){return h}});let i=n(84848),s=n(51998),a=n(94946),o=n(9243),l=n(38880),u=n(80943),c=n(27070),d=n(43129);function h(t,r){let{serverResponse:n}=r,[h,f]=n,p={};if(p.preserveCustomHistoryState=!1,"string"==typeof h)return(0,o.handleExternalUrl)(t,p,h,t.pushRef.pendingPush);let g=t.tree,m=t.cache;for(let n of h){let u=n.slice(0,-4),[h]=n.slice(-3,-2),v=(0,s.applyRouterStatePatchToTree)(["",...u],g,h,t.canonicalUrl);if(null===v)return(0,d.handleSegmentMismatch)(t,r,h);if((0,a.isNavigatingToNewRootLayout)(g,v))return(0,o.handleExternalUrl)(t,p,t.canonicalUrl,t.pushRef.pendingPush);let y=f?(0,i.createHrefFromUrl)(f):void 0;y&&(p.canonicalUrl=y);let _=(0,c.createEmptyCacheNode)();(0,l.applyFlightData)(m,_,n),p.patchedTree=v,p.cache=_,m=_,g=v}return(0,u.handleMutable)(t,p)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},14307:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{addRefreshMarkerToActiveParallelSegments:function(){return u},refreshInactiveParallelSegments:function(){return o}});let i=n(38880),s=n(51569),a=n(90997);async function o(t){let r=new Set;await l({...t,rootTree:t.updatedTree,fetchedSegments:r})}async function l(t){let{state:r,updatedTree:n,updatedCache:a,includeNextUrl:o,fetchedSegments:u,rootTree:c=n,canonicalUrl:d}=t,[,h,f,p]=n,g=[];if(f&&f!==d&&"refresh"===p&&!u.has(f)){u.add(f);let t=(0,s.fetchServerResponse)(new URL(f,location.origin),[c[0],c[1],c[2],"refetch"],o?r.nextUrl:null,r.buildId).then(t=>{let r=t[0];if("string"!=typeof r)for(let t of r)(0,i.applyFlightData)(a,a,t)});g.push(t)}for(let t in h){let n=l({state:r,updatedTree:h[t],updatedCache:a,includeNextUrl:o,fetchedSegments:u,rootTree:c,canonicalUrl:d});g.push(n)}await Promise.all(g)}function u(t,r){let[n,i,,s]=t;for(let o in n.includes(a.PAGE_SEGMENT_KEY)&&"refresh"!==s&&(t[2]=r,t[3]="refresh"),i)u(i[o],r)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},39851:(t,r)=>{"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{ACTION_FAST_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return a},ACTION_PREFETCH:function(){return u},ACTION_REFRESH:function(){return s},ACTION_RESTORE:function(){return o},ACTION_SERVER_ACTION:function(){return d},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return i},PrefetchKind:function(){return n},isThenable:function(){return h}});let s="refresh",a="navigate",o="restore",l="server-patch",u="prefetch",c="fast-refresh",d="server-action";function h(t){return t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}(function(t){t.AUTO="auto",t.FULL="full",t.TEMPORARY="temporary"})(n||(n={})),function(t){t.fresh="fresh",t.reusable="reusable",t.expired="expired",t.stale="stale"}(i||(i={})),("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},92988:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"reducer",{enumerable:!0,get:function(){return i}}),n(39851),n(9243),n(61399),n(66722),n(55302),n(63725),n(36762),n(3129);let i=function(t,r){return t};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},14327:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"shouldHardNavigate",{enumerable:!0,get:function(){return s}});let i=n(22074);function s(t,r){let[n,a]=r,[o,l]=t;return(0,i.matchSegment)(o,n)?!(t.length<=2)&&s(t.slice(2),a[l]):!!Array.isArray(o)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},57958:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{createDynamicallyTrackedSearchParams:function(){return l},createUntrackedSearchParams:function(){return o}});let i=n(94749),s=n(19147),a=n(31243);function o(t){let r=i.staticGenerationAsyncStorage.getStore();return r&&r.forceStatic?{}:t}function l(t){let r=i.staticGenerationAsyncStorage.getStore();return r?r.forceStatic?{}:r.isStaticGeneration||r.dynamicShouldError?new Proxy({},{get:(t,n,i)=>("string"==typeof n&&(0,s.trackDynamicDataAccessed)(r,"searchParams."+n),a.ReflectAdapter.get(t,n,i)),has:(t,n)=>("string"==typeof n&&(0,s.trackDynamicDataAccessed)(r,"searchParams."+n),Reflect.has(t,n)),ownKeys:t=>((0,s.trackDynamicDataAccessed)(r,"searchParams"),Reflect.ownKeys(t))}):t:t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},97774:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{StaticGenBailoutError:function(){return i},isStaticGenBailoutError:function(){return s}});let n="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...t){super(...t),this.code=n}}function s(t){return"object"==typeof t&&null!==t&&"code"in t&&t.code===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},78627:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unresolvedThenable",{enumerable:!0,get:function(){return n}});let n={then:()=>{}};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},54042:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{useReducerWithReduxDevtools:function(){return l},useUnwrapState:function(){return o}});let i=n(34157)._(n(95542)),s=n(39851);function a(t){if(t instanceof Map){let r={};for(let[n,i]of t.entries()){if("function"==typeof i){r[n]="fn()";continue}if("object"==typeof i&&null!==i){if(i.$$typeof){r[n]=i.$$typeof.toString();continue}if(i._bundlerConfig){r[n]="FlightData";continue}}r[n]=a(i)}return r}if("object"==typeof t&&null!==t){let r={};for(let n in t){let i=t[n];if("function"==typeof i){r[n]="fn()";continue}if("object"==typeof i&&null!==i){if(i.$$typeof){r[n]=i.$$typeof.toString();continue}if(i.hasOwnProperty("_bundlerConfig")){r[n]="FlightData";continue}}r[n]=a(i)}return r}return Array.isArray(t)?t.map(a):t}function o(t){return(0,s.isThenable)(t)?(0,i.use)(t):t}n(37165);let l=function(t){return[t,()=>{},()=>{}]};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},86540:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"hasBasePath",{enumerable:!0,get:function(){return a}});let i=n(56797),s="";function a(t){return(0,i.pathHasPrefix)(t,s)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},12716:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return a}});let i=n(78893),s=n(81059),a=t=>{if(!t.startsWith("/"))return t;let{pathname:r,query:n,hash:a}=(0,s.parsePath)(t);return""+(0,i.removeTrailingSlash)(r)+n+a};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},27355:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeBasePath",{enumerable:!0,get:function(){return s}}),n(86540);let i="";function s(t){return 0===i.length||(t=t.slice(i.length)).startsWith("/")||(t="/"+t),t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},17798:(t,r,n)=>{"use strict";var i=n(48194);r.s=i.createRoot,r.a=i.hydrateRoot},94387:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{getPathname:function(){return s},isFullStringUrl:function(){return a}});let n="http://n";function i(t){return new URL(t,n)}function s(t){return i(t).pathname}function a(t){return/https?:\/\//.test(t)}},19147:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{Postpone:function(){return f},createPostponedAbortSignal:function(){return _},createPrerenderState:function(){return c},formatDynamicAPIAccesses:function(){return v},markCurrentScopeAsDynamic:function(){return d},trackDynamicDataAccessed:function(){return h},trackDynamicFetch:function(){return p},usedDynamicAPIs:function(){return m}});let i=l(n(95542)),s=n(70252),a=n(97774),o=n(94387);function l(t){return t&&t.__esModule?t:{default:t}}let u="function"==typeof i.default.unstable_postpone;function c(t){return{isDebugSkeleton:t,dynamicAccesses:[]}}function d(t,r){let n=(0,o.getPathname)(t.urlPathname);if(!t.isUnstableCacheCallback){if(t.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${n} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t.prerenderState)g(t.prerenderState,r,n);else if(t.revalidate=0,t.isStaticGeneration){let i=new s.DynamicServerError(`Route ${n} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=r,t.dynamicUsageStack=i.stack,i}}}function h(t,r){let n=(0,o.getPathname)(t.urlPathname);if(t.isUnstableCacheCallback)throw Error(`Route ${n} used "${r}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${r}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(t.dynamicShouldError)throw new a.StaticGenBailoutError(`Route ${n} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t.prerenderState)g(t.prerenderState,r,n);else if(t.revalidate=0,t.isStaticGeneration){let i=new s.DynamicServerError(`Route ${n} couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=r,t.dynamicUsageStack=i.stack,i}}function f({reason:t,prerenderState:r,pathname:n}){g(r,t,n)}function p(t,r){t.prerenderState&&g(t.prerenderState,r,t.urlPathname)}function g(t,r,n){y();let s=`Route ${n} needs to bail out of prerendering at this point because it used ${r}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;t.dynamicAccesses.push({stack:t.isDebugSkeleton?Error().stack:void 0,expression:r}),i.default.unstable_postpone(s)}function m(t){return t.dynamicAccesses.length>0}function v(t){return t.dynamicAccesses.filter(t=>"string"==typeof t.stack&&t.stack.length>0).map(({expression:t,stack:r})=>(r=r.split("\n").slice(4).filter(t=>!(t.includes("node_modules/next/")||t.includes(" (<anonymous>)")||t.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${t}:
${r}`))}function y(){if(!u)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function _(t){y();let r=new AbortController;try{i.default.unstable_postpone(t)}catch(t){r.abort(t)}return r.signal}},24548:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getSegmentParam",{enumerable:!0,get:function(){return s}});let i=n(85744);function s(t){let r=i.INTERCEPTION_ROUTE_MARKERS.find(r=>t.startsWith(r));return(r&&(t=t.slice(r.length)),t.startsWith("[[...")&&t.endsWith("]]"))?{type:"optional-catchall",param:t.slice(5,-2)}:t.startsWith("[...")&&t.endsWith("]")?{type:r?"catchall-intercepted":"catchall",param:t.slice(4,-1)}:t.startsWith("[")&&t.endsWith("]")?{type:r?"dynamic-intercepted":"dynamic",param:t.slice(1,-1)}:null}},85744:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{INTERCEPTION_ROUTE_MARKERS:function(){return s},extractInterceptionRouteInformation:function(){return o},isInterceptionRouteAppPath:function(){return a}});let i=n(71318),s=["(..)(..)","(.)","(..)","(...)"];function a(t){return void 0!==t.split("/").find(t=>s.find(r=>t.startsWith(r)))}function o(t){let r,n,a;for(let i of t.split("/"))if(n=s.find(t=>i.startsWith(t))){[r,a]=t.split(n,2);break}if(!r||!n||!a)throw Error(`Invalid interception route: ${t}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(r=(0,i.normalizeAppPath)(r),n){case"(.)":a="/"===r?`/${a}`:r+"/"+a;break;case"(..)":if("/"===r)throw Error(`Invalid interception route: ${t}. Cannot use (..) marker at the root level, use (.) instead.`);a=r.split("/").slice(0,-1).concat(a).join("/");break;case"(...)":a="/"+a;break;case"(..)(..)":let o=r.split("/");if(o.length<=2)throw Error(`Invalid interception route: ${t}. Cannot use (..)(..) marker at the root level or one level up.`);a=o.slice(0,-2).concat(a).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:r,interceptedRoute:a}}},57208:(t,r,n)=>{"use strict";t.exports=n(20399)},72644:(t,r,n)=>{"use strict";t.exports=n(57208).vendored.contexts.AppRouterContext},30402:(t,r,n)=>{"use strict";t.exports=n(57208).vendored.contexts.HooksClientContext},70562:(t,r,n)=>{"use strict";t.exports=n(57208).vendored.contexts.ServerInsertedHtml},48194:(t,r,n)=>{"use strict";t.exports=n(57208).vendored["react-ssr"].ReactDOM},23704:(t,r,n)=>{"use strict";t.exports=n(57208).vendored["react-ssr"].ReactJsxRuntime},39135:(t,r,n)=>{"use strict";t.exports=n(57208).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},95542:(t,r,n)=>{"use strict";t.exports=n(57208).vendored["react-ssr"].React},31243:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(t,r,n){let i=Reflect.get(t,r,n);return"function"==typeof i?i.bind(t):i}static set(t,r,n,i){return Reflect.set(t,r,n,i)}static has(t,r){return Reflect.has(t,r)}static deleteProperty(t,r){return Reflect.deleteProperty(t,r)}}},43929:(t,r)=>{"use strict";function n(t){let r=5381;for(let n=0;n<t.length;n++)r=(r<<5)+r+t.charCodeAt(n)&4294967295;return r>>>0}function i(t){return n(t).toString(36).slice(0,5)}Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{djb2Hash:function(){return n},hexHash:function(){return i}})},88961:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return s}});let n="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(t){super("Bail out to client-side rendering: "+t),this.reason=t,this.digest=n}}function s(t){return"object"==typeof t&&null!==t&&"digest"in t&&t.digest===n}},1171:(t,r)=>{"use strict";function n(t){return t.startsWith("/")?t:"/"+t}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureLeadingSlash",{enumerable:!0,get:function(){return n}})},37165:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{ActionQueueContext:function(){return l},createMutableActionQueue:function(){return h}});let i=n(34157),s=n(39851),a=n(92988),o=i._(n(95542)),l=o.default.createContext(null);function u(t,r){null!==t.pending&&(t.pending=t.pending.next,null!==t.pending?c({actionQueue:t,action:t.pending,setState:r}):t.needsRefresh&&(t.needsRefresh=!1,t.dispatch({type:s.ACTION_REFRESH,origin:window.location.origin},r)))}async function c(t){let{actionQueue:r,action:n,setState:i}=t,a=r.state;if(!a)throw Error("Invariant: Router state not initialized");r.pending=n;let o=n.payload,l=r.action(a,o);function c(t){n.discarded||(r.state=t,r.devToolsInstance&&r.devToolsInstance.send(o,t),u(r,i),n.resolve(t))}(0,s.isThenable)(l)?l.then(c,t=>{u(r,i),n.reject(t)}):c(l)}function d(t,r,n){let i={resolve:n,reject:()=>{}};if(r.type!==s.ACTION_RESTORE){let t=new Promise((t,r)=>{i={resolve:t,reject:r}});(0,o.startTransition)(()=>{n(t)})}let a={payload:r,next:null,resolve:i.resolve,reject:i.reject};null===t.pending?(t.last=a,c({actionQueue:t,action:a,setState:n})):r.type===s.ACTION_NAVIGATE||r.type===s.ACTION_RESTORE?(t.pending.discarded=!0,t.last=a,t.pending.payload.type===s.ACTION_SERVER_ACTION&&(t.needsRefresh=!0),c({actionQueue:t,action:a,setState:n})):(null!==t.last&&(t.last.next=a),t.last=a)}function h(){let t={state:null,dispatch:(r,n)=>d(t,r,n),action:async(t,r)=>{if(null===t)throw Error("Invariant: Router state not initialized");return(0,a.reducer)(t,r)},pending:null,last:null};return t}},50322:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return s}});let i=n(81059);function s(t,r){if(!t.startsWith("/")||!r)return t;let{pathname:n,query:s,hash:a}=(0,i.parsePath)(t);return""+r+n+s+a}},71318:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{normalizeAppPath:function(){return a},normalizeRscURL:function(){return o}});let i=n(1171),s=n(90997);function a(t){return(0,i.ensureLeadingSlash)(t.split("/").reduce((t,r,n,i)=>!r||(0,s.isGroupSegment)(r)||"@"===r[0]||("page"===r||"route"===r)&&n===i.length-1?t:t+"/"+r,""))}function o(t){return t.replace(/\.rsc($|\?)/,"$1")}},2503:(t,r)=>{"use strict";function n(t,r){if(void 0===r&&(r={}),r.onlyHashChange){t();return}let n=document.documentElement,i=n.style.scrollBehavior;n.style.scrollBehavior="auto",r.dontForceLayout||n.getClientRects(),t(),n.style.scrollBehavior=i}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"handleSmoothScroll",{enumerable:!0,get:function(){return n}})},43280:(t,r)=>{"use strict";function n(t){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(t)}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isBot",{enumerable:!0,get:function(){return n}})},81059:(t,r)=>{"use strict";function n(t){let r=t.indexOf("#"),n=t.indexOf("?"),i=n>-1&&(r<0||n<r);return i||r>-1?{pathname:t.substring(0,i?n:r),query:i?t.substring(n,r>-1?r:void 0):"",hash:r>-1?t.slice(r):""}:{pathname:t,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n}})},56797:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let i=n(81059);function s(t,r){if("string"!=typeof t)return!1;let{pathname:n}=(0,i.parsePath)(t);return n===r||n.startsWith(r+"/")}},78893:(t,r)=>{"use strict";function n(t){return t.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},90997:(t,r)=>{"use strict";function n(t){return"("===t[0]&&t.endsWith(")")}Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{DEFAULT_SEGMENT_KEY:function(){return s},PAGE_SEGMENT_KEY:function(){return i},isGroupSegment:function(){return n}});let i="__PAGE__",s="__DEFAULT__"},17567:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=t=>{}},31035:t=>{"use strict";function r(t,r){if(null!=t)return t;var n=Error(void 0!==r?r:"Got unexpected "+t);throw n.framesToPop=1,n}t.exports=r,t.exports.default=r,Object.defineProperty(t.exports,"__esModule",{value:!0})},96633:(t,r,n)=>{"use strict";var i=n(28596);t.exports=r=i.descriptor=i.Root.fromJSON(n(40524)).lookup(".google.protobuf");var s=i.Namespace,a=i.Root,o=i.Enum,l=i.Type,u=i.Field,c=i.MapField,d=i.OneOf,h=i.Service,f=i.Method;function p(t,n,i){var c=r.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});k(i,c),t instanceof a||(c.package=t.fullName.substring(1));for(var d,f=0;f<t.nestedArray.length;++f)(d=t._nestedArray[f])instanceof l?c.messageType.push(d.toDescriptor(i)):d instanceof o?c.enumType.push(d.toDescriptor()):d instanceof u?c.extension.push(d.toDescriptor(i)):d instanceof h?c.service.push(d.toDescriptor()):d instanceof s&&p(d,n,i);c.options=I(t.options,r.FileOptions),c.messageType.length+c.enumType.length+c.extension.length+c.service.length&&n.push(c)}a.fromDescriptor=function(t){"number"==typeof t.length&&(t=r.FileDescriptorSet.decode(t));var n=new a;if(t.file)for(var i,s,c,d=0;d<t.file.length;++d){s=n,(i=t.file[d]).package&&i.package.length&&(s=n.define(i.package));var f=N(i);if(i.name&&i.name.length&&n.files.push(s.filename=i.name),i.messageType)for(c=0;c<i.messageType.length;++c)s.add(l.fromDescriptor(i.messageType[c],f));if(i.enumType)for(c=0;c<i.enumType.length;++c)s.add(o.fromDescriptor(i.enumType[c],f));if(i.extension)for(c=0;c<i.extension.length;++c)s.add(u.fromDescriptor(i.extension[c],f));if(i.service)for(c=0;c<i.service.length;++c)s.add(h.fromDescriptor(i.service[c],f));var p=C(i.options,r.FileOptions);if(p){var g=Object.keys(p);for(c=0;c<g.length;++c)s.setOption(g[c],p[g[c]])}}return n.resolveAll()},a.prototype.toDescriptor=function(t){var n=r.FileDescriptorSet.create();return p(this,n.file,t),n};var g=0;l.fromDescriptor=function(t,n,i){"number"==typeof t.length&&(t=r.DescriptorProto.decode(t));var s,a=new l(t.name.length?t.name:"Type"+g++,C(t.options,r.MessageOptions));if(i||(a._edition=n),t.oneofDecl)for(s=0;s<t.oneofDecl.length;++s)a.add(d.fromDescriptor(t.oneofDecl[s]));if(t.field)for(s=0;s<t.field.length;++s){var c=u.fromDescriptor(t.field[s],n,!0);a.add(c),t.field[s].hasOwnProperty("oneofIndex")&&a.oneofsArray[t.field[s].oneofIndex].add(c)}if(t.extension)for(s=0;s<t.extension.length;++s)a.add(u.fromDescriptor(t.extension[s],n,!0));if(t.nestedType)for(s=0;s<t.nestedType.length;++s)a.add(l.fromDescriptor(t.nestedType[s],n,!0)),t.nestedType[s].options&&t.nestedType[s].options.mapEntry&&a.setOption("map_entry",!0);if(t.enumType)for(s=0;s<t.enumType.length;++s)a.add(o.fromDescriptor(t.enumType[s],n,!0));if(t.extensionRange&&t.extensionRange.length)for(s=0,a.extensions=[];s<t.extensionRange.length;++s)a.extensions.push([t.extensionRange[s].start,t.extensionRange[s].end]);if(t.reservedRange&&t.reservedRange.length||t.reservedName&&t.reservedName.length){if(a.reserved=[],t.reservedRange)for(s=0;s<t.reservedRange.length;++s)a.reserved.push([t.reservedRange[s].start,t.reservedRange[s].end]);if(t.reservedName)for(s=0;s<t.reservedName.length;++s)a.reserved.push(t.reservedName[s])}return a},l.prototype.toDescriptor=function(t){var n,i,s=r.DescriptorProto.create({name:this.name});for(i=0;i<this.fieldsArray.length;++i)if(s.field.push(n=this._fieldsArray[i].toDescriptor(t)),this._fieldsArray[i]instanceof c){var a=T(this._fieldsArray[i].keyType,this._fieldsArray[i].resolvedKeyType,!1),d=T(this._fieldsArray[i].type,this._fieldsArray[i].resolvedType,!1),h=11===d||14===d?this._fieldsArray[i].resolvedType&&A(this.parent,this._fieldsArray[i].resolvedType)||this._fieldsArray[i].type:void 0;s.nestedType.push(r.DescriptorProto.create({name:n.typeName,field:[r.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),r.FieldDescriptorProto.create({name:"value",number:2,label:1,type:d,typeName:h})],options:r.MessageOptions.create({mapEntry:!0})}))}for(i=0;i<this.oneofsArray.length;++i)s.oneofDecl.push(this._oneofsArray[i].toDescriptor());for(i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof u?s.field.push(this._nestedArray[i].toDescriptor(t)):this._nestedArray[i]instanceof l?s.nestedType.push(this._nestedArray[i].toDescriptor(t)):this._nestedArray[i]instanceof o&&s.enumType.push(this._nestedArray[i].toDescriptor());if(this.extensions)for(i=0;i<this.extensions.length;++i)s.extensionRange.push(r.DescriptorProto.ExtensionRange.create({start:this.extensions[i][0],end:this.extensions[i][1]}));if(this.reserved)for(i=0;i<this.reserved.length;++i)"string"==typeof this.reserved[i]?s.reservedName.push(this.reserved[i]):s.reservedRange.push(r.DescriptorProto.ReservedRange.create({start:this.reserved[i][0],end:this.reserved[i][1]}));return s.options=I(this.options,r.MessageOptions),s};var m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;u.fromDescriptor=function(t,n,i){if("number"==typeof t.length&&(t=r.DescriptorProto.decode(t)),"number"!=typeof t.number)throw Error("missing field id");switch(s=t.typeName&&t.typeName.length?t.typeName:S(t.type),t.label){case 1:a=void 0;break;case 2:a="required";break;case 3:a="repeated";break;default:throw Error("illegal label: "+t.label)}var s,a,o=t.extendee;void 0!==t.extendee&&(o=o.length?o:void 0);var l=new u(t.name.length?t.name:"field"+t.number,t.number,s,a,o);if(i||(l._edition=n),l.options=C(t.options,r.FieldOptions),t.proto3_optional&&(l.options.proto3_optional=!0),t.defaultValue&&t.defaultValue.length){var c=t.defaultValue;switch(c){case"true":case"TRUE":c=!0;break;case"false":case"FALSE":c=!1;break;default:m.exec(c)&&(c=parseInt(c))}l.setOption("default",c)}return E(t.type)&&("proto3"===n?t.options&&!t.options.packed&&l.setOption("packed",!1):(!n||"proto2"===n)&&t.options&&t.options.packed&&l.setOption("packed",!0)),l},u.prototype.toDescriptor=function(t){var n=r.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)n.type=11,n.typeName=i.util.ucFirst(this.name),n.label=3;else{switch(n.type=T(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:n.typeName=this.resolvedType?A(this.parent,this.resolvedType):this.type}"repeated"===this.rule?n.label=3:this.required&&"proto2"===t?n.label=2:n.label=1}if(n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(n.options=I(this.options,r.FieldOptions),null!=this.options.default&&(n.defaultValue=String(this.options.default)),this.options.proto3_optional&&(n.proto3_optional=!0)),"proto3"===t?this.packed||((n.options||(n.options=r.FieldOptions.create())).packed=!1):(!t||"proto2"===t)&&this.packed&&((n.options||(n.options=r.FieldOptions.create())).packed=!0),n};var v=0;o.fromDescriptor=function(t,n,i){"number"==typeof t.length&&(t=r.EnumDescriptorProto.decode(t));var s={};if(t.value)for(var a=0;a<t.value.length;++a){var l=t.value[a].name,u=t.value[a].number||0;s[l&&l.length?l:"NAME"+u]=u}var c=new o(t.name&&t.name.length?t.name:"Enum"+v++,s,C(t.options,r.EnumOptions));return i||(c._edition=n),c},o.prototype.toDescriptor=function(){for(var t=[],n=0,i=Object.keys(this.values);n<i.length;++n)t.push(r.EnumValueDescriptorProto.create({name:i[n],number:this.values[i[n]]}));return r.EnumDescriptorProto.create({name:this.name,value:t,options:I(this.options,r.EnumOptions)})};var y=0;d.fromDescriptor=function(t){return"number"==typeof t.length&&(t=r.OneofDescriptorProto.decode(t)),new d(t.name&&t.name.length?t.name:"oneof"+y++)},d.prototype.toDescriptor=function(){return r.OneofDescriptorProto.create({name:this.name})};var _=0;h.fromDescriptor=function(t,n,i){"number"==typeof t.length&&(t=r.ServiceDescriptorProto.decode(t));var s=new h(t.name&&t.name.length?t.name:"Service"+_++,C(t.options,r.ServiceOptions));if(i||(s._edition=n),t.method)for(var a=0;a<t.method.length;++a)s.add(f.fromDescriptor(t.method[a]));return s},h.prototype.toDescriptor=function(){for(var t=[],n=0;n<this.methodsArray.length;++n)t.push(this._methodsArray[n].toDescriptor());return r.ServiceDescriptorProto.create({name:this.name,method:t,options:I(this.options,r.ServiceOptions)})};var b=0;function S(t){switch(t){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+t)}function E(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function T(t,r,n){switch(t){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(r instanceof o)return 14;if(r instanceof l)return n?10:11;throw Error("illegal type: "+t)}function w(t,r){for(var n,i,s={},a=0;a<r.fieldsArray.length;++a)if("uninterpretedOption"!==(i=(n=r._fieldsArray[a]).name)&&Object.prototype.hasOwnProperty.call(t,i)){var u=O(i);n.resolvedType instanceof l?s[u]=w(t[i],n.resolvedType):n.resolvedType instanceof o?s[u]=n.resolvedType.valuesById[t[i]]:s[u]=t[i]}return s}function C(t,r){if(t)return w(r.toObject(t),r)}function R(t,r){for(var n={},s=Object.keys(t),a=0;a<s.length;++a){var o=s[a],u=i.util.camelCase(o);if(Object.prototype.hasOwnProperty.call(r.fields,u)){var c=r.fields[u];c.resolvedType instanceof l?n[u]=R(t[o],c.resolvedType):n[u]=t[o],c.repeated&&!Array.isArray(n[u])&&(n[u]=[n[u]])}}return n}function I(t,r){if(t)return r.fromObject(R(t,r))}function A(t,r){var n=t.fullName.split("."),i=r.fullName.split("."),o=0,l=0,u=i.length-1;if(!(t instanceof a)&&r instanceof s)for(;o<n.length&&l<u&&n[o]===i[l];){var c=r.lookup(n[o++],!0);if(null!==c&&c!==r)break;++l}else for(;o<n.length&&l<u&&n[o]===i[l];++o,++l);return i.slice(l).join(".")}function O(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(t,r){return"_"+r.toLowerCase()})}function N(t){if("editions"===t.syntax){if(t.edition===r.Edition.EDITION_2023)return"2023";throw Error("Unsupported edition "+t.edition)}return"proto3"===t.syntax?"proto3":"proto2"}function k(t,n){if(t){if("proto2"===t||"proto3"===t)n.syntax=t;else if(n.syntax="editions","2023"===t)n.edition=r.Edition.EDITION_2023;else throw Error("Unsupported edition "+t)}}f.fromDescriptor=function(t){return"number"==typeof t.length&&(t=r.MethodDescriptorProto.decode(t)),new f(t.name&&t.name.length?t.name:"Method"+b++,"rpc",t.inputType,t.outputType,!!t.clientStreaming,!!t.serverStreaming,C(t.options,r.MethodOptions))},f.prototype.toDescriptor=function(){return r.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:I(this.options,r.MethodOptions)})}},28596:(t,r,n)=>{"use strict";t.exports=n(42476)},94271:t=>{"use strict";t.exports=i;var r,n=/\/|\./;function i(t,r){n.test(t)||(t="google/protobuf/"+t+".proto",r={nested:{google:{nested:{protobuf:{nested:r}}}}}),i[t]=r}i("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),i("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),i("timestamp",{Timestamp:r}),i("empty",{Empty:{fields:{}}}),i("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),i("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),i("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),i.get=function(t){return i[t]||null}},85500:(t,r,n)=>{"use strict";var i=r,s=n(29810),a=n(52205);function o(t,r,n,i){var a=!1;if(r.resolvedType){if(r.resolvedType instanceof s){t("switch(d%s){",i);for(var o=r.resolvedType.values,l=Object.keys(o),u=0;u<l.length;++u)o[l[u]]!==r.typeDefault||a||(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',i,i,i),r.repeated||t("break"),a=!0),t("case%j:",l[u])("case %i:",o[l[u]])("m%s=%j",i,o[l[u]])("break");t("}")}else t('if(typeof d%s!=="object")',i)("throw TypeError(%j)",r.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,n,i)}else{var c=!1;switch(r.type){case"double":case"float":t("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",i,i);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case"bytes":t('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length >= 0)",i)("m%s=d%s",i,i);break;case"string":t("m%s=String(d%s)",i,i);break;case"bool":t("m%s=Boolean(d%s)",i,i)}}return t}function l(t,r,n,i){if(r.resolvedType)r.resolvedType instanceof s?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",i,n,i,i,n,i,i):t("d%s=types[%i].toObject(m%s,o)",i,n,i);else{var a=!1;switch(r.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,a?"true":"",i);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:t("d%s=m%s",i,i)}}return t}i.fromObject=function(t){var r=t.fieldsArray,n=a.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<r.length;++i){var l=r[i].resolve(),u=a.safeProp(l.name);l.map?(n("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",l.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),o(n,l,i,u+"[ks[i]]")("}")("}")):l.repeated?(n("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",l.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),o(n,l,i,u+"[i]")("}")("}")):(l.resolvedType instanceof s||n("if(d%s!=null){",u),o(n,l,i,u),l.resolvedType instanceof s||n("}"))}return n("return m")},i.toObject=function(t){var r=t.fieldsArray.slice().sort(a.compareFieldsById);if(!r.length)return a.codegen()("return {}");for(var n=a.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],u=[],c=0;c<r.length;++c)r[c].partOf||(r[c].resolve().repeated?i:r[c].map?o:u).push(r[c]);if(i.length){for(n("if(o.arrays||o.defaults){"),c=0;c<i.length;++c)n("d%s=[]",a.safeProp(i[c].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),c=0;c<o.length;++c)n("d%s={}",a.safeProp(o[c].name));n("}")}if(u.length){for(n("if(o.defaults){"),c=0;c<u.length;++c){var d=u[c],h=a.safeProp(d.name);if(d.resolvedType instanceof s)n("d%s=o.enums===String?%j:%j",h,d.resolvedType.valuesById[d.typeDefault],d.typeDefault);else if(d.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",d.typeDefault.low,d.typeDefault.high,d.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,d.typeDefault.toString(),d.typeDefault.toNumber());else if(d.bytes){var f="["+Array.prototype.slice.call(d.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,d.typeDefault))("else{")("d%s=%s",h,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else n("d%s=%j",h,d.typeDefault)}n("}")}var p=!1;for(c=0;c<r.length;++c){var d=r[c],g=t._fieldsArray.indexOf(d),h=a.safeProp(d.name);d.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),l(n,d,g,h+"[ks2[j]]")("}")):d.repeated?(n("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),l(n,d,g,h+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",h,d.name),l(n,d,g,h),d.partOf&&n("if(o.oneofs)")("d%s=%j",a.safeProp(d.partOf.name),d.name)),n("}")}return n("return d")}},8659:(t,r,n)=>{"use strict";t.exports=l;var i=n(29810),s=n(87096),a=n(52205);function o(t){return"missing required '"+t.name+"'"}function l(t){for(var r=a.codegen(["r","l","e"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),n=0;n<t.fieldsArray.length;++n){var l=t._fieldsArray[n].resolve(),u=l.resolvedType instanceof i?"int32":l.type,c="m"+a.safeProp(l.name);r("case %i: {",l.id),l.map?(r("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==s.defaults[l.keyType]?r("k=%j",s.defaults[l.keyType]):r("k=null"),void 0!==s.defaults[u]?r("value=%j",s.defaults[u]):r("value=null"),r("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",l.keyType)("case 2:"),void 0===s.basic[u]?r("value=types[%i].decode(r,r.uint32())",n):r("value=r.%s()",u),r("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),r(void 0!==s.long[l.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",c)):l.repeated?(r("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==s.packed[u]&&r("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===s.basic[u]?r(l.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",c,n):r("%s.push(r.%s())",c,u)):void 0===s.basic[u]?r(l.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",c,n):r("%s=r.%s()",c,u),r("break")("}")}for(r("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t._fieldsArray.length;++n){var d=t._fieldsArray[n];d.required&&r("if(!m.hasOwnProperty(%j))",d.name)("throw util.ProtocolError(%j,{instance:m})",o(d))}return r("return m")}},22673:(t,r,n)=>{"use strict";t.exports=l;var i=n(29810),s=n(87096),a=n(52205);function o(t,r,n,i){return r.delimited?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,i,(r.id<<3|3)>>>0,(r.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,i,(r.id<<3|2)>>>0)}function l(t){for(var r,n,l=a.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),u=t.fieldsArray.slice().sort(a.compareFieldsById),r=0;r<u.length;++r){var c=u[r].resolve(),d=t._fieldsArray.indexOf(c),h=c.resolvedType instanceof i?"int32":c.type,f=s.basic[h];n="m"+a.safeProp(c.name),c.map?(l("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|s.mapKey[c.keyType],c.keyType),void 0===f?l("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",d,n):l(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,h,n),l("}")("}")):c.repeated?(l("if(%s!=null&&%s.length){",n,n),c.packed&&void 0!==s.packed[h]?l("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",h,n)("w.ldelim()"):(l("for(var i=0;i<%s.length;++i)",n),void 0===f?o(l,c,d,n+"[i]"):l("w.uint32(%i).%s(%s[i])",(c.id<<3|f)>>>0,h,n)),l("}")):(c.optional&&l("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,c.name),void 0===f?o(l,c,d,n):l("w.uint32(%i).%s(%s)",(c.id<<3|f)>>>0,h,n))}return l("return w")}},29810:(t,r,n)=>{"use strict";t.exports=o;var i=n(46464);((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var s=n(90812),a=n(52205);function o(t,r,n,s,a,o){if(i.call(this,t,n),r&&"object"!=typeof r)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=s,this.comments=a||{},this.valuesOptions=o,this._valuesFeatures={},this.reserved=void 0,r)for(var l=Object.keys(r),u=0;u<l.length;++u)"number"==typeof r[l[u]]&&(this.valuesById[this.values[l[u]]=r[l[u]]]=l[u])}o.prototype._resolveFeatures=function(t){return t=this._edition||t,i.prototype._resolveFeatures.call(this,t),Object.keys(this.values).forEach(t=>{var r=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(r,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this},o.fromJSON=function(t,r){var n=new o(t,r.values,r.options,r.comment,r.comments);return n.reserved=r.reserved,r.edition&&(n._edition=r.edition),n._defaultEdition="proto3",n},o.prototype.toJSON=function(t){var r=!!t&&!!t.keepComments;return a.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])},o.prototype.add=function(t,r,n,i){if(!a.isString(t))throw TypeError("name must be a string");if(!a.isInteger(r))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[r]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[t]=r}else this.valuesById[this.values[t]=r]=t;return i&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[t]=i||null),this.comments[t]=n||null,this},o.prototype.remove=function(t){if(!a.isString(t))throw TypeError("name must be a string");var r=this.values[t];if(null==r)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[t],delete this.comments[t],this.valuesOptions&&delete this.valuesOptions[t],this},o.prototype.isReservedId=function(t){return s.isReservedId(this.reserved,t)},o.prototype.isReservedName=function(t){return s.isReservedName(this.reserved,t)}},28811:(t,r,n)=>{"use strict";t.exports=c;var i,s=n(46464);((c.prototype=Object.create(s.prototype)).constructor=c).className="Field";var a=n(29810),o=n(87096),l=n(52205),u=/^required|optional|repeated$/;function c(t,r,n,i,a,c,d){if(l.isObject(i)?(d=a,c=i,i=a=void 0):l.isObject(a)&&(d=c,c=a,a=void 0),s.call(this,t,c),!l.isInteger(r)||r<0)throw TypeError("id must be a non-negative integer");if(!l.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==a&&!l.isString(a))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=r,this.extend=a||void 0,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!l.Long&&void 0!==o.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=d}c.fromJSON=function(t,r){var n=new c(t,r.id,r.type,r.rule,r.extend,r.options,r.comment);return r.edition&&(n._edition=r.edition),n._defaultEdition="proto3",n},Object.defineProperty(c.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(c.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(c.prototype,"delimited",{get:function(){return this.resolvedType instanceof i&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(c.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(c.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),c.prototype.setOption=function(t,r,n){return s.prototype.setOption.call(this,t,r,n)},c.prototype.toJSON=function(t){var r=!!t&&!!t.keepComments;return l.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof a||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=l.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;l.base64.test(this.typeDefault)?l.base64.decode(this.typeDefault,t=l.newBuffer(l.base64.length(this.typeDefault)),0):l.utf8.write(this.typeDefault,t=l.newBuffer(l.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=l.emptyObject:this.repeated?this.defaultValue=l.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),s.prototype.resolve.call(this)},c.prototype._inferLegacyProtoFeatures=function(t){if("proto2"!==t&&"proto3"!==t)return{};var r={};if("required"===this.rule&&(r.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===o.defaults[this.type]){var n=this.parent.get(this.type.split(".").pop());n&&n instanceof i&&n.group&&(r.message_encoding="DELIMITED")}return!0===this.getOption("packed")?r.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(r.repeated_field_encoding="EXPANDED"),r},c.prototype._resolveFeatures=function(t){return s.prototype._resolveFeatures.call(this,this._edition||t)},c.d=function(t,r,n,i){return"function"==typeof r?r=l.decorateType(r).name:r&&"object"==typeof r&&(r=l.decorateEnum(r).name),function(s,a){l.decorateType(s.constructor).add(new c(a,t,r,n,{default:i}))}},c._configure=function(t){i=t}},18072:(t,r,n)=>{"use strict";var i=t.exports=n(72176);function s(t,r,n){return"function"==typeof r?(n=r,r=new i.Root):r||(r=new i.Root),r.load(t,n)}function a(t,r){return r||(r=new i.Root),r.loadSync(t)}i.build="light",i.load=s,i.loadSync=a,i.encoder=n(22673),i.decoder=n(8659),i.verifier=n(32582),i.converter=n(85500),i.ReflectionObject=n(46464),i.Namespace=n(90812),i.Root=n(92276),i.Enum=n(29810),i.Type=n(76255),i.Field=n(28811),i.OneOf=n(9961),i.MapField=n(21372),i.Service=n(82767),i.Method=n(97327),i.Message=n(6555),i.wrappers=n(54834),i.types=n(87096),i.util=n(52205),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},72176:(t,r,n)=>{"use strict";var i=r;function s(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=n(90155),i.BufferWriter=n(39111),i.Reader=n(90678),i.BufferReader=n(64091),i.util=n(69975),i.rpc=n(99977),i.roots=n(30171),i.configure=s,s()},42476:(t,r,n)=>{"use strict";var i=t.exports=n(18072);i.build="full",i.tokenize=n(46031),i.parse=n(81729),i.common=n(94271),i.Root._configure(i.Type,i.parse,i.common)},21372:(t,r,n)=>{"use strict";t.exports=o;var i=n(28811);((o.prototype=Object.create(i.prototype)).constructor=o).className="MapField";var s=n(87096),a=n(52205);function o(t,r,n,s,o,l){if(i.call(this,t,r,s,void 0,void 0,o,l),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(t,r){return new o(t,r.id,r.keyType,r.type,r.options,r.comment)},o.prototype.toJSON=function(t){var r=!!t&&!!t.keepComments;return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===s.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},o.d=function(t,r,n){return"function"==typeof n?n=a.decorateType(n).name:n&&"object"==typeof n&&(n=a.decorateEnum(n).name),function(i,s){a.decorateType(i.constructor).add(new o(s,t,r,n))}}},6555:(t,r,n)=>{"use strict";t.exports=s;var i=n(69975);function s(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)this[r[n]]=t[r[n]]}s.create=function(t){return this.$type.create(t)},s.encode=function(t,r){return this.$type.encode(t,r)},s.encodeDelimited=function(t,r){return this.$type.encodeDelimited(t,r)},s.decode=function(t){return this.$type.decode(t)},s.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},s.verify=function(t){return this.$type.verify(t)},s.fromObject=function(t){return this.$type.fromObject(t)},s.toObject=function(t,r){return this.$type.toObject(t,r)},s.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},97327:(t,r,n)=>{"use strict";t.exports=a;var i=n(46464);((a.prototype=Object.create(i.prototype)).constructor=a).className="Method";var s=n(52205);function a(t,r,n,a,o,l,u,c,d){if(s.isObject(o)?(u=o,o=l=void 0):s.isObject(l)&&(u=l,l=void 0),!(void 0===r||s.isString(r)))throw TypeError("type must be a string");if(!s.isString(n))throw TypeError("requestType must be a string");if(!s.isString(a))throw TypeError("responseType must be a string");i.call(this,t,u),this.type=r||"rpc",this.requestType=n,this.requestStream=!!o||void 0,this.responseType=a,this.responseStream=!!l||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=d}a.fromJSON=function(t,r){return new a(t,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)},a.prototype.toJSON=function(t){var r=!!t&&!!t.keepComments;return s.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},90812:(t,r,n)=>{"use strict";t.exports=h;var i,s,a,o=n(46464);((h.prototype=Object.create(o.prototype)).constructor=h).className="Namespace";var l=n(28811),u=n(52205),c=n(9961);function d(t,r){if(t&&t.length){for(var n={},i=0;i<t.length;++i)n[t[i].name]=t[i].toJSON(r);return n}}function h(t,r){o.call(this,t,r),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function f(t){t._nestedArray=null,t._lookupCache={};for(var r=t;r=r.parent;)r._lookupCache={};return t}h.fromJSON=function(t,r){return new h(t,r.options).addJSON(r.nested)},h.arrayToJSON=d,h.isReservedId=function(t,r){if(t){for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=r&&t[n][1]>r)return!0}return!1},h.isReservedName=function(t,r){if(t){for(var n=0;n<t.length;++n)if(t[n]===r)return!0}return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),h.prototype.toJSON=function(t){return u.toObject(["options",this.options,"nested",d(this.nestedArray,t)])},h.prototype.addJSON=function(t){var r=this;if(t)for(var n,o=Object.keys(t),u=0;u<o.length;++u)n=t[o[u]],r.add((void 0!==n.fields?i.fromJSON:void 0!==n.values?a.fromJSON:void 0!==n.methods?s.fromJSON:void 0!==n.id?l.fromJSON:h.fromJSON)(o[u],n));return this},h.prototype.get=function(t){return this.nested&&this.nested[t]||null},h.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof a)return this.nested[t].values;throw Error("no such enum: "+t)},h.prototype.add=function(t){if(!(t instanceof l&&void 0!==t.extend||t instanceof i||t instanceof c||t instanceof a||t instanceof s||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var r=this.get(t.name);if(r){if(r instanceof h&&t instanceof h&&!(r instanceof i||r instanceof s)){for(var n=r.nestedArray,o=0;o<n.length;++o)t.add(n[o]);this.remove(r),this.nested||(this.nested={}),t.setOptions(r.options,!0)}else throw Error("duplicate name '"+t.name+"' in "+this)}}else this.nested={};this.nested[t.name]=t,this instanceof i||this instanceof s||this instanceof a||this instanceof l||t._edition||(t._edition=t._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var u=this;u=u.parent;)u._needsRecursiveFeatureResolution=!0,u._needsRecursiveResolve=!0;return t.onAdd(this),f(this)},h.prototype.remove=function(t){if(!(t instanceof o))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),f(this)},h.prototype.define=function(t,r){if(u.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;t.length>0;){var i=t.shift();if(n.nested&&n.nested[i]){if(!((n=n.nested[i])instanceof h))throw Error("path conflicts with non-namespace objects")}else n.add(n=new h(i))}return r&&n.addJSON(r),n},h.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var t=this.nestedArray,r=0;for(this.resolve();r<t.length;)t[r]instanceof h?t[r++].resolveAll():t[r++].resolve();return this._needsRecursiveResolve=!1,this},h.prototype._resolveFeaturesRecursive=function(t){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,t=this._edition||t,o.prototype._resolveFeaturesRecursive.call(this,t),this.nestedArray.forEach(r=>{r._resolveFeaturesRecursive(t)})),this},h.prototype.lookup=function(t,r,n){if("boolean"==typeof r?(n=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),u.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;var i=t.join(".");if(""===t[0])return this.root.lookup(t.slice(1),r);var s=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+i];if(s&&(!r||r.indexOf(s.constructor)>-1)||(s=this._lookupImpl(t,i))&&(!r||r.indexOf(s.constructor)>-1))return s;if(n)return null;for(var a=this;a.parent;){if((s=a.parent._lookupImpl(t,i))&&(!r||r.indexOf(s.constructor)>-1))return s;a=a.parent}return null},h.prototype._lookupImpl=function(t,r){if(Object.prototype.hasOwnProperty.call(this._lookupCache,r))return this._lookupCache[r];var n=this.get(t[0]),i=null;if(n)1===t.length?i=n:n instanceof h&&(t=t.slice(1),i=n._lookupImpl(t,t.join(".")));else for(var s=0;s<this.nestedArray.length;++s)this._nestedArray[s]instanceof h&&(n=this._nestedArray[s]._lookupImpl(t,r))&&(i=n);return this._lookupCache[r]=i,i},h.prototype.lookupType=function(t){var r=this.lookup(t,[i]);if(!r)throw Error("no such type: "+t);return r},h.prototype.lookupEnum=function(t){var r=this.lookup(t,[a]);if(!r)throw Error("no such Enum '"+t+"' in "+this);return r},h.prototype.lookupTypeOrEnum=function(t){var r=this.lookup(t,[i,a]);if(!r)throw Error("no such Type or Enum '"+t+"' in "+this);return r},h.prototype.lookupService=function(t){var r=this.lookup(t,[s]);if(!r)throw Error("no such Service '"+t+"' in "+this);return r},h._configure=function(t,r,n){i=t,s=r,a=n}},46464:(t,r,n)=>{"use strict";t.exports=c,c.className="ReflectionObject";let i=n(9961);var s,a=n(52205),o={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},l={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},u={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function c(t,r){if(!a.isString(t))throw TypeError("name must be a string");if(r&&!a.isObject(r))throw TypeError("options must be an object");this.options=r,this.parsedOptions=null,this.name=t,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(c.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],r=this.parent;r;)t.unshift(r.name),r=r.parent;return t.join(".")}}}),c.prototype.toJSON=function(){throw Error()},c.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var r=t.root;r instanceof s&&r._handleAdd(this)},c.prototype.onRemove=function(t){var r=t.root;r instanceof s&&r._handleRemove(this),this.parent=null,this.resolved=!1},c.prototype.resolve=function(){return this.resolved||this.root instanceof s&&(this.resolved=!0),this},c.prototype._resolveFeaturesRecursive=function(t){return this._resolveFeatures(this._edition||t)},c.prototype._resolveFeatures=function(t){if(!this._featuresResolved){var r={};if(!t)throw Error("Unknown edition for "+this.fullName);var n=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(t));if(this._edition){if("proto2"===t)r=Object.assign({},l);else if("proto3"===t)r=Object.assign({},u);else if("2023"===t)r=Object.assign({},o);else throw Error("Unknown edition: "+t);this._features=Object.assign(r,n||{}),this._featuresResolved=!0;return}if(this.partOf instanceof i){var s=Object.assign({},this.partOf._features);this._features=Object.assign(s,n||{})}else if(this.declaringField);else if(this.parent){var a=Object.assign({},this.parent._features);this._features=Object.assign(a,n||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},c.prototype._inferLegacyProtoFeatures=function(){return{}},c.prototype.getOption=function(t){if(this.options)return this.options[t]},c.prototype.setOption=function(t,r,n){return this.options||(this.options={}),/^features\./.test(t)?a.setProperty(this.options,t,r,n):n&&void 0!==this.options[t]||(this.getOption(t)!==r&&(this.resolved=!1),this.options[t]=r),this},c.prototype.setParsedOption=function(t,r,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var s=i.find(function(r){return Object.prototype.hasOwnProperty.call(r,t)});if(s){var o=s[t];a.setProperty(o,n,r)}else(s={})[t]=a.setProperty({},n,r),i.push(s)}else{var l={};l[t]=r,i.push(l)}return this},c.prototype.setOptions=function(t,r){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)this.setOption(n[i],t[n[i]],r);return this},c.prototype.toString=function(){var t=this.constructor.className,r=this.fullName;return r.length?t+" "+r:t},c.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},c._configure=function(t){s=t}},9961:(t,r,n)=>{"use strict";t.exports=o;var i=n(46464);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var s=n(28811),a=n(52205);function o(t,r,n,s){if(Array.isArray(r)||(n=r,r=void 0),i.call(this,t,n),!(void 0===r||Array.isArray(r)))throw TypeError("fieldNames must be an Array");this.oneof=r||[],this.fieldsArray=[],this.comment=s}function l(t){if(t.parent)for(var r=0;r<t.fieldsArray.length;++r)t.fieldsArray[r].parent||t.parent.add(t.fieldsArray[r])}o.fromJSON=function(t,r){return new o(t,r.oneof,r.options,r.comment)},o.prototype.toJSON=function(t){var r=!!t&&!!t.keepComments;return a.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,l(this),this},o.prototype.remove=function(t){if(!(t instanceof s))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(t);if(r<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(r,1),(r=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(r,1),t.partOf=null,this},o.prototype.onAdd=function(t){i.prototype.onAdd.call(this,t);for(var r=this,n=0;n<this.oneof.length;++n){var s=t.get(this.oneof[n]);s&&!s.partOf&&(s.partOf=r,r.fieldsArray.push(s))}l(this)},o.prototype.onRemove=function(t){for(var r,n=0;n<this.fieldsArray.length;++n)(r=this.fieldsArray[n]).parent&&r.parent.remove(r);i.prototype.onRemove.call(this,t)},Object.defineProperty(o.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var t=this.fieldsArray[0];return null!=t.options&&!0===t.options.proto3_optional}}),o.d=function(){for(var t=Array(arguments.length),r=0;r<arguments.length;)t[r]=arguments[r++];return function(r,n){a.decorateType(r.constructor).add(new o(n,t)),Object.defineProperty(r,n,{get:a.oneOfGetter(t),set:a.oneOfSetter(t)})}}},81729:(t,r,n)=>{"use strict";t.exports=C,C.filename=null,C.defaults={keepCase:!1};var i=n(46031),s=n(92276),a=n(76255),o=n(28811),l=n(21372),u=n(9961),c=n(29810),d=n(82767),h=n(97327),f=n(46464),p=n(87096),g=n(52205),m=/^[1-9][0-9]*$/,v=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,_=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,S=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,T=/^[a-zA-Z_][a-zA-Z_0-9]*$/,w=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function C(t,r,n){r instanceof s||(n=r,r=new s),n||(n=C.defaults);var R,I,A,O,N=n.preferTrailingComment||!1,k=i(t,n.alternateCommentMode||!1),P=k.next,x=k.push,D=k.peek,L=k.skip,M=k.cmnt,F=!0,j="proto2",V=r,B=[],U={},z=n.keepCase?function(t){return t}:g.camelCase;function q(){B.forEach(t=>{t._edition=j,Object.keys(U).forEach(r=>{void 0===t.getOption(r)&&t.setOption(r,U[r],!0)})})}function H(t,r,n){var i=C.filename;return n||(C.filename=null),Error("illegal "+(r||"token")+" '"+t+"' ("+(i?i+", ":"")+"line "+k.line+")")}function W(){var t,r=[];do{if('"'!==(t=P())&&"'"!==t)throw H(t);r.push(P()),L(t),t=D()}while('"'===t||"'"===t);return r.join("")}function G(t){var r=P();switch(r){case"'":case'"':return x(r),W();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return $(r,!0)}catch(n){if(t&&w.test(r))return r;throw H(r,"value")}}function K(t,r){do if(r&&('"'===(n=D())||"'"===n)){var n,i,s=W();if(t.push(s),j>=2023)throw H(s,"id")}else try{t.push([i=Y(P()),L("to",!0)?Y(P()):i])}catch(i){if(r&&w.test(n)&&j>=2023)t.push(n);else throw i}while(L(",",!0));var a={options:void 0};a.setOption=function(t,r){void 0===this.options&&(this.options={}),this.options[t]=r},et(a,function(t){if("option"===t)eu(a,t),L(";");else throw H(t)},function(){ef(a)})}function $(t,r){var n=1;switch("-"===t.charAt(0)&&(n=-1,t=t.substring(1)),t){case"inf":case"INF":case"Inf":return 1/0*n;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(m.test(t))return n*parseInt(t,10);if(y.test(t))return n*parseInt(t,16);if(b.test(t))return n*parseInt(t,8);if(E.test(t))return n*parseFloat(t);throw H(t,"number",r)}function Y(t,r){switch(t){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!r&&"-"===t.charAt(0))throw H(t,"id");if(v.test(t))return parseInt(t,10);if(_.test(t))return parseInt(t,16);if(S.test(t))return parseInt(t,8);throw H(t,"id")}function Q(){if(void 0!==I)throw H("package");if(I=P(),!w.test(I))throw H(I,"name");V=V.define(I),L(";")}function Z(){var t,r=D();switch(r){case"weak":t=O||(O=[]),P();break;case"public":P();default:t=A||(A=[])}r=W(),L(";"),t.push(r)}function J(){if(L("="),(j=W())<2023)throw H(j,"syntax");L(";")}function X(){if(L("="),!["2023"].includes(j=W()))throw H(j,"edition");L(";")}function ee(t,r){switch(r){case"option":return eu(t,r),L(";"),!0;case"message":return er(t,r),!0;case"enum":return eo(t,r),!0;case"service":return ep(t,r),!0;case"extend":return em(t,r),!0}return!1}function et(t,r,n){var i,s=k.line;if(t&&("string"!=typeof t.comment&&(t.comment=M()),t.filename=C.filename),L("{",!0)){for(;"}"!==(i=P());)r(i);L(";",!0)}else n&&n(),L(";"),t&&("string"!=typeof t.comment||N)&&(t.comment=M(s)||t.comment)}function er(t,r){if(!T.test(r=P()))throw H(r,"type name");var n=new a(r);et(n,function(t){if(!ee(n,t))switch(t){case"map":es(n,t);break;case"required":if("proto2"!==j)throw H(t);case"repeated":en(n,t);break;case"optional":if("proto3"===j)en(n,"proto3_optional");else if("proto2"!==j)throw H(t);else en(n,"optional");break;case"oneof":ea(n,t);break;case"extensions":K(n.extensions||(n.extensions=[]));break;case"reserved":K(n.reserved||(n.reserved=[]),!0);break;default:if("proto2"===j||!w.test(t))throw H(t);x(t),en(n,"optional")}}),t.add(n),t===V&&B.push(n)}function en(t,r,n){var i=P();if("group"===i){ei(t,r);return}for(;i.endsWith(".")||D().startsWith(".");)i+=P();if(!w.test(i))throw H(i,"type");var s=P();if(!T.test(s))throw H(s,"name");s=z(s),L("=");var a=new o(s,Y(P()),i,r,n);if(et(a,function(t){if("option"===t)eu(a,t),L(";");else throw H(t)},function(){ef(a)}),"proto3_optional"===r){var l=new u("_"+s);a.setOption("proto3_optional",!0),l.add(a),t.add(l)}else t.add(a);t===V&&B.push(a)}function ei(t,r){if(j>=2023)throw H("group");var n=P();if(!T.test(n))throw H(n,"name");var i=g.lcFirst(n);n===i&&(n=g.ucFirst(n)),L("=");var s=Y(P()),l=new a(n);l.group=!0;var u=new o(i,s,n,r);u.filename=C.filename,et(l,function(t){switch(t){case"option":eu(l,t),L(";");break;case"required":case"repeated":en(l,t);break;case"optional":"proto3"===j?en(l,"proto3_optional"):en(l,"optional");break;case"message":er(l,t);break;case"enum":eo(l,t);break;case"reserved":K(l.reserved||(l.reserved=[]),!0);break;default:throw H(t)}}),t.add(l).add(u)}function es(t){L("<");var r=P();if(void 0===p.mapKey[r])throw H(r,"type");L(",");var n=P();if(!w.test(n))throw H(n,"type");L(">");var i=P();if(!T.test(i))throw H(i,"name");L("=");var s=new l(z(i),Y(P()),r,n);et(s,function(t){if("option"===t)eu(s,t),L(";");else throw H(t)},function(){ef(s)}),t.add(s)}function ea(t,r){if(!T.test(r=P()))throw H(r,"name");var n=new u(z(r));et(n,function(t){"option"===t?(eu(n,t),L(";")):(x(t),en(n,"optional"))}),t.add(n)}function eo(t,r){if(!T.test(r=P()))throw H(r,"name");var n=new c(r);et(n,function(t){switch(t){case"option":eu(n,t),L(";");break;case"reserved":K(n.reserved||(n.reserved=[]),!0),void 0===n.reserved&&(n.reserved=[]);break;default:el(n,t)}}),t.add(n),t===V&&B.push(n)}function el(t,r){if(!T.test(r))throw H(r,"name");L("=");var n=Y(P(),!0),i={options:void 0};i.getOption=function(t){return this.options[t]},i.setOption=function(t,r){f.prototype.setOption.call(i,t,r)},i.setParsedOption=function(){},et(i,function(t){if("option"===t)eu(i,t),L(";");else throw H(t)},function(){ef(i)}),t.add(r,n,i.comment,i.parsedOptions||i.options)}function eu(t,r){var n,i,s=!0;for("option"===r&&(r=P());"="!==r;){if("("===r){var a=P();L(")"),r="("+a+")"}if(s){if(s=!1,r.includes(".")&&!r.includes("(")){var o=r.split(".");n=o[0]+".",r=o[1];continue}n=r}else i=i?i+=r:r;r=P()}var l=ec(t,i?n.concat(i):n);i=i&&"."===i[0]?i.slice(1):i,eh(t,n=n&&"."===n[n.length-1]?n.slice(0,-1):n,l,i)}function ec(t,r){if(L("{",!0)){for(var n={};!L("}",!0);){if(!T.test(R=P()))throw H(R,"name");if(null===R)throw H(R,"end of input");var i,s,a=R;if(L(":",!0),"{"===D())i=ec(t,r+"."+R);else if("["===D()){if(i=[],L("[",!0)){do s=G(!0),i.push(s);while(L(",",!0));L("]"),void 0!==s&&ed(t,r+"."+R,s)}}else i=G(!0),ed(t,r+"."+R,i);var o=n[a];o&&(i=[].concat(o).concat(i)),n[a]=i,L(",",!0),L(";",!0)}return n}var l=G(!0);return ed(t,r,l),l}function ed(t,r,n){if(V===t&&/^features\./.test(r)){U[r]=n;return}t.setOption&&t.setOption(r,n)}function eh(t,r,n,i){t.setParsedOption&&t.setParsedOption(r,n,i)}function ef(t){if(L("[",!0)){do eu(t,"option");while(L(",",!0));L("]")}return t}function ep(t,r){if(!T.test(r=P()))throw H(r,"service name");var n=new d(r);et(n,function(t){if(!ee(n,t)){if("rpc"===t)eg(n,t);else throw H(t)}}),t.add(n),t===V&&B.push(n)}function eg(t,r){var n=M(),i=r;if(!T.test(r=P()))throw H(r,"name");var s,a,o,l,u=r;if(L("("),L("stream",!0)&&(a=!0),!w.test(r=P())||(s=r,L(")"),L("returns"),L("("),L("stream",!0)&&(l=!0),!w.test(r=P())))throw H(r);o=r,L(")");var c=new h(u,i,s,o,a,l);c.comment=n,et(c,function(t){if("option"===t)eu(c,t),L(";");else throw H(t)}),t.add(c)}function em(t,r){if(!w.test(r=P()))throw H(r,"reference");var n=r;et(null,function(r){switch(r){case"required":case"repeated":en(t,r,n);break;case"optional":"proto3"===j?en(t,"proto3_optional",n):en(t,"optional",n);break;default:if("proto2"===j||!w.test(r))throw H(r);x(r),en(t,"optional",n)}})}for(;null!==(R=P());)switch(R){case"package":if(!F)throw H(R);Q();break;case"import":if(!F)throw H(R);Z();break;case"syntax":if(!F)throw H(R);J();break;case"edition":if(!F)throw H(R);X();break;case"option":eu(V,R),L(";",!0);break;default:if(ee(V,R)){F=!1;continue}throw H(R)}return q(),C.filename=null,{package:I,imports:A,weakImports:O,root:r}}},90678:(t,r,n)=>{"use strict";t.exports=u;var i,s=n(69975),a=s.LongBits,o=s.utf8;function l(t,r){return RangeError("index out of range: "+t.pos+" + "+(r||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")},d=function(){return s.Buffer?function(t){return(u.create=function(t){return s.Buffer.isBuffer(t)?new i(t):c(t)})(t)}:c};function h(){var t=new a(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw l(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*r)>>>0,t}if(this.len-this.pos>4){for(;r<5;++r)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}else for(;r<5;++r){if(this.pos>=this.len)throw l(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function f(t,r){return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw l(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}u.create=d(),u.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,u.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,l(this,10);return t}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw l(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw l(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw l(this,4);var t=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw l(this,4);var t=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw l(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=s.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)},u.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw l(this,t);this.pos+=t}else do if(this.pos>=this.len)throw l(this);while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){i=t,u.create=d(),i._configure();var r=s.Long?"toLong":"toNumber";s.merge(u.prototype,{int64:function(){return h.call(this)[r](!1)},uint64:function(){return h.call(this)[r](!0)},sint64:function(){return h.call(this).zzDecode()[r](!1)},fixed64:function(){return p.call(this)[r](!0)},sfixed64:function(){return p.call(this)[r](!1)}})}},64091:(t,r,n)=>{"use strict";t.exports=a;var i=n(90678);(a.prototype=Object.create(i.prototype)).constructor=a;var s=n(69975);function a(t){i.call(this,t)}a._configure=function(){s.Buffer&&(a.prototype._slice=s.Buffer.prototype.slice)},a.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},a._configure()},92276:(t,r,n)=>{"use strict";t.exports=h;var i,s,a,o=n(90812);((h.prototype=Object.create(o.prototype)).constructor=h).className="Root";var l=n(28811),u=n(29810),c=n(9961),d=n(52205);function h(t){o.call(this,"",t),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function f(){}h.fromJSON=function(t,r){return r||(r=new h),t.options&&r.setOptions(t.options),r.addJSON(t.nested).resolveAll()},h.prototype.resolvePath=d.path.resolve,h.prototype.fetch=d.fetch,h.prototype.load=function t(r,n,i){"function"==typeof n&&(i=n,n=void 0);var o=this;if(!i)return d.asPromise(t,o,r,n);var l=i===f;function u(t,r){if(i){if(l)throw t;r&&r.resolveAll();var n=i;i=null,n(t,r)}}function c(t){var r=t.lastIndexOf("google/protobuf/");if(r>-1){var n=t.substring(r);if(n in a)return n}return null}function h(t,r){try{if(d.isString(r)&&"{"===r.charAt(0)&&(r=JSON.parse(r)),d.isString(r)){s.filename=t;var i,a=s(r,o,n),h=0;if(a.imports)for(;h<a.imports.length;++h)(i=c(a.imports[h])||o.resolvePath(t,a.imports[h]))&&p(i);if(a.weakImports)for(h=0;h<a.weakImports.length;++h)(i=c(a.weakImports[h])||o.resolvePath(t,a.weakImports[h]))&&p(i,!0)}else o.setOptions(r.options).addJSON(r.nested)}catch(t){u(t)}l||g||u(null,o)}function p(t,r){if(t=c(t)||t,!(o.files.indexOf(t)>-1)){if(o.files.push(t),t in a){l?h(t,a[t]):(++g,setTimeout(function(){--g,h(t,a[t])}));return}if(l){var n;try{n=d.fs.readFileSync(t).toString("utf8")}catch(t){r||u(t);return}h(t,n)}else++g,o.fetch(t,function(n,s){if(--g,i){if(n){r?g||u(null,o):u(n);return}h(t,s)}})}}var g=0;d.isString(r)&&(r=[r]);for(var m,v=0;v<r.length;++v)(m=o.resolvePath("",r[v]))&&p(m);return l?o.resolveAll():g||u(null,o),o},h.prototype.loadSync=function(t,r){if(!d.isNode)throw Error("not supported");return this.load(t,r,f)},h.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function g(t,r){var n=r.parent.lookup(r.extend);if(n){var i=new l(r.fullName,r.id,r.type,r.rule,void 0,r.options);return!!n.get(i.name)||(i.declaringField=r,r.extensionField=i,n.add(i),!0)}return!1}h.prototype._handleAdd=function(t){if(t instanceof l)void 0===t.extend||t.extensionField||g(this,t)||this.deferred.push(t);else if(t instanceof u)p.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof c)){if(t instanceof i)for(var r=0;r<this.deferred.length;)g(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var n=0;n<t.nestedArray.length;++n)this._handleAdd(t._nestedArray[n]);p.test(t.name)&&(t.parent[t.name]=t)}(t instanceof i||t instanceof u||t instanceof l)&&(this._fullyQualifiedObjects[t.fullName]=t)},h.prototype._handleRemove=function(t){if(t instanceof l){if(void 0!==t.extend){if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var r=this.deferred.indexOf(t);r>-1&&this.deferred.splice(r,1)}}}else if(t instanceof u)p.test(t.name)&&delete t.parent[t.name];else if(t instanceof o){for(var n=0;n<t.nestedArray.length;++n)this._handleRemove(t._nestedArray[n]);p.test(t.name)&&delete t.parent[t.name]}delete this._fullyQualifiedObjects[t.fullName]},h._configure=function(t,r,n){i=t,s=r,a=n}},30171:t=>{"use strict";t.exports={}},99977:(t,r,n)=>{"use strict";r.Service=n(96637)},96637:(t,r,n)=>{"use strict";t.exports=s;var i=n(69975);function s(t,r,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!r,this.responseDelimited=!!n}(s.prototype=Object.create(i.EventEmitter.prototype)).constructor=s,s.prototype.rpcCall=function t(r,n,s,a,o){if(!a)throw TypeError("request must be specified");var l=this;if(!o)return i.asPromise(t,l,r,n,s,a);if(!l.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return l.rpcImpl(r,n[l.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(t,n){if(t)return l.emit("error",t,r),o(t);if(null===n){l.end(!0);return}if(!(n instanceof s))try{n=s[l.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return l.emit("error",t,r),o(t)}return l.emit("data",n,r),o(null,n)})}catch(t){l.emit("error",t,r),setTimeout(function(){o(t)},0);return}},s.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},82767:(t,r,n)=>{"use strict";t.exports=l;var i=n(90812);((l.prototype=Object.create(i.prototype)).constructor=l).className="Service";var s=n(97327),a=n(52205),o=n(99977);function l(t,r){i.call(this,t,r),this.methods={},this._methodsArray=null}function u(t){return t._methodsArray=null,t}l.fromJSON=function(t,r){var n=new l(t,r.options);if(r.methods)for(var i=Object.keys(r.methods),a=0;a<i.length;++a)n.add(s.fromJSON(i[a],r.methods[i[a]]));return r.nested&&n.addJSON(r.nested),r.edition&&(n._edition=r.edition),n.comment=r.comment,n._defaultEdition="proto3",n},l.prototype.toJSON=function(t){var r=i.prototype.toJSON.call(this,t),n=!!t&&!!t.keepComments;return a.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"methods",i.arrayToJSON(this.methodsArray,t)||{},"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(l.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),l.prototype.get=function(t){return this.methods[t]||i.prototype.get.call(this,t)},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;i.prototype.resolve.call(this);for(var t=this.methodsArray,r=0;r<t.length;++r)t[r].resolve();return this},l.prototype._resolveFeaturesRecursive=function(t){return this._needsRecursiveFeatureResolution&&(t=this._edition||t,i.prototype._resolveFeaturesRecursive.call(this,t),this.methodsArray.forEach(r=>{r._resolveFeaturesRecursive(t)})),this},l.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof s?(this.methods[t.name]=t,t.parent=this,u(this)):i.prototype.add.call(this,t)},l.prototype.remove=function(t){if(t instanceof s){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,u(this)}return i.prototype.remove.call(this,t)},l.prototype.create=function(t,r,n){for(var i,s=new o.Service(t,r,n),l=0;l<this.methodsArray.length;++l){var u=a.lcFirst((i=this._methodsArray[l]).resolve().name).replace(/[^$\w_]/g,"");s[u]=a.codegen(["r","c"],a.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return s}},46031:t=>{"use strict";t.exports=h;var r=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,i=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,s=/^ *[*/]+ */,a=/^\s*\*?\/*/,o=/\n/g,l=/\s/,u=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"	"};function d(t){return t.replace(u,function(t,r){switch(r){case"\\":case"":return r;default:return c[r]||""}})}function h(t,u){t=t.toString();var c=0,h=t.length,f=1,p=0,g={},m=[],v=null;function y(t){return Error("illegal "+t+" (line "+f+")")}function _(){var r="'"===v?i:n;r.lastIndex=c-1;var s=r.exec(t);if(!s)throw y("string");return c=r.lastIndex,C(v),v=null,d(s[1])}function b(r){return t.charAt(r)}function S(r,n,i){var l,c,d={type:t.charAt(r++),lineEmpty:!1,leading:i},h=r-(l=u?2:3);do if(--h<0||"\n"===(c=t.charAt(h))){d.lineEmpty=!0;break}while(" "===c||"	"===c);for(var m=t.substring(r,n).split(o),v=0;v<m.length;++v)m[v]=m[v].replace(u?a:s,"").trim();d.text=m.join("\n").trim(),g[f]=d,p=f}function E(r){var n=T(r),i=t.substring(r,n);return/^\s*\/\//.test(i)}function T(t){for(var r=t;r<h&&"\n"!==b(r);)r++;return r}function w(){if(m.length>0)return m.shift();if(v)return _();var n,i,s,a,o,d=0===c;do{if(c===h)return null;for(n=!1;l.test(s=b(c));)if("\n"===s&&(d=!0,++f),++c===h)return null;if("/"===b(c)){if(++c===h)throw y("comment");if("/"===b(c)){if(u){if(a=c,o=!1,E(c-1)){o=!0;do if((c=T(c))===h||(c++,!d))break;while(E(c))}else c=Math.min(h,T(c)+1);o&&(S(a,c,d),d=!0),f++,n=!0}else{for(o="/"===b(a=c+1);"\n"!==b(++c);)if(c===h)return null;++c,o&&(S(a,c-1,d),d=!0),++f,n=!0}}else{if("*"!==(s=b(c)))return"/";a=c+1,o=u||"*"===b(a);do{if("\n"===s&&++f,++c===h)throw y("comment");i=s,s=b(c)}while("*"!==i||"/"!==s);++c,o&&(S(a,c-2,d),d=!0),n=!0}}}while(n);var p=c;if(r.lastIndex=0,!r.test(b(p++)))for(;p<h&&!r.test(b(p));)++p;var g=t.substring(c,c=p);return('"'===g||"'"===g)&&(v=g),g}function C(t){m.push(t)}function R(){if(!m.length){var t=w();if(null===t)return null;C(t)}return m[0]}function I(t,r){var n=R();if(n===t)return w(),!0;if(!r)throw y("token '"+n+"', '"+t+"' expected");return!1}function A(t){var r,n=null;return void 0===t?(r=g[f-1],delete g[f-1],r&&(u||"*"===r.type||r.lineEmpty)&&(n=r.leading?r.text:null)):(p<t&&R(),r=g[t],delete g[t],r&&!r.lineEmpty&&(u||"/"===r.type)&&(n=r.leading?null:r.text)),n}return Object.defineProperty({next:w,peek:R,push:C,skip:I,cmnt:A},"line",{get:function(){return f}})}h.unescape=d},76255:(t,r,n)=>{"use strict";t.exports=_;var i=n(90812);((_.prototype=Object.create(i.prototype)).constructor=_).className="Type";var s=n(29810),a=n(9961),o=n(28811),l=n(21372),u=n(82767),c=n(6555),d=n(90678),h=n(90155),f=n(52205),p=n(22673),g=n(8659),m=n(32582),v=n(85500),y=n(54834);function _(t,r){i.call(this,t,r),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(_.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),r=0;r<t.length;++r){var n=this.fields[t[r]],i=n.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=_.generateConstructor(this)())},set:function(t){var r=t.prototype;r instanceof c||((t.prototype=new c).constructor=t,f.merge(t.prototype,r)),t.$type=t.prototype.$type=this,f.merge(t,c,!0),this._ctor=t;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var i={};for(n=0;n<this.oneofsArray.length;++n)i[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(t.prototype,i)}}}),_.generateConstructor=function(t){for(var r,n=f.codegen(["p"],t.name),i=0;i<t.fieldsArray.length;++i)(r=t._fieldsArray[i]).map?n("this%s={}",f.safeProp(r.name)):r.repeated&&n("this%s=[]",f.safeProp(r.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},_.fromJSON=function(t,r){var n=new _(t,r.options);n.extensions=r.extensions,n.reserved=r.reserved;for(var c=Object.keys(r.fields),d=0;d<c.length;++d)n.add((void 0!==r.fields[c[d]].keyType?l.fromJSON:o.fromJSON)(c[d],r.fields[c[d]]));if(r.oneofs)for(c=Object.keys(r.oneofs),d=0;d<c.length;++d)n.add(a.fromJSON(c[d],r.oneofs[c[d]]));if(r.nested)for(c=Object.keys(r.nested),d=0;d<c.length;++d){var h=r.nested[c[d]];n.add((void 0!==h.id?o.fromJSON:void 0!==h.fields?_.fromJSON:void 0!==h.values?s.fromJSON:void 0!==h.methods?u.fromJSON:i.fromJSON)(c[d],h))}return r.extensions&&r.extensions.length&&(n.extensions=r.extensions),r.reserved&&r.reserved.length&&(n.reserved=r.reserved),r.group&&(n.group=!0),r.comment&&(n.comment=r.comment),r.edition&&(n._edition=r.edition),n._defaultEdition="proto3",n},_.prototype.toJSON=function(t){var r=i.prototype.toJSON.call(this,t),n=!!t&&!!t.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",r&&r.options||void 0,"oneofs",i.arrayToJSON(this.oneofsArray,t),"fields",i.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])},_.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;i.prototype.resolveAll.call(this);var t=this.oneofsArray;for(n=0;n<t.length;)t[n++].resolve();for(var r=this.fieldsArray,n=0;n<r.length;)r[n++].resolve();return this},_.prototype._resolveFeaturesRecursive=function(t){return this._needsRecursiveFeatureResolution&&(t=this._edition||t,i.prototype._resolveFeaturesRecursive.call(this,t),this.oneofsArray.forEach(r=>{r._resolveFeatures(t)}),this.fieldsArray.forEach(r=>{r._resolveFeatures(t)})),this},_.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},_.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof o&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),b(this)}return t instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),b(this)):i.prototype.add.call(this,t)},_.prototype.remove=function(t){if(t instanceof o&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),b(this)}if(t instanceof a){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),b(this)}return i.prototype.remove.call(this,t)},_.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},_.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)},_.prototype.create=function(t){return new this.ctor(t)},_.prototype.setup=function(){for(var t=this.fullName,r=[],n=0;n<this.fieldsArray.length;++n)r.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:h,types:r,util:f}),this.decode=g(this)({Reader:d,types:r,util:f}),this.verify=m(this)({types:r,util:f}),this.fromObject=v.fromObject(this)({types:r,util:f}),this.toObject=v.toObject(this)({types:r,util:f});var i=y[t];if(i){var s=Object.create(this);s.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(s),s.toObject=this.toObject,this.toObject=i.toObject.bind(s)}return this},_.prototype.encode=function(t,r){return this.setup().encode(t,r)},_.prototype.encodeDelimited=function(t,r){return this.encode(t,r&&r.len?r.fork():r).ldelim()},_.prototype.decode=function(t,r){return this.setup().decode(t,r)},_.prototype.decodeDelimited=function(t){return t instanceof d||(t=d.create(t)),this.decode(t,t.uint32())},_.prototype.verify=function(t){return this.setup().verify(t)},_.prototype.fromObject=function(t){return this.setup().fromObject(t)},_.prototype.toObject=function(t,r){return this.setup().toObject(t,r)},_.d=function(t){return function(r){f.decorateType(r,t)}}},87096:(t,r,n)=>{"use strict";var i=r,s=n(52205),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(t,r){var n=0,i={};for(r|=0;n<t.length;)i[a[n+r]]=t[n++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",s.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},52205:(t,r,n)=>{"use strict";var i,s,a=t.exports=n(69975),o=n(30171);a.codegen=n(46724),a.fetch=n(45327),a.path=n(74108),a.fs=a.inquire("fs"),a.toArray=function(t){if(t){for(var r=Object.keys(t),n=Array(r.length),i=0;i<r.length;)n[i]=t[r[i++]];return n}return[]},a.toObject=function(t){for(var r={},n=0;n<t.length;){var i=t[n++],s=t[n++];void 0!==s&&(r[i]=s)}return r};var l=/\\/g,u=/"/g;a.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},a.safeProp=function(t){return!/^[$\w_]+$/.test(t)||a.isReserved(t)?'["'+t.replace(l,"\\\\").replace(u,'\\"')+'"]':"."+t},a.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var c=/_([a-z])/g;a.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(c,function(t,r){return r.toUpperCase()})},a.compareFieldsById=function(t,r){return t.id-r.id},a.decorateType=function(t,r){if(t.$type)return r&&t.$type.name!==r&&(a.decorateRoot.remove(t.$type),t.$type.name=r,a.decorateRoot.add(t.$type)),t.$type;i||(i=n(76255));var s=new i(r||t.name);return a.decorateRoot.add(s),s.ctor=t,Object.defineProperty(t,"$type",{value:s,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:s,enumerable:!1}),s};var d=0;a.decorateEnum=function(t){if(t.$type)return t.$type;s||(s=n(29810));var r=new s("Enum"+d++,t);return a.decorateRoot.add(r),Object.defineProperty(t,"$type",{value:r,enumerable:!1}),r},a.setProperty=function(t,r,n,i){function s(t,r,n){var a=r.shift();if("__proto__"===a||"prototype"===a)return t;if(r.length>0)t[a]=s(t[a]||{},r,n);else{var o=t[a];if(o&&i)return t;o&&(n=[].concat(o).concat(n)),t[a]=n}return t}if("object"!=typeof t)throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return s(t,r=r.split("."),n)},Object.defineProperty(a,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(92276)))}})},42986:(t,r,n)=>{"use strict";t.exports=s;var i=n(69975);function s(t,r){this.lo=t>>>0,this.hi=r>>>0}var a=s.zero=new s(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=s.zeroHash="\0\0\0\0\0\0\0\0";s.fromNumber=function(t){if(0===t)return a;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new s(n,i)},s.from=function(t){if("number"==typeof t)return s.fromNumber(t);if(i.isString(t)){if(!i.Long)return s.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new s(t.low>>>0,t.high>>>0):a},s.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+4294967296*n)}return this.lo+4294967296*this.hi},s.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}};var l=String.prototype.charCodeAt;s.fromHash=function(t){return t===o?a:new s((l.call(t,0)|l.call(t,1)<<8|l.call(t,2)<<16|l.call(t,3)<<24)>>>0,(l.call(t,4)|l.call(t,5)<<8|l.call(t,6)<<16|l.call(t,7)<<24)>>>0)},s.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},s.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},s.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},s.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===r?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}},69975:function(t,r,n){"use strict";var i=r;function s(t,r,n){for(var i=Object.keys(r),s=0;s<i.length;++s)void 0!==t[i[s]]&&n||(t[i[s]]=r[i[s]]);return t}function a(t){function r(t,n){if(!(this instanceof r))return new r(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:Error().stack||""}),n&&s(this,n)}return r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),r}i.asPromise=n(23697),i.base64=n(77827),i.EventEmitter=n(12855),i.float=n(89617),i.inquire=n(34693),i.utf8=n(64720),i.pool=n(48692),i.LongBits=n(42986),i.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),i.global=i.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.isset=i.isSet=function(t,r){var n=t[r];return!!(null!=n&&t.hasOwnProperty(r))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var t=i.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(t){return"number"==typeof t?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash},i.longFromHash=function(t,r){var n=i.LongBits.fromHash(t);return i.Long?i.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)},i.merge=s,i.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},i.newError=a,i.ProtocolError=a("ProtocolError"),i.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===r[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},i.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var t=i.Buffer;if(!t){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},i._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}},32582:(t,r,n)=>{"use strict";t.exports=u;var i=n(29810),s=n(52205);function a(t,r){return t.name+": "+r+(t.repeated&&"array"!==r?"[]":t.map&&"object"!==r?"{k:"+t.keyType+"}":"")+" expected"}function o(t,r,n,s){if(r.resolvedType){if(r.resolvedType instanceof i){t("switch(%s){",s)("default:")("return%j",a(r,"enum value"));for(var o=Object.keys(r.resolvedType.values),l=0;l<o.length;++l)t("case %i:",r.resolvedType.values[o[l]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,s)("if(e)")("return%j+e",r.name+".")("}")}else switch(r.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",s)("return%j",a(r,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",s,s,s,s)("return%j",a(r,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',s)("return%j",a(r,"number"));break;case"bool":t('if(typeof %s!=="boolean")',s)("return%j",a(r,"boolean"));break;case"string":t("if(!util.isString(%s))",s)("return%j",a(r,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',s,s,s)("return%j",a(r,"buffer"))}return t}function l(t,r,n){switch(r.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",a(r,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",a(r,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",a(r,"boolean key"))}return t}function u(t){var r=s.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,i={};n.length&&r("var p={}");for(var u=0;u<t.fieldsArray.length;++u){var c=t._fieldsArray[u].resolve(),d="m"+s.safeProp(c.name);if(c.optional&&r("if(%s!=null&&m.hasOwnProperty(%j)){",d,c.name),c.map)r("if(!util.isObject(%s))",d)("return%j",a(c,"object"))("var k=Object.keys(%s)",d)("for(var i=0;i<k.length;++i){"),l(r,c,"k[i]"),o(r,c,u,d+"[k[i]]")("}");else if(c.repeated)r("if(!Array.isArray(%s))",d)("return%j",a(c,"array"))("for(var i=0;i<%s.length;++i){",d),o(r,c,u,d+"[i]")("}");else{if(c.partOf){var h=s.safeProp(c.partOf.name);1===i[c.partOf.name]&&r("if(p%s===1)",h)("return%j",c.partOf.name+": multiple values"),i[c.partOf.name]=1,r("p%s=1",h)}o(r,c,u,d)}c.optional&&r("}")}return r("return null")}},54834:(t,r,n)=>{"use strict";var i=r,s=n(6555);i[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var r=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(r);if(n){var i="."===t["@type"].charAt(0)?t["@type"].slice(1):t["@type"];return -1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:n.encode(n.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,r){var n="type.googleapis.com/",i="",a="";if(r&&r.json&&t.type_url&&t.value){a=t.type_url.substring(t.type_url.lastIndexOf("/")+1),i=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var o=this.lookup(a);o&&(t=o.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof s){var l=t.$type.toObject(t,r),u="."===t.$type.fullName[0]?t.$type.fullName.slice(1):t.$type.fullName;return""===i&&(i=n),a=i+u,l["@type"]=a,l}return this.toObject(t,r)}}},90155:(t,r,n)=>{"use strict";t.exports=h;var i,s=n(69975),a=s.LongBits,o=s.base64,l=s.utf8;function u(t,r,n){this.fn=t,this.len=r,this.next=void 0,this.val=n}function c(){}function d(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function h(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var f=function(){return s.Buffer?function(){return(h.create=function(){return new i})()}:function(){return new h}};function p(t,r,n){r[n]=255&t}function g(t,r,n){for(;t>127;)r[n++]=127&t|128,t>>>=7;r[n]=t}function m(t,r){this.len=t,this.next=void 0,this.val=r}function v(t,r,n){for(;t.hi;)r[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)r[n++]=127&t.lo|128,t.lo=t.lo>>>7;r[n++]=t.lo}function y(t,r,n){r[n]=255&t,r[n+1]=t>>>8&255,r[n+2]=t>>>16&255,r[n+3]=t>>>24}h.create=f(),h.alloc=function(t){return new s.Array(t)},s.Array!==Array&&(h.alloc=s.pool(h.alloc,s.Array.prototype.subarray)),h.prototype._push=function(t,r,n){return this.tail=this.tail.next=new u(t,r,n),this.len+=r,this},m.prototype=Object.create(u.prototype),m.prototype.fn=g,h.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new m((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},h.prototype.int32=function(t){return t<0?this._push(v,10,a.fromNumber(t)):this.uint32(t)},h.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},h.prototype.uint64=function(t){var r=a.from(t);return this._push(v,r.length(),r)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(t){var r=a.from(t).zzEncode();return this._push(v,r.length(),r)},h.prototype.bool=function(t){return this._push(p,1,t?1:0)},h.prototype.fixed32=function(t){return this._push(y,4,t>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(t){var r=a.from(t);return this._push(y,4,r.lo)._push(y,4,r.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(t){return this._push(s.float.writeFloatLE,4,t)},h.prototype.double=function(t){return this._push(s.float.writeDoubleLE,8,t)};var _=s.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};h.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(p,1,0);if(s.isString(t)){var n=h.alloc(r=o.length(t));o.decode(t,n,0),t=n}return this.uint32(r)._push(_,r,t)},h.prototype.string=function(t){var r=l.length(t);return r?this.uint32(r)._push(l.write,r,t):this._push(p,1,0)},h.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new u(c,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},h.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this},h.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r},h._configure=function(t){i=t,h.create=f(),i._configure()}},39111:(t,r,n)=>{"use strict";t.exports=a;var i=n(90155);(a.prototype=Object.create(i.prototype)).constructor=a;var s=n(69975);function a(){i.call(this)}function o(t,r,n){t.length<40?s.utf8.write(t,r,n):r.utf8Write?r.utf8Write(t,n):r.write(t,n)}a._configure=function(){a.alloc=s._Buffer_allocUnsafe,a.writeBytesBuffer=s.Buffer&&s.Buffer.prototype instanceof Uint8Array&&"set"===s.Buffer.prototype.set.name?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}},a.prototype.bytes=function(t){s.isString(t)&&(t=s._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(a.writeBytesBuffer,r,t),this},a.prototype.string=function(t){var r=s.Buffer.byteLength(t);return this.uint32(r),r&&this._push(o,r,t),this},a._configure()},52191:(t,r,n)=>{"use strict";var i=n(95542),s=t=>"checkbox"===t.type,a=t=>t instanceof Date,o=t=>null==t;let l=t=>"object"==typeof t;var u=t=>!o(t)&&!Array.isArray(t)&&l(t)&&!a(t),c=t=>u(t)&&t.target?s(t.target)?t.target.checked:t.target.value:t,d=(t,r)=>{let n;return t.has((n=r).substring(0,n.search(/\.\d+(\.|$)/))||n)},h="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(t){let r;let n=Array.isArray(t),i="undefined"!=typeof FileList&&t instanceof FileList;if(t instanceof Date)r=new Date(t);else{if(h&&(t instanceof Blob||i)||!n&&!u(t))return t;if(r=n?[]:Object.create(Object.getPrototypeOf(t)),n||(t=>{let r=t.constructor&&t.constructor.prototype;return u(r)&&r.hasOwnProperty("isPrototypeOf")})(t))for(let n in t)t.hasOwnProperty(n)&&(r[n]=f(t[n]));else r=t}return r}var p=t=>/^\w*$/.test(t),g=t=>void 0===t,m=t=>Array.isArray(t)?t.filter(Boolean):[],v=t=>m(t.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(t,r,n)=>{if(!r||!u(t))return n;let i=(p(r)?[r]:v(r)).reduce((t,r)=>o(t)?t:t[r],t);return g(i)||i===t?g(t[r])?n:t[r]:i},_=t=>"boolean"==typeof t,b=(t,r,n)=>{let i=-1,s=p(r)?[r]:v(r),a=s.length,o=a-1;for(;++i<a;){let r=s[i],a=n;if(i!==o){let n=t[r];a=u(n)||Array.isArray(n)?n:isNaN(+s[i+1])?{}:[]}if("__proto__"===r||"constructor"===r||"prototype"===r)return;t[r]=a,t=t[r]}};let S="blur",E="focusout",T="change",w="onBlur",C="onChange",R="onSubmit",I="onTouched",A="all",O="max",N="min",k="maxLength",P="minLength",x="pattern",D="required",L="validate",M=i.createContext(null);M.displayName="HookFormContext";let F=()=>i.useContext(M);var j=(t,r,n,i=!0)=>{let s={defaultValues:r._defaultValues};for(let a in t)Object.defineProperty(s,a,{get:()=>{let s=a;return r._proxyFormState[s]!==A&&(r._proxyFormState[s]=!i||A),n&&(n[s]=!0),t[s]}});return s};let V="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function B(t){let r=F(),{control:n=r.control,disabled:s,name:a,exact:o}=t||{},[l,u]=i.useState(n._formState),c=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return V(()=>n._subscribe({name:a,formState:c.current,exact:o,callback:t=>{s||u({...n._formState,...t})}}),[a,s,o]),i.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),i.useMemo(()=>j(l,n,c.current,!1),[l,n])}var U=t=>"string"==typeof t,z=(t,r,n,i,s)=>U(t)?(i&&r.watch.add(t),y(n,t,s)):Array.isArray(t)?t.map(t=>(i&&r.watch.add(t),y(n,t))):(i&&(r.watchAll=!0),n),q=t=>o(t)||!l(t);function H(t,r,n=new WeakSet){if(q(t)||q(r))return t===r;if(a(t)&&a(r))return t.getTime()===r.getTime();let i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length)return!1;if(n.has(t)||n.has(r))return!0;for(let o of(n.add(t),n.add(r),i)){let i=t[o];if(!s.includes(o))return!1;if("ref"!==o){let t=r[o];if(a(i)&&a(t)||u(i)&&u(t)||Array.isArray(i)&&Array.isArray(t)?!H(i,t,n):i!==t)return!1}}return!0}function W(t){let r=F(),{control:n=r.control,name:s,defaultValue:a,disabled:o,exact:l,compute:u}=t||{},c=i.useRef(a),d=i.useRef(u),h=i.useRef(void 0);d.current=u;let f=i.useMemo(()=>n._getWatch(s,c.current),[n,s]),[p,g]=i.useState(d.current?d.current(f):f);return V(()=>n._subscribe({name:s,formState:{values:!0},exact:l,callback:t=>{if(!o){let r=z(s,n._names,t.values||n._formValues,!1,c.current);if(d.current){let t=d.current(r);H(t,h.current)||(g(t),h.current=t)}else g(r)}}}),[n,o,s,l]),i.useEffect(()=>n._removeUnmounted()),p}function G(t){let r=F(),{name:n,disabled:s,control:a=r.control,shouldUnregister:o,defaultValue:l}=t,u=d(a._names.array,n),h=i.useMemo(()=>y(a._formValues,n,y(a._defaultValues,n,l)),[a,n,l]),p=W({control:a,name:n,defaultValue:h,exact:!0}),m=B({control:a,name:n,exact:!0}),v=i.useRef(t),E=i.useRef(a.register(n,{...t.rules,value:p,..._(t.disabled)?{disabled:t.disabled}:{}}));v.current=t;let w=i.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!y(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!y(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!y(m.validatingFields,n)},error:{enumerable:!0,get:()=>y(m.errors,n)}}),[m,n]),C=i.useCallback(t=>E.current.onChange({target:{value:c(t),name:n},type:T}),[n]),R=i.useCallback(()=>E.current.onBlur({target:{value:y(a._formValues,n),name:n},type:S}),[n,a._formValues]),I=i.useCallback(t=>{let r=y(a._fields,n);r&&t&&(r._f.ref={focus:()=>t.focus&&t.focus(),select:()=>t.select&&t.select(),setCustomValidity:r=>t.setCustomValidity(r),reportValidity:()=>t.reportValidity()})},[a._fields,n]),A=i.useMemo(()=>({name:n,value:p,..._(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:C,onBlur:R,ref:I}),[n,s,m.disabled,C,R,I,p]);return i.useEffect(()=>{let t=a._options.shouldUnregister||o;a.register(n,{...v.current.rules,..._(v.current.disabled)?{disabled:v.current.disabled}:{}});let r=(t,r)=>{let n=y(a._fields,t);n&&n._f&&(n._f.mount=r)};if(r(n,!0),t){let t=f(y(a._options.defaultValues,n));b(a._defaultValues,n,t),g(y(a._formValues,n))&&b(a._formValues,n,t)}return u||a.register(n),()=>{(u?t&&!a._state.action:t)?a.unregister(n):r(n,!1)}},[n,a,u,o]),i.useEffect(()=>{a._setDisabledField({disabled:s,name:n})},[s,n,a]),i.useMemo(()=>({field:A,formState:m,fieldState:w}),[A,m,w])}let K=t=>{let r={};for(let n of Object.keys(t))if(l(t[n])&&null!==t[n]){let i=K(t[n]);for(let t of Object.keys(i))r[`${n}.${t}`]=i[t]}else r[n]=t[n];return r},$="post";var Y=(t,r,n,i,s)=>r?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:s||!0}}:{},Q=t=>Array.isArray(t)?t:[t],Z=()=>{let t=[];return{get observers(){return t},next:r=>{for(let n of t)n.next&&n.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(t=>t!==r)}}),unsubscribe:()=>{t=[]}}},J=t=>u(t)&&!Object.keys(t).length,X=t=>"file"===t.type,ee=t=>"function"==typeof t,et=t=>{if(!h)return!1;let r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},er=t=>"select-multiple"===t.type,en=t=>"radio"===t.type,ei=t=>et(t)&&t.isConnected;function es(t,r){let n=Array.isArray(r)?r:p(r)?[r]:v(r),i=1===n.length?t:function(t,r){let n=r.slice(0,-1).length,i=0;for(;i<n;)t=g(t)?i++:t[r[i++]];return t}(t,n),s=n.length-1,a=n[s];return i&&delete i[a],0!==s&&(u(i)&&J(i)||Array.isArray(i)&&function(t){for(let r in t)if(t.hasOwnProperty(r)&&!g(t[r]))return!1;return!0}(i))&&es(t,n.slice(0,-1)),t}var ea=t=>{for(let r in t)if(ee(t[r]))return!0;return!1};function eo(t,r={}){let n=Array.isArray(t);if(u(t)||n)for(let n in t)Array.isArray(t[n])||u(t[n])&&!ea(t[n])?(r[n]=Array.isArray(t[n])?[]:{},eo(t[n],r[n])):o(t[n])||(r[n]=!0);return r}function el(t,r,n){let i=Array.isArray(t);if(u(t)||i)for(let i in t)Array.isArray(t[i])||u(t[i])&&!ea(t[i])?g(r)||q(n[i])?n[i]=Array.isArray(t[i])?eo(t[i],[]):{...eo(t[i])}:el(t[i],o(r)?{}:r[i],n[i]):n[i]=!H(t[i],r[i]);return n}var eu=(t,r)=>el(t,r,eo(r));let ec={value:!1,isValid:!1},ed={value:!0,isValid:!0};var eh=t=>{if(Array.isArray(t)){if(t.length>1){let r=t.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!g(t[0].attributes.value)?g(t[0].value)||""===t[0].value?ed:{value:t[0].value,isValid:!0}:ed:ec}return ec},ef=(t,{valueAsNumber:r,valueAsDate:n,setValueAs:i})=>g(t)?t:r?""===t?NaN:t?+t:t:n&&U(t)?new Date(t):i?i(t):t;let ep={isValid:!1,value:null};var eg=t=>Array.isArray(t)?t.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ep):ep;function em(t){let r=t.ref;return X(r)?r.files:en(r)?eg(t.refs).value:er(r)?[...r.selectedOptions].map(({value:t})=>t):s(r)?eh(t.refs).value:ef(g(r.value)?t.ref.value:r.value,t)}var ev=t=>t instanceof RegExp,ey=t=>g(t)?t:ev(t)?t.source:u(t)?ev(t.value)?t.value.source:t.value:t,e_=t=>({isOnSubmit:!t||t===R,isOnBlur:t===w,isOnChange:t===C,isOnAll:t===A,isOnTouch:t===I});let eb="AsyncFunction";var eS=t=>!!t&&!!t.validate&&!!(ee(t.validate)&&t.validate.constructor.name===eb||u(t.validate)&&Object.values(t.validate).find(t=>t.constructor.name===eb)),eE=(t,r,n)=>!n&&(r.watchAll||r.watch.has(t)||[...r.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));let eT=(t,r,n,i)=>{for(let s of n||Object.keys(t)){let n=y(t,s);if(n){let{_f:t,...a}=n;if(t){if(t.refs&&t.refs[0]&&r(t.refs[0],s)&&!i||t.ref&&r(t.ref,t.name)&&!i)return!0;if(eT(a,r))break}else if(u(a)&&eT(a,r))break}}};function ew(t,r,n){let i=y(t,n);if(i||p(n))return{error:i,name:n};let s=n.split(".");for(;s.length;){let i=s.join("."),a=y(r,i),o=y(t,i);if(a&&!Array.isArray(a)&&n!==i)break;if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:n}}var eC=(t,r,n)=>{let i=Q(y(t,n));return b(i,"root",r[n]),b(t,n,i),t},eR=t=>U(t);function eI(t,r,n="validate"){if(eR(t)||Array.isArray(t)&&t.every(eR)||_(t)&&!t)return{type:n,message:eR(t)?t:"",ref:r}}var eA=t=>u(t)&&!ev(t)?t:{value:t,message:""},eO=async(t,r,n,i,a,l)=>{let{ref:c,refs:d,required:h,maxLength:f,minLength:p,min:m,max:v,pattern:b,validate:S,name:E,valueAsNumber:T,mount:w}=t._f,C=y(n,E);if(!w||r.has(E))return{};let R=d?d[0]:c,I=t=>{a&&R.reportValidity&&(R.setCustomValidity(_(t)?"":t||""),R.reportValidity())},A={},M=en(c),F=s(c),j=M||F,V=(T||X(c))&&g(c.value)&&g(C)||et(c)&&""===c.value||""===C||Array.isArray(C)&&!C.length,B=Y.bind(null,E,i,A),z=(t,r,n,i=k,s=P)=>{let a=t?r:n;A[E]={type:t?i:s,message:a,ref:c,...B(t?i:s,a)}};if(l?!Array.isArray(C)||!C.length:h&&(!j&&(V||o(C))||_(C)&&!C||F&&!eh(d).isValid||M&&!eg(d).isValid)){let{value:t,message:r}=eR(h)?{value:!!h,message:h}:eA(h);if(t&&(A[E]={type:D,message:r,ref:R,...B(D,r)},!i))return I(r),A}if(!(V||o(m)&&o(v))){let t,r;let n=eA(v),s=eA(m);if(o(C)||isNaN(C)){let i=c.valueAsDate||new Date(C),a=t=>new Date((new Date).toDateString()+" "+t),o="time"==c.type,l="week"==c.type;U(n.value)&&C&&(t=o?a(C)>a(n.value):l?C>n.value:i>new Date(n.value)),U(s.value)&&C&&(r=o?a(C)<a(s.value):l?C<s.value:i<new Date(s.value))}else{let i=c.valueAsNumber||(C?+C:C);o(n.value)||(t=i>n.value),o(s.value)||(r=i<s.value)}if((t||r)&&(z(!!t,n.message,s.message,O,N),!i))return I(A[E].message),A}if((f||p)&&!V&&(U(C)||l&&Array.isArray(C))){let t=eA(f),r=eA(p),n=!o(t.value)&&C.length>+t.value,s=!o(r.value)&&C.length<+r.value;if((n||s)&&(z(n,t.message,r.message),!i))return I(A[E].message),A}if(b&&!V&&U(C)){let{value:t,message:r}=eA(b);if(ev(t)&&!C.match(t)&&(A[E]={type:x,message:r,ref:c,...B(x,r)},!i))return I(r),A}if(S){if(ee(S)){let t=eI(await S(C,n),R);if(t&&(A[E]={...t,...B(L,t.message)},!i))return I(t.message),A}else if(u(S)){let t={};for(let r in S){if(!J(t)&&!i)break;let s=eI(await S[r](C,n),R,r);s&&(t={...s,...B(r,s.message)},I(s.message),i&&(A[E]=t))}if(!J(t)&&(A[E]={ref:R,...t},!i))return A}}return I(!0),A};let eN={mode:R,reValidateMode:C,shouldFocusError:!0};function ek(t={}){let r,n={...eN,...t},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:ee(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},l={},p=(u(n.defaultValues)||u(n.values))&&f(n.defaultValues||n.values)||{},v=n.shouldUnregister?{}:f(p),T={action:!1,mount:!1,watch:!1},w={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},C=0,R={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},I={...R},O={array:Z(),state:Z()},N=n.criteriaMode===A,k=async t=>{if(!n.disabled&&(R.isValid||I.isValid||t)){let t=n.resolver?J((await M()).errors):await F(l,!0);t!==i.isValid&&O.state.next({isValid:t})}},P=(t,r)=>{!n.disabled&&(R.isValidating||R.validatingFields||I.isValidating||I.validatingFields)&&((t||Array.from(w.mount)).forEach(t=>{t&&(r?b(i.validatingFields,t,r):es(i.validatingFields,t))}),O.state.next({validatingFields:i.validatingFields,isValidating:!J(i.validatingFields)}))},x=(t,r,n,i)=>{let s=y(l,t);if(s){let a=y(v,t,g(n)?y(p,t):n);g(a)||i&&i.defaultChecked||r?b(v,t,r?a:em(s._f)):B(t,a),T.mount&&k()}},D=(t,r,s,a,o)=>{let l=!1,u=!1,c={name:t};if(!n.disabled){if(!s||a){(R.isDirty||I.isDirty)&&(u=i.isDirty,i.isDirty=c.isDirty=j(),l=u!==c.isDirty);let n=H(y(p,t),r);u=!!y(i.dirtyFields,t),n?es(i.dirtyFields,t):b(i.dirtyFields,t,!0),c.dirtyFields=i.dirtyFields,l=l||(R.dirtyFields||I.dirtyFields)&&!n!==u}if(s){let r=y(i.touchedFields,t);r||(b(i.touchedFields,t,s),c.touchedFields=i.touchedFields,l=l||(R.touchedFields||I.touchedFields)&&r!==s)}l&&o&&O.state.next(c)}return l?c:{}},L=(t,s,a,o)=>{var l;let u=y(i.errors,t),c=(R.isValid||I.isValid)&&_(s)&&i.isValid!==s;if(n.delayError&&a?(l=()=>((t,r)=>{b(i.errors,t,r),O.state.next({errors:i.errors})})(t,a),(r=t=>{clearTimeout(C),C=setTimeout(l,t)})(n.delayError)):(clearTimeout(C),r=null,a?b(i.errors,t,a):es(i.errors,t)),(a?!H(u,a):u)||!J(o)||c){let r={...o,...c&&_(s)?{isValid:s}:{},errors:i.errors,name:t};i={...i,...r},O.state.next(r)}},M=async t=>{P(t,!0);let r=await n.resolver(v,n.context,((t,r,n,i)=>{let s={};for(let n of t){let t=y(r,n);t&&b(s,n,t._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:i}})(t||w.mount,l,n.criteriaMode,n.shouldUseNativeValidation));return P(t),r},F=async(t,r,s={valid:!0})=>{for(let a in t){let o=t[a];if(o){let{_f:t,...l}=o;if(t){let l=w.array.has(t.name),u=o._f&&eS(o._f);u&&R.validatingFields&&P([a],!0);let c=await eO(o,w.disabled,v,N,n.shouldUseNativeValidation&&!r,l);if(u&&R.validatingFields&&P([a]),c[t.name]&&(s.valid=!1,r))break;r||(y(c,t.name)?l?eC(i.errors,c,t.name):b(i.errors,t.name,c[t.name]):es(i.errors,t.name))}J(l)||await F(l,r,s)}}return s.valid},j=(t,r)=>!n.disabled&&(t&&r&&b(v,t,r),!H(Y(),p)),V=(t,r,n)=>z(t,w,{...T.mount?v:g(r)?p:U(t)?{[t]:r}:r},n,r),B=(t,r,n={})=>{let i=y(l,t),a=r;if(i){let n=i._f;n&&(n.disabled||b(v,t,ef(r,n)),a=et(n.ref)&&o(r)?"":r,er(n.ref)?[...n.ref.options].forEach(t=>t.selected=a.includes(t.value)):n.refs?s(n.ref)?n.refs.forEach(t=>{t.defaultChecked&&t.disabled||(Array.isArray(a)?t.checked=!!a.find(r=>r===t.value):t.checked=a===t.value||!!a)}):n.refs.forEach(t=>t.checked=t.value===a):X(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||O.state.next({name:t,values:f(v)})))}(n.shouldDirty||n.shouldTouch)&&D(t,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&$(t)},q=(t,r,n)=>{for(let i in r){if(!r.hasOwnProperty(i))return;let s=r[i],o=t+"."+i,c=y(l,o);(w.array.has(t)||u(s)||c&&!c._f)&&!a(s)?q(o,s,n):B(o,s,n)}},W=(t,r,n={})=>{let s=y(l,t),a=w.array.has(t),u=f(r);b(v,t,u),a?(O.array.next({name:t,values:f(v)}),(R.isDirty||R.dirtyFields||I.isDirty||I.dirtyFields)&&n.shouldDirty&&O.state.next({name:t,dirtyFields:eu(p,v),isDirty:j(t,u)})):!s||s._f||o(u)?B(t,u,n):q(t,u,n),eE(t,w)&&O.state.next({...i,name:t}),O.state.next({name:T.mount?t:void 0,values:f(v)})},G=async t=>{var s;T.mount=!0;let o=t.target,u=o.name,d=!0,h=y(l,u),p=t=>{d=Number.isNaN(t)||a(t)&&isNaN(t.getTime())||H(t,y(v,u,t))},g=e_(n.mode),m=e_(n.reValidateMode);if(h){let a,_,T,C,A,x,j;let V=o.type?em(h._f):c(t),B=t.type===S||t.type===E,U=!((s=h._f).mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate)||n.resolver||y(i.errors,u)||h._f.deps)||(T=B,C=y(i.touchedFields,u),A=i.isSubmitted,x=m,!(j=g).isOnAll&&(!A&&j.isOnTouch?!(C||T):(A?x.isOnBlur:j.isOnBlur)?!T:!(A?x.isOnChange:j.isOnChange)||T)),z=eE(u,w,B);b(v,u,V),B?o&&o.readOnly||(h._f.onBlur&&h._f.onBlur(t),r&&r(0)):h._f.onChange&&h._f.onChange(t);let q=D(u,V,B),H=!J(q)||z;if(B||O.state.next({name:u,type:t.type,values:f(v)}),U)return(R.isValid||I.isValid)&&("onBlur"===n.mode?B&&k():B||k()),H&&O.state.next({name:u,...z?{}:q});if(!B&&z&&O.state.next({...i}),n.resolver){let{errors:t}=await M([u]);if(p(V),d){let r=ew(i.errors,l,u),n=ew(t,l,r.name||u);a=n.error,u=n.name,_=J(t)}}else P([u],!0),a=(await eO(h,w.disabled,v,N,n.shouldUseNativeValidation))[u],P([u]),p(V),d&&(a?_=!1:(R.isValid||I.isValid)&&(_=await F(l,!0)));d&&(h._f.deps&&$(h._f.deps),L(u,_,a,q))}},K=(t,r)=>{if(y(i.errors,r)&&t.focus)return t.focus(),1},$=async(t,r={})=>{let s,a;let o=Q(t);if(n.resolver){let r=await (async t=>{let{errors:r}=await M(t);if(t)for(let n of t){let t=y(r,n);t?b(i.errors,n,t):es(i.errors,n)}else i.errors=r;return r})(g(t)?t:o);s=J(r),a=t?!o.some(t=>y(r,t)):s}else t?((a=(await Promise.all(o.map(async t=>{let r=y(l,t);return await F(r&&r._f?{[t]:r}:r)}))).every(Boolean))||i.isValid)&&k():a=s=await F(l);return O.state.next({...!U(t)||(R.isValid||I.isValid)&&s!==i.isValid?{}:{name:t},...n.resolver||!t?{isValid:s}:{},errors:i.errors}),r.shouldFocus&&!a&&eT(l,K,t?o:w.mount),a},Y=t=>{let r={...T.mount?v:p};return g(t)?r:U(t)?y(r,t):t.map(t=>y(r,t))},ea=(t,r)=>({invalid:!!y((r||i).errors,t),isDirty:!!y((r||i).dirtyFields,t),error:y((r||i).errors,t),isValidating:!!y(i.validatingFields,t),isTouched:!!y((r||i).touchedFields,t)}),eo=(t,r,n)=>{let s=(y(l,t,{_f:{}})._f||{}).ref,{ref:a,message:o,type:u,...c}=y(i.errors,t)||{};b(i.errors,t,{...c,...r,ref:s}),O.state.next({name:t,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},el=t=>O.state.subscribe({next:r=>{var n,s,a;n=t.name,s=r.name,a=t.exact,n&&s&&n!==s&&!Q(n).some(t=>t&&(a?t===s:t.startsWith(s)||s.startsWith(t)))||!((t,r,n,i)=>{n(t);let{name:s,...a}=t;return J(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(t=>r[t]===(!i||A))})(r,t.formState||R,eR,t.reRenderRoot)||t.callback({values:{...v},...i,...r,defaultValues:p})}}).unsubscribe,ec=(t,r={})=>{for(let s of t?Q(t):w.mount)w.mount.delete(s),w.array.delete(s),r.keepValue||(es(l,s),es(v,s)),r.keepError||es(i.errors,s),r.keepDirty||es(i.dirtyFields,s),r.keepTouched||es(i.touchedFields,s),r.keepIsValidating||es(i.validatingFields,s),n.shouldUnregister||r.keepDefaultValue||es(p,s);O.state.next({values:f(v)}),O.state.next({...i,...r.keepDirty?{isDirty:j()}:{}}),r.keepIsValid||k()},ed=({disabled:t,name:r})=>{(_(t)&&T.mount||t||w.disabled.has(r))&&(t?w.disabled.add(r):w.disabled.delete(r))},eh=(t,r={})=>{let i=y(l,t),a=_(r.disabled)||_(n.disabled);return b(l,t,{...i||{},_f:{...i&&i._f?i._f:{ref:{name:t}},name:t,mount:!0,...r}}),w.mount.add(t),i?ed({disabled:_(r.disabled)?r.disabled:n.disabled,name:t}):x(t,!0,r.value),{...a?{disabled:r.disabled||n.disabled}:{},...n.progressive?{required:!!r.required,min:ey(r.min),max:ey(r.max),minLength:ey(r.minLength),maxLength:ey(r.maxLength),pattern:ey(r.pattern)}:{},name:t,onChange:G,onBlur:G,ref:a=>{if(a){let n;eh(t,r),i=y(l,t);let o=g(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,u=en(n=o)||s(n),c=i._f.refs||[];(u?c.find(t=>t===o):o===i._f.ref)||(b(l,t,{_f:{...i._f,...u?{refs:[...c.filter(ei),o,...Array.isArray(y(p,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),x(t,!1,void 0,o))}else(i=y(l,t,{}))._f&&(i._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!d(w.array,t)||!T.action)&&w.unMount.add(t)}}},ep=()=>n.shouldFocusError&&eT(l,K,w.mount),eg=(t,r)=>async s=>{let a;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let o=f(v);if(O.state.next({isSubmitting:!0}),n.resolver){let{errors:t,values:r}=await M();i.errors=t,o=f(r)}else await F(l);if(w.disabled.size)for(let t of w.disabled)es(o,t);if(es(i.errors,"root"),J(i.errors)){O.state.next({errors:{}});try{await t(o,s)}catch(t){a=t}}else r&&await r({...i.errors},s),ep(),setTimeout(ep);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(i.errors)&&!a,submitCount:i.submitCount+1,errors:i.errors}),a)throw a},ev=(t,r={})=>{let s=t?f(t):p,a=f(s),o=J(t),u=o?p:a;if(r.keepDefaultValues||(p=s),!r.keepValues){if(r.keepDirtyValues)for(let t of Array.from(new Set([...w.mount,...Object.keys(eu(p,v))])))y(i.dirtyFields,t)?b(u,t,y(v,t)):W(t,y(u,t));else{if(h&&g(t))for(let t of w.mount){let r=y(l,t);if(r&&r._f){let t=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(et(t)){let r=t.closest("form");if(r){r.reset();break}}}}if(r.keepFieldsRef)for(let t of w.mount)W(t,y(u,t));else l={}}v=n.shouldUnregister?r.keepDefaultValues?f(p):{}:f(u),O.array.next({values:{...u}}),O.state.next({values:{...u}})}w={mount:r.keepDirtyValues?w.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},T.mount=!R.isValid||!!r.keepIsValid||!!r.keepDirtyValues,T.watch=!!n.shouldUnregister,O.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:!o&&(r.keepDirty?i.isDirty:!(!r.keepDefaultValues||H(t,p))),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:o?{}:r.keepDirtyValues?r.keepDefaultValues&&v?eu(p,v):i.dirtyFields:r.keepDefaultValues&&t?eu(p,t):r.keepDirty?i.dirtyFields:{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1,defaultValues:p})},eb=(t,r)=>ev(ee(t)?t(v):t,r),eR=t=>{i={...i,...t}},eI={control:{register:eh,unregister:ec,getFieldState:ea,handleSubmit:eg,setError:eo,_subscribe:el,_runSchema:M,_focusError:ep,_getWatch:V,_getDirty:j,_setValid:k,_setFieldArray:(t,r=[],s,a,o=!0,u=!0)=>{if(a&&s&&!n.disabled){if(T.action=!0,u&&Array.isArray(y(l,t))){let r=s(y(l,t),a.argA,a.argB);o&&b(l,t,r)}if(u&&Array.isArray(y(i.errors,t))){let r=s(y(i.errors,t),a.argA,a.argB);o&&b(i.errors,t,r),((t,r)=>{m(y(t,r)).length||es(t,r)})(i.errors,t)}if((R.touchedFields||I.touchedFields)&&u&&Array.isArray(y(i.touchedFields,t))){let r=s(y(i.touchedFields,t),a.argA,a.argB);o&&b(i.touchedFields,t,r)}(R.dirtyFields||I.dirtyFields)&&(i.dirtyFields=eu(p,v)),O.state.next({name:t,isDirty:j(t,r),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else b(v,t,r)},_setDisabledField:ed,_setErrors:t=>{i.errors=t,O.state.next({errors:i.errors,isValid:!1})},_getFieldArray:t=>m(y(T.mount?v:p,t,n.shouldUnregister?y(p,t,[]):[])),_reset:ev,_resetDefaultValues:()=>ee(n.defaultValues)&&n.defaultValues().then(t=>{eb(t,n.resetOptions),O.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let t of w.unMount){let r=y(l,t);r&&(r._f.refs?r._f.refs.every(t=>!ei(t)):!ei(r._f.ref))&&ec(t)}w.unMount=new Set},_disableForm:t=>{_(t)&&(O.state.next({disabled:t}),eT(l,(r,n)=>{let i=y(l,n);i&&(r.disabled=i._f.disabled||t,Array.isArray(i._f.refs)&&i._f.refs.forEach(r=>{r.disabled=i._f.disabled||t}))},0,!1))},_subjects:O,_proxyFormState:R,get _fields(){return l},get _formValues(){return v},get _state(){return T},set _state(e){T=e},get _defaultValues(){return p},get _names(){return w},set _names(e){w=e},get _formState(){return i},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:t=>(T.mount=!0,I={...I,...t.formState},el({...t,formState:I})),trigger:$,register:eh,handleSubmit:eg,watch:(t,r)=>ee(t)?O.state.subscribe({next:n=>"values"in n&&t(V(void 0,r),n)}):V(t,r,!0),setValue:W,getValues:Y,reset:eb,resetField:(t,r={})=>{y(l,t)&&(g(r.defaultValue)?W(t,f(y(p,t))):(W(t,r.defaultValue),b(p,t,f(r.defaultValue))),r.keepTouched||es(i.touchedFields,t),r.keepDirty||(es(i.dirtyFields,t),i.isDirty=r.defaultValue?j(t,f(y(p,t))):j()),r.keepError||(es(i.errors,t),R.isValid&&k()),O.state.next({...i}))},clearErrors:t=>{t&&Q(t).forEach(t=>es(i.errors,t)),O.state.next({errors:t?i.errors:{}})},unregister:ec,setError:eo,setFocus:(t,r={})=>{let n=y(l,t),i=n&&n._f;if(i){let t=i.refs?i.refs[0]:i.ref;t.focus&&(t.focus(),r.shouldSelect&&ee(t.select)&&t.select())}},getFieldState:ea};return{...eI,formControl:eI}}var eP=()=>{if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();let t="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let n=(16*Math.random()+t)%16|0;return("x"==r?n:3&n|8).toString(16)})},ex=(t,r,n={})=>n.shouldFocus||g(n.shouldFocus)?n.focusName||`${t}.${g(n.focusIndex)?r:n.focusIndex}.`:"",eD=(t,r)=>[...t,...Q(r)],eL=t=>Array.isArray(t)?t.map(()=>{}):void 0;function eM(t,r,n){return[...t.slice(0,r),...Q(n),...t.slice(r)]}var eF=(t,r,n)=>Array.isArray(t)?(g(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(r,1)[0]),t):[],ej=(t,r)=>[...Q(r),...Q(t)],eV=(t,r)=>g(r)?[]:function(t,r){let n=0,i=[...t];for(let t of r)i.splice(t-n,1),n++;return m(i).length?i:[]}(t,Q(r).sort((t,r)=>t-r)),eB=(t,r,n)=>{[t[r],t[n]]=[t[n],t[r]]},eU=(t,r,n)=>(t[r]=n,t);r.Controller=t=>t.render(G(t)),r.Form=function(t){let r=F(),[n,s]=i.useState(!1),{control:a=r.control,onSubmit:o,children:l,action:u,method:c=$,headers:d,encType:h,onError:f,render:p,onSuccess:g,validateStatus:m,...v}=t,y=async r=>{let n=!1,i="";await a.handleSubmit(async t=>{let s=new FormData,l="";try{l=JSON.stringify(t)}catch(t){}let p=K(a._formValues);for(let t in p)s.append(t,p[t]);if(o&&await o({data:t,event:r,method:c,formData:s,formDataJson:l}),u)try{let t=[d&&d["Content-Type"],h].some(t=>t&&t.includes("json")),r=await fetch(String(u),{method:c,headers:{...d,...h&&"multipart/form-data"!==h?{"Content-Type":h}:{}},body:t?l:s});r&&(m?!m(r.status):r.status<200||r.status>=300)?(n=!0,f&&f({response:r}),i=String(r.status)):g&&g({response:r})}catch(t){n=!0,f&&f({error:t})}})(r),n&&t.control&&(t.control._subjects.state.next({isSubmitSuccessful:!1}),t.control.setError("root.server",{type:i}))};return i.useEffect(()=>{s(!0)},[]),p?i.createElement(i.Fragment,null,p({submit:y})):i.createElement("form",{noValidate:n,action:u,method:c,encType:h,onSubmit:y,...v},l)},r.FormProvider=t=>{let{children:r,...n}=t;return i.createElement(M.Provider,{value:n},r)},r.appendErrors=Y,r.createFormControl=ek,r.get=y,r.set=b,r.useController=G,r.useFieldArray=function(t){let r=F(),{control:n=r.control,name:s,keyName:a="id",shouldUnregister:o,rules:l}=t,[u,c]=i.useState(n._getFieldArray(s)),d=i.useRef(n._getFieldArray(s).map(eP)),h=i.useRef(u),p=i.useRef(!1);h.current=u,n._names.array.add(s),i.useMemo(()=>l&&n.register(s,l),[n,l,s]),V(()=>n._subjects.array.subscribe({next:({values:t,name:r})=>{if(r===s||!r){let r=y(t,s);Array.isArray(r)&&(c(r),d.current=r.map(eP))}}}).unsubscribe,[n,s]);let g=i.useCallback(t=>{p.current=!0,n._setFieldArray(s,t)},[n,s]);return i.useEffect(()=>{if(n._state.action=!1,eE(s,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!e_(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!e_(n._options.reValidateMode).isOnSubmit){if(n._options.resolver)n._runSchema([s]).then(t=>{let r=y(t.errors,s),i=y(n._formState.errors,s);(i?!r&&i.type||r&&(i.type!==r.type||i.message!==r.message):r&&r.type)&&(r?b(n._formState.errors,s,r):es(n._formState.errors,s),n._subjects.state.next({errors:n._formState.errors}))});else{let t=y(n._fields,s);!t||!t._f||e_(n._options.reValidateMode).isOnSubmit&&e_(n._options.mode).isOnSubmit||eO(t,n._names.disabled,n._formValues,n._options.criteriaMode===A,n._options.shouldUseNativeValidation,!0).then(t=>!J(t)&&n._subjects.state.next({errors:eC(n._formState.errors,t,s)}))}}n._subjects.state.next({name:s,values:f(n._formValues)}),n._names.focus&&eT(n._fields,(t,r)=>{if(n._names.focus&&r.startsWith(n._names.focus)&&t.focus)return t.focus(),1}),n._names.focus="",n._setValid(),p.current=!1},[u,s,n]),i.useEffect(()=>(y(n._formValues,s)||n._setFieldArray(s),()=>{n._options.shouldUnregister||o?n.unregister(s):((t,r)=>{let i=y(n._fields,t);i&&i._f&&(i._f.mount=r)})(s,!1)}),[s,n,a,o]),{swap:i.useCallback((t,r)=>{let i=n._getFieldArray(s);eB(i,t,r),eB(d.current,t,r),g(i),c(i),n._setFieldArray(s,i,eB,{argA:t,argB:r},!1)},[g,s,n]),move:i.useCallback((t,r)=>{let i=n._getFieldArray(s);eF(i,t,r),eF(d.current,t,r),g(i),c(i),n._setFieldArray(s,i,eF,{argA:t,argB:r},!1)},[g,s,n]),prepend:i.useCallback((t,r)=>{let i=Q(f(t)),a=ej(n._getFieldArray(s),i);n._names.focus=ex(s,0,r),d.current=ej(d.current,i.map(eP)),g(a),c(a),n._setFieldArray(s,a,ej,{argA:eL(t)})},[g,s,n]),append:i.useCallback((t,r)=>{let i=Q(f(t)),a=eD(n._getFieldArray(s),i);n._names.focus=ex(s,a.length-1,r),d.current=eD(d.current,i.map(eP)),g(a),c(a),n._setFieldArray(s,a,eD,{argA:eL(t)})},[g,s,n]),remove:i.useCallback(t=>{let r=eV(n._getFieldArray(s),t);d.current=eV(d.current,t),g(r),c(r),Array.isArray(y(n._fields,s))||b(n._fields,s,void 0),n._setFieldArray(s,r,eV,{argA:t})},[g,s,n]),insert:i.useCallback((t,r,i)=>{let a=Q(f(r)),o=eM(n._getFieldArray(s),t,a);n._names.focus=ex(s,t,i),d.current=eM(d.current,t,a.map(eP)),g(o),c(o),n._setFieldArray(s,o,eM,{argA:t,argB:eL(r)})},[g,s,n]),update:i.useCallback((t,r)=>{let i=f(r),a=eU(n._getFieldArray(s),t,i);d.current=[...a].map((r,n)=>r&&n!==t?d.current[n]:eP()),g(a),c([...a]),n._setFieldArray(s,a,eU,{argA:t,argB:i},!0,!1)},[g,s,n]),replace:i.useCallback(t=>{let r=Q(f(t));d.current=r.map(eP),g([...r]),c([...r]),n._setFieldArray(s,[...r],t=>t,{},!0,!1)},[g,s,n]),fields:i.useMemo(()=>u.map((t,r)=>({...t,[a]:d.current[r]||eP()})),[u,a])}},r.useForm=function(t={}){let r=i.useRef(void 0),n=i.useRef(void 0),[s,a]=i.useState({isDirty:!1,isValidating:!1,isLoading:ee(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ee(t.defaultValues)?void 0:t.defaultValues});if(!r.current){if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!ee(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{let{formControl:n,...i}=ek(t);r.current={...i,formState:s}}}let o=r.current.control;return o._options=t,V(()=>{let t=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(t=>({...t,isReady:!0})),o._formState.isReady=!0,t},[o]),i.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),i.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),i.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),i.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),i.useEffect(()=>{if(o._proxyFormState.isDirty){let t=o._getDirty();t!==s.isDirty&&o._subjects.state.next({isDirty:t})}},[o,s.isDirty]),i.useEffect(()=>{t.values&&!H(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=t.values,a(t=>({...t}))):o._resetDefaultValues()},[o,t.values]),i.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=j(s,o),r.current},r.useFormContext=F,r.useFormState=B,r.useWatch=W},69089:(t,r,n)=>{"use strict";function i(){return new Promise((t,r)=>{t(!0)})}n.d(r,{default:()=>c});var s=n(52765).Z&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null;function a(t){null!=s&&(null!=s.addEventListener?s.addEventListener("change",t):s.addListener(t))}function o(t){null!=s&&(null!=s.removeEventListener?s.removeEventListener("change",t):s.removeListener(t))}var l={},u={isScreenReaderEnabled:i,isReduceMotionEnabled:function(){return new Promise((t,r)=>{t(!s||s.matches)})},fetch:i,addEventListener:function(t,r){if("reduceMotionChanged"===t){if(!s)return;var n=t=>{r(t.matches)};a(n),l[r]=n}return{remove:()=>u.removeEventListener(t,r)}},setAccessibilityFocus:function(t){},announceForAccessibility:function(t){},removeEventListener:function(t,r){if("reduceMotionChanged"===t){var n=l[r];n&&s&&o(n)}}};let c=u},5968:(t,r,n)=>{"use strict";n.d(r,{default:()=>m});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(88401),c=n(7153),d=["animating","color","hidesWhenStopped","size","style"],h=t=>l.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:t}),f=l.forwardRef((t,r)=>{var n=t.animating,i=void 0===n||n,a=t.color,u=void 0===a?"#1976D2":a,f=t.hidesWhenStopped,m=void 0===f||f,v=t.size,y=void 0===v?"small":v,_=t.style,b=o()(t,d),S=l.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},h({stroke:u,opacity:.2}),h({stroke:u,strokeDasharray:80,strokeDashoffset:60}));return l.createElement(c.default,s()({},b,{"aria-valuemax":1,"aria-valuemin":0,ref:r,role:"progressbar",style:[p.container,_]}),l.createElement(c.default,{children:S,style:["number"==typeof y?{height:y,width:y}:g[y],p.animation,!i&&p.animationPause,!i&&m&&p.hidesWhenStopped]}))});f.displayName="ActivityIndicator";var p=u.Z.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),g=u.Z.create({small:{width:20,height:20},large:{width:36,height:36}});let m=f},48659:(t,r,n)=>{"use strict";n.d(r,{default:()=>tQ});var i,s,a=n(68497),o=n.n(a),l=n(58588),u=n(37704),c=n.n(u),d=n(95542),h=n(9361),f=n(55855),p=n.n(f),g=n(97981),m=n.n(g),v=n(29879),y=n.n(v);function _(t){return null}let b=_("NativeAnimatedModule"),S=_("NativeAnimatedTurboModule");var E=n(85151);let T=l.Z,w={animatedShouldDebounceQueueFlush:()=>!1,animatedShouldUseSingleOp:()=>!1};var C="ios"===T.OS&&!0===global.RN$Bridgeless?S:b,R=1,I=1,A=new Set,O=!1,N=[],k=[],P=!1;"android"===T.OS&&null!=C&&C.queueAndExecuteBatchedOperations&&w.animatedShouldUseSingleOp();var x=null,D={},L={},M=P?function(){return["createAnimatedNode","updateAnimatedNodeConfig","getValue","startListeningToAnimatedNodeValue","stopListeningToAnimatedNodeValue","connectAnimatedNodes","disconnectAnimatedNodes","startAnimatingNode","stopAnimation","setAnimatedNodeValue","setAnimatedNodeOffset","flattenAnimatedNodeOffset","extractAnimatedNodeOffset","connectAnimatedNodeToView","disconnectAnimatedNodeFromView","restoreDefaultValues","dropAnimatedNode","addAnimatedEventToView","removeAnimatedEventFromView","addListener","removeListener"].reduce((t,r,n)=>(t[r]=n+1,t),{})}():C,F={getValue:function(t,r){y()(M,"Native animated module is not available"),P?(r&&(D[t]=r),F.queueOperation(M.getValue,t)):F.queueOperation(M.getValue,t,r)},setWaitingForIdentifier:function(t){A.add(t),O=!0,w.animatedShouldDebounceQueueFlush()&&x&&clearTimeout(x)},unsetWaitingForIdentifier:function(t){A.delete(t),0===A.size&&(O=!1,F.disableQueue())},disableQueue:function(){y()(M,"Native animated module is not available"),w.animatedShouldDebounceQueueFlush()?(clearImmediate(x),x=setImmediate(F.flushQueue)):F.flushQueue()},flushQueue:function(){},queueOperation:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(P){k.push(t,...n);return}O||0!==N.length?N.push(()=>t(...n)):t(...n)},createAnimatedNode:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.createAnimatedNode,t,r)},updateAnimatedNodeConfig:function(t,r){y()(M,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(t){y()(M,"Native animated module is not available"),F.queueOperation(M.startListeningToAnimatedNodeValue,t)},stopListeningToAnimatedNodeValue:function(t){y()(M,"Native animated module is not available"),F.queueOperation(M.stopListeningToAnimatedNodeValue,t)},connectAnimatedNodes:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.connectAnimatedNodes,t,r)},disconnectAnimatedNodes:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.disconnectAnimatedNodes,t,r)},startAnimatingNode:function(t,r,n,i){y()(M,"Native animated module is not available"),P?(i&&(L[t]=i),F.queueOperation(M.startAnimatingNode,t,r,n)):F.queueOperation(M.startAnimatingNode,t,r,n,i)},stopAnimation:function(t){y()(M,"Native animated module is not available"),F.queueOperation(M.stopAnimation,t)},setAnimatedNodeValue:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.setAnimatedNodeValue,t,r)},setAnimatedNodeOffset:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.setAnimatedNodeOffset,t,r)},flattenAnimatedNodeOffset:function(t){y()(M,"Native animated module is not available"),F.queueOperation(M.flattenAnimatedNodeOffset,t)},extractAnimatedNodeOffset:function(t){y()(M,"Native animated module is not available"),F.queueOperation(M.extractAnimatedNodeOffset,t)},connectAnimatedNodeToView:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.connectAnimatedNodeToView,t,r)},disconnectAnimatedNodeFromView:function(t,r){y()(M,"Native animated module is not available"),F.queueOperation(M.disconnectAnimatedNodeFromView,t,r)},restoreDefaultValues:function(t){y()(M,"Native animated module is not available"),null!=M.restoreDefaultValues&&F.queueOperation(M.restoreDefaultValues,t)},dropAnimatedNode:function(t){y()(M,"Native animated module is not available"),F.queueOperation(M.dropAnimatedNode,t)},addAnimatedEventToView:function(t,r,n){y()(M,"Native animated module is not available"),F.queueOperation(M.addAnimatedEventToView,t,r,n)},removeAnimatedEventFromView(t,r,n){y()(M,"Native animated module is not available"),F.queueOperation(M.removeAnimatedEventFromView,t,r,n)}},j={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},V=o()(o()({},j),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),B={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},U={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function z(t){return V.hasOwnProperty(t)}function q(t){return B.hasOwnProperty(t)}function H(t){return U.hasOwnProperty(t)}function W(t){t.forEach(t=>{if(!q(t.property))throw Error("Property '"+t.property+"' is not supported by native animated module")})}function G(t){for(var r in t)if(!z(r))throw Error("Style property '"+r+"' is not supported by native animated module")}function K(t){for(var r in t)if(!H(r))throw Error("Interpolation property '"+r+"' is not supported by native animated module")}function $(){return I++}var Y=!1;function Q(t){return(null==t.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==t.useNativeDriver||C)?t.useNativeDriver||!1:(Y||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),Y=!0),!1)}let Z={API:F,isSupportedColorStyleProp:function(t){return j.hasOwnProperty(t)},isSupportedStyleProp:z,isSupportedTransformProp:q,isSupportedInterpolationParam:H,addWhitelistedStyleProp:function(t){V[t]=!0},addWhitelistedTransformProp:function(t){B[t]=!0},addWhitelistedInterpolationParam:function(t){U[t]=!0},validateStyles:G,validateTransform:W,validateInterpolation:K,generateNewNodeTag:function(){return R++},generateNewAnimationId:$,assertNativeAnimatedModule:function(){y()(C,"Native animated module is not available")},shouldUseNativeDriver:Q,transformDataType:function(t){return"string"!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t},get nativeEventEmitter(){return i||(i=new E.Z("ios"!==T.OS?null:C)),i}};var J=Z.API,X=1;class ee{__attach(){}__detach(){this.__isNative&&null!=this.__nativeTag&&(Z.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}__getValue(){}__getAnimatedValue(){return this.__getValue()}__addChild(t){}__removeChild(t){}__getChildren(){return[]}constructor(){this._listeners={}}__makeNative(t){if(!this.__isNative)throw Error('This node cannot be made a "native" animated node');this._platformConfig=t,this.hasListeners()&&this._startListeningToNativeValueUpdates()}addListener(t){var r=String(X++);return this._listeners[r]=t,this.__isNative&&this._startListeningToNativeValueUpdates(),r}removeListener(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}removeAllListeners(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}hasListeners(){return!!Object.keys(this._listeners).length}_startListeningToNativeValueUpdates(){(!this.__nativeAnimatedValueListener||this.__shouldUpdateListenersForNewNativeTag)&&(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),J.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=Z.nativeEventEmitter.addListener("onAnimatedValueUpdate",t=>{t.tag===this.__getNativeTag()&&this.__onAnimatedValueUpdateReceived(t.value)}))}__onAnimatedValueUpdateReceived(t){this.__callListeners(t)}__callListeners(t){for(var r in this._listeners)this._listeners[r]({value:t})}_stopListeningForNativeValueUpdates(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,J.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}__getNativeTag(){Z.assertNativeAnimatedModule(),y()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t,r=null!==(t=this.__nativeTag)&&void 0!==t?t:Z.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=r;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),Z.API.createAnimatedNode(r,n),this.__shouldUpdateListenersForNewNativeTag=!0}return r}__getNativeConfig(){throw Error("This JS animated node type cannot be used as native animated node")}toJSON(){return this.__getValue()}__getPlatformConfig(){return this._platformConfig}__setPlatformConfig(t){this._platformConfig=t}}let et=ee;class er extends et{constructor(){super(),this._children=[]}__makeNative(t){if(!this.__isNative){this.__isNative=!0;for(var r,n=m()(this._children);!(r=n()).done;){var i=r.value;i.__makeNative(t),Z.API.connectAnimatedNodes(this.__getNativeTag(),i.__getNativeTag())}}super.__makeNative(t)}__addChild(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(this.__getPlatformConfig()),Z.API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}__removeChild(t){var r=this._children.indexOf(t);if(-1===r){console.warn("Trying to remove a child that doesn't exist");return}this.__isNative&&t.__isNative&&Z.API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(r,1),0===this._children.length&&this.__detach()}__getChildren(){return this._children}__callListeners(t){if(super.__callListeners(t),!this.__isNative)for(var r,n=m()(this._children);!(r=n()).done;){var i=r.value;i.__getValue&&i.__callListeners(i.__getValue())}}}let en=er;var ei=n(9538),es=n.n(ei),ea=!1,eo=t=>t;function el(t){if(t.outputRange&&"string"==typeof t.outputRange[0])return eh(t);var r=t.outputRange,n=t.inputRange;ea&&(ev("outputRange",r),ev("inputRange",n),em(n),y()(n.length===r.length,"inputRange ("+n.length+") and outputRange ("+r.length+") must have the same length"));var i=t.easing||eo,s="extend";void 0!==t.extrapolateLeft?s=t.extrapolateLeft:void 0!==t.extrapolate&&(s=t.extrapolate);var a="extend";return void 0!==t.extrapolateRight?a=t.extrapolateRight:void 0!==t.extrapolate&&(a=t.extrapolate),t=>{y()("number"==typeof t,"Cannot interpolation an input which is not a number");var o=eg(t,n);return eu(t,n[o],n[o+1],r[o],r[o+1],i,s,a)}}function eu(t,r,n,i,s,a,o,l){var u=t;if(u<r){if("identity"===o)return u;"clamp"===o&&(u=r)}if(u>n){if("identity"===l)return u;"clamp"===l&&(u=n)}return i===s?i:r===n?t<=r?i:s:(r===-1/0?u=-u:n===1/0?u-=r:u=(u-r)/(n-r),u=a(u),i===-1/0?u=-u:s===1/0?u+=i:u=u*(s-i)+i,u)}function ec(t){var r=es()(t);return null===r||"number"!=typeof r?t:"rgba("+((4278190080&(r=r||0))>>>24)+", "+((16711680&r)>>>16)+", "+((65280&r)>>>8)+", "+(255&r)/255+")"}var ed=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function eh(t){var r=t.outputRange;y()(r.length>=2,"Bad output range"),ep(r=r.map(ec));var n=r[0].match(ed).map(()=>[]);r.forEach(t=>{t.match(ed).forEach((t,r)=>{n[r].push(+t)})});var i=r[0].match(ed).map((r,i)=>el(o()(o()({},t),{},{outputRange:n[i]}))),s=ef(r[0]);return t=>{var n=0;return r[0].replace(ed,()=>{var r=+i[n++](t);return s&&(r=n<4?Math.round(r):Math.round(1e3*r)/1e3),String(r)})}}function ef(t){return"string"==typeof t&&t.startsWith("rgb")}function ep(t){for(var r=t[0].replace(ed,""),n=1;n<t.length;++n)y()(r===t[n].replace(ed,""),"invalid pattern "+t[0]+" and "+t[n])}function eg(t,r){var n;for(n=1;n<r.length-1&&!(r[n]>=t);++n);return n-1}function em(t){y()(t.length>=2,"inputRange must have at least 2 elements");for(var r="inputRange must be monotonically non-decreasing "+String(t),n=1;n<t.length;++n)y()(t[n]>=t[n-1],r)}function ev(t,r){y()(r.length>=2,t+" must have at least 2 elements"),y()(2!==r.length||r[0]!==-1/0||r[1]!==1/0,t+"cannot be ]-infinity;+infinity[ "+r)}class ey extends en{constructor(t,r){super(),this._parent=t,this._config=r,this._interpolation=el(r)}__makeNative(t){this._parent.__makeNative(t),super.__makeNative(t)}__getValue(){var t=this._parent.__getValue();return y()("number"==typeof t,"Cannot interpolate an input which is not a number."),this._interpolation(t)}interpolate(t){return new ey(this,t)}__attach(){this._parent.__addChild(this)}__detach(){this._parent.__removeChild(this),super.__detach()}__transformDataType(t){return t.map(Z.transformDataType)}__getNativeConfig(){return ea&&Z.validateInterpolation(this._config),{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}ey.__createInterpolation=el;let e_=ey;var eb=n(58892),eS=Z.API;function eE(t){var r=new Set;function n(t){"function"==typeof t.update?r.add(t):t.__getChildren().forEach(n)}n(t),r.forEach(t=>t.update())}function eT(t,r){eS.setWaitingForIdentifier(t),r(),eS.unsetWaitingForIdentifier(t)}class ew extends en{constructor(t,r){if(super(),"number"!=typeof t)throw Error("AnimatedValue: Attempting to set value to undefined");this._startingValue=this._value=t,this._offset=0,this._animation=null,r&&r.useNativeDriver&&this.__makeNative()}__detach(){this.__isNative&&eS.getValue(this.__getNativeTag(),t=>{this._value=t-this._offset}),this.stopAnimation(),super.__detach()}__getValue(){return this._value+this._offset}setValue(t){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&eT(this.__getNativeTag().toString(),()=>eS.setAnimatedNodeValue(this.__getNativeTag(),t))}setOffset(t){this._offset=t,this.__isNative&&eS.setAnimatedNodeOffset(this.__getNativeTag(),t)}flattenOffset(){this._value+=this._offset,this._offset=0,this.__isNative&&eS.flattenAnimatedNodeOffset(this.__getNativeTag())}extractOffset(){this._offset+=this._value,this._value=0,this.__isNative&&eS.extractAnimatedNodeOffset(this.__getNativeTag())}stopAnimation(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&(this.__isNative?eS.getValue(this.__getNativeTag(),t):t(this.__getValue()))}resetAnimation(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&eS.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}__onAnimatedValueUpdateReceived(t){this._updateValue(t,!1)}interpolate(t){return new e_(this,t)}animate(t,r){var n=null;t.__isInteraction&&(n=eb.Z.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,t=>{this._updateValue(t,!0)},t=>{this._animation=null,null!==n&&eb.Z.clearInteractionHandle(n),r&&r(t)},i,this)}stopTracking(){this._tracking&&this._tracking.__detach(),this._tracking=null}track(t){this.stopTracking(),this._tracking=t,this._tracking&&this._tracking.update()}_updateValue(t,r){if(void 0===t)throw Error("AnimatedValue: Attempting to set value to undefined");this._value=t,r&&eE(this),super.__callListeners(this.__getValue())}__getNativeConfig(){return{type:"value",value:this._value,offset:this._offset}}}let eC=ew;var eR=!1;function eI(t,r,n){var i=[],s=(t,r)=>{if(t instanceof eC)t.__makeNative(),i.push({nativeEventPath:r,animatedValueTag:t.__getNativeTag()});else if("object"==typeof t)for(var n in t)s(t[n],r.concat(n))};return y()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),s(n[0].nativeEvent,[]),null!=t&&i.forEach(n=>{Z.API.addAnimatedEventToView(t,r,n)}),{detach(){null!=t&&i.forEach(n=>{Z.API.removeAnimatedEventFromView(t,r,n.animatedValueTag)})}}}function eA(t,r){var n=(t,r,i)=>{if(t instanceof eC){y()("number"==typeof r,"Bad mapping of event key "+i+", should be number but got "+typeof r);return}if("number"==typeof r){y()(t instanceof eC,"Bad mapping of type "+typeof t+" for key "+i+", event value must map to AnimatedValue");return}for(var s in y()("object"==typeof t,"Bad mapping of type "+typeof t+" for key "+i),y()("object"==typeof r,"Bad event of type "+typeof r+" for key "+i),t)n(t[s],r[s],s)};y()(r.length>=t.length,"Event has less arguments than mapping"),t.forEach((t,i)=>{n(t,r[i],"arg"+i)})}class eO{constructor(t,r){this._listeners=[],this._argMapping=t,null==r&&(console.warn("Animated.event now requires a second argument for options"),r={useNativeDriver:!1}),r.listener&&this.__addListener(r.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=Q(r)}__addListener(t){this._listeners.push(t)}__removeListener(t){this._listeners=this._listeners.filter(r=>r!==t)}__attach(t,r){y()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=eI(t,r,this._argMapping)}__detach(t,r){y()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}__getHandler(){var t=this;if(this.__isNative){if(!eR)return this._callListeners;var r=!1;return function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];r||(eA(t._argMapping,i),r=!0),t._callListeners(...i)}}var n=!1;return function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];eR&&!n&&(eA(t._argMapping,i),n=!0);var a=(t,r,n)=>{if(t instanceof eC)"number"==typeof r&&t.setValue(r);else if("object"==typeof t)for(var i in t)a(t[i],r[i],i)};t._argMapping.forEach((t,r)=>{a(t,i[r],"arg"+r)}),t._callListeners(...i)}}_callListeners(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];this._listeners.forEach(t=>t(...r))}}class eN extends en{constructor(t){super(),this._transforms=t}__makeNative(){this._transforms.forEach(t=>{for(var r in t){var n=t[r];n instanceof et&&n.__makeNative()}}),super.__makeNative()}__getValue(){return this._transforms.map(t=>{var r={};for(var n in t){var i=t[n];i instanceof et?r[n]=i.__getValue():r[n]=i}return r})}__getAnimatedValue(){return this._transforms.map(t=>{var r={};for(var n in t){var i=t[n];i instanceof et?r[n]=i.__getAnimatedValue():r[n]=i}return r})}__attach(){this._transforms.forEach(t=>{for(var r in t){var n=t[r];n instanceof et&&n.__addChild(this)}})}__detach(){this._transforms.forEach(t=>{for(var r in t){var n=t[r];n instanceof et&&n.__removeChild(this)}}),super.__detach()}__getNativeConfig(){var t=[];return this._transforms.forEach(r=>{for(var n in r){var i=r[n];i instanceof et?t.push({type:"animated",property:n,nodeTag:i.__getNativeTag()}):t.push({type:"static",property:n,value:Z.transformDataType(i)})}}),Z.validateTransform(t),{type:"transform",transforms:t}}}let ek=eN;var eP=n(88401).Z.flatten;function ex(t){var r=eP(t),n={};for(var i in r){var s=r[i];"transform"===i&&Array.isArray(s)?n[i]=new ek(s):s instanceof et?n[i]=s:s&&!Array.isArray(s)&&"object"==typeof s&&(n[i]=ex(s))}return n}class eD extends en{constructor(t){super(),this._inputStyle=t,this._style=ex(t)}_walkStyleAndGetValues(t){var r={};for(var n in t){var i=t[n];i instanceof et?i.__isNative||(r[n]=i.__getValue()):i&&!Array.isArray(i)&&"object"==typeof i?r[n]=this._walkStyleAndGetValues(i):r[n]=i}return r}__getValue(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}_walkStyleAndGetAnimatedValues(t){var r={};for(var n in t){var i=t[n];i instanceof et?r[n]=i.__getAnimatedValue():i&&!Array.isArray(i)&&"object"==typeof i&&(r[n]=this._walkStyleAndGetAnimatedValues(i))}return r}__getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style)}__attach(){for(var t in this._style){var r=this._style[t];r instanceof et&&r.__addChild(this)}}__detach(){for(var t in this._style){var r=this._style[t];r instanceof et&&r.__removeChild(this)}super.__detach()}__makeNative(){for(var t in this._style){var r=this._style[t];r instanceof et&&r.__makeNative()}super.__makeNative()}__getNativeConfig(){var t={};for(var r in this._style)if(this._style[r]instanceof et){var n=this._style[r];n.__makeNative(),t[r]=n.__getNativeTag()}return Z.validateStyles(t),{type:"style",style:t}}}let eL=eD;class eM extends et{constructor(t,r){super(),t.style&&(t=o()(o()({},t),{},{style:new eL(t.style)})),this._props=t,this._callback=r,this.__attach()}__getValue(){var t={};for(var r in this._props){var n=this._props[r];n instanceof et?(!n.__isNative||n instanceof eL)&&(t[r]=n.__getValue()):n instanceof eO?t[r]=n.__getHandler():t[r]=n}return t}__getAnimatedValue(){var t={};for(var r in this._props){var n=this._props[r];n instanceof et&&(t[r]=n.__getAnimatedValue())}return t}__attach(){for(var t in this._props){var r=this._props[t];r instanceof et&&r.__addChild(this)}}__detach(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var r=this._props[t];r instanceof et&&r.__removeChild(this)}super.__detach()}update(){this._callback()}__makeNative(){if(!this.__isNative){for(var t in this.__isNative=!0,this._props){var r=this._props[t];r instanceof et&&r.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}setNativeView(t){this._animatedView!==t&&(this._animatedView=t,this.__isNative&&this.__connectAnimatedView())}__connectAnimatedView(){y()(this.__isNative,'Expected node to be marked as "native"');var t=this._animatedView;y()(null!=t,"Unable to locate attached view in the native tree"),Z.API.connectAnimatedNodeToView(this.__getNativeTag(),t)}__disconnectAnimatedView(){y()(this.__isNative,'Expected node to be marked as "native"');var t=this._animatedView;y()(null!=t,"Unable to locate attached view in the native tree"),Z.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t)}__restoreDefaultValues(){this.__isNative&&Z.API.restoreDefaultValues(this.__getNativeTag())}__getNativeConfig(){var t={};for(var r in this._props){var n=this._props[r];n instanceof et&&(n.__makeNative(),t[r]=n.__getNativeTag())}return{type:"props",props:t}}}let eF=eM;function ej(t){var r=(0,d.useRef)(void 0);return(0,d.useCallback)(n=>{r.current&&(r.current(),r.current=void 0),null!=n&&(r.current=t(n))},[t])}var eV=n(55376);function eB(t){var r=(0,d.useReducer)(t=>t+1,0)[1],n=(0,d.useRef)(null),i=(0,d.useMemo)(()=>new eF(t,()=>null==n.current?void 0:n.current()),[t]);ez(i);var s=ej((0,d.useCallback)(s=>{i.setNativeView(s),n.current=()=>{r()};var a=eq(s),o=[];for(var l in t){var u=t[l];u instanceof eO&&u.__isNative&&(u.__attach(a,l),o.push([l,u]))}return()=>{n.current=null;for(var t=0,r=o;t<r.length;t++){var i=r[t],s=i[0];i[1].__detach(a,s)}}},[t,i]));return[eU(i),s]}function eU(t){return o()(o()({},t.__getValue()),{},{collapsable:!1})}function ez(t){var r=(0,d.useRef)(null),n=(0,d.useRef)(!1);(0,d.useEffect)(()=>{Z.API.flushQueue()}),(0,eV.Z)(()=>(n.current=!1,()=>{n.current=!0}),[]),(0,eV.Z)(()=>{if(t.__attach(),null!=r.current){var i=r.current;i.__restoreDefaultValues(),i.__detach(),r.current=null}return()=>{n.current?t.__detach():r.current=t}},[t])}function eq(t){return"object"==typeof t&&"function"==typeof(null==t?void 0:t.getScrollableNode)?t.getScrollableNode():t}function eH(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(0,d.useCallback)(t=>{for(var n=0,i=r;n<i.length;n++){var s=i[n];null!=s&&("function"==typeof s?s(t):s.current=t)}},[...r])}var eW=["style"];function eG(t){return d.forwardRef((r,n)=>{var i=eB(r),s=i[0],a=eH(i[1],n),o=s.passthroughAnimatedPropExplicitValues,l=s.style,u=null!=o?o:{},h=u.style,f=p()(u,eW),g=[l,h];return d.createElement(t,c()({},s,f,{style:g,ref:a}))})}let eK=eG(d.forwardRef((t,r)=>d.createElement(h.default,c()({scrollEventThrottle:1e-4},t,{ref:r})))),e$=eG(n(99614).default);var eY=n(76528);let eQ=eG(d.forwardRef((t,r)=>d.createElement(eY.default,c()({scrollEventThrottle:1e-4},t,{ref:r}))));var eZ=n(64312);let eJ=eG(d.forwardRef((t,r)=>d.createElement(eZ.default,c()({scrollEventThrottle:1e-4},t,{ref:r})))),eX=eG(n(42221).default),e0=eG(n(7153).default);class e1 extends en{constructor(t,r){super(),this._a="number"==typeof t?new eC(t):t,this._b="number"==typeof r?new eC(r):r}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){return this._a.__getValue()+this._b.__getValue()}interpolate(t){return new e_(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}let e2=e1;class e4 extends en{constructor(t,r,n){super(),this._a=t,this._min=r,this._max=n,this._value=this._lastValue=this._a.__getValue()}__makeNative(t){this._a.__makeNative(t),super.__makeNative(t)}interpolate(t){return new e_(this,t)}__getValue(){var t=this._a.__getValue(),r=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+r,this._min),this._max),this._value}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}}let e3=e4;class e5 extends en{constructor(t,r){super(),this._warnedAboutDivideByZero=!1,(0===r||r instanceof et&&0===r.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),this._a="number"==typeof t?new eC(t):t,this._b="number"==typeof r?new eC(r):r}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){var t=this._a.__getValue(),r=this._b.__getValue();return 0===r?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,t/r)}interpolate(t){return new e_(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}let e6=e5;class e9 extends en{constructor(t,r){super(),this._a=t,this._modulus=r}__makeNative(t){this._a.__makeNative(t),super.__makeNative(t)}__getValue(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}interpolate(t){return new e_(this,t)}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}}let e8=e9;class e7 extends en{constructor(t,r){super(),this._a="number"==typeof t?new eC(t):t,this._b="number"==typeof r?new eC(r):r}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){return this._a.__getValue()*this._b.__getValue()}interpolate(t){return new e_(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}let te=e7;class tt extends en{constructor(t,r){super(),this._a="number"==typeof t?new eC(t):t,this._b="number"==typeof r?new eC(r):r}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){return this._a.__getValue()-this._b.__getValue()}interpolate(t){return new e_(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}let tr=tt;class tn extends et{constructor(t,r,n,i,s){super(),this._value=t,this._parent=r,this._animationClass=n,this._animationConfig=i,this._useNativeDriver=Q(i),this._callback=s,this.__attach()}__makeNative(){this.__isNative=!0,this._parent.__makeNative(),super.__makeNative(),this._value.__makeNative()}__getValue(){return this._parent.__getValue()}__attach(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}__detach(){this._parent.__removeChild(this),super.__detach()}update(){this._value.animate(new this._animationClass(o()(o()({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}__getNativeConfig(){var t=new this._animationClass(o()(o()({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:$(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}let ti=tn;var ts=1;class ta extends en{constructor(t){super();var r=t||{x:0,y:0};"number"==typeof r.x&&"number"==typeof r.y?(this.x=new eC(r.x),this.y=new eC(r.y)):(y()(r.x instanceof eC&&r.y instanceof eC,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),this.x=r.x,this.y=r.y),this._listeners={}}setValue(t){this.x.setValue(t.x),this.y.setValue(t.y)}setOffset(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}flattenOffset(){this.x.flattenOffset(),this.y.flattenOffset()}extractOffset(){this.x.extractOffset(),this.y.extractOffset()}__getValue(){return{x:this.x.__getValue(),y:this.y.__getValue()}}resetAnimation(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}stopAnimation(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}addListener(t){var r=String(ts++),n=r=>{r.value,t(this.__getValue())};return this._listeners[r]={x:this.x.addListener(n),y:this.y.addListener(n)},r}removeListener(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}removeAllListeners(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}getLayout(){return{left:this.x,top:this.y}}getTranslateTransform(){return[{translateX:this.x},{translateY:this.y}]}}let to=ta;var tl=1;class tu{start(t,r,n,i,s){}stop(){this.__nativeId&&Z.API.stopAnimation(this.__nativeId)}__getNativeAnimationConfig(){throw Error("This animation type cannot be offloaded to native")}__debouncedOnEnd(t){var r=this.__onEnd;this.__onEnd=null,r&&r(t)}__startNativeAnimation(t){var r=tl+":startAnimation";tl+=1,Z.API.setWaitingForIdentifier(r);try{var n=this.__getNativeAnimationConfig();t.__makeNative(n.platformConfig),this.__nativeId=Z.generateNewAnimationId(),Z.API.startAnimatingNode(this.__nativeId,t.__getNativeTag(),n,this.__debouncedOnEnd.bind(this))}catch(t){throw t}finally{Z.API.unsetWaitingForIdentifier(r)}}}let tc=tu;class td extends tc{constructor(t){var r,n,i;super(),this._deceleration=null!==(r=t.deceleration)&&void 0!==r?r:.998,this._velocity=t.velocity,this._useNativeDriver=Q(t),this.__isInteraction=null!==(n=t.isInteraction)&&void 0!==n?n:!this._useNativeDriver,this.__iterations=null!==(i=t.iterations)&&void 0!==i?i:1}__getNativeAnimationConfig(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}start(t,r,n,i,s){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=r,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(s):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}onUpdate(){var t=Date.now(),r=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));if(this._onUpdate(r),.1>Math.abs(this._lastValue-r)){this.__debouncedOnEnd({finished:!0});return}this._lastValue=r,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}let th=td;function tf(t){return(t-30)*3.62+194}function tp(t){return(t-8)*3+25}let tg={fromOrigamiTensionAndFriction:function(t,r){return{stiffness:tf(t),damping:tp(r)}},fromBouncinessAndSpeed:function(t,r){function n(t,r,n){return(t-r)/(n-r)}function i(t,r,n){return r+t*(n-r)}function s(t,r,n){return t*n+(1-t)*r}function a(t,r,n){return s(2*t-t*t,r,n)}function o(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28}function l(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2}function u(t){return 45e-8*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84}function c(t){return t<=18?o(t):t>18&&t<=44?l(t):u(t)}var d=n(t/1.7,0,20);d=i(d,0,.8);var h=i(n(r/1.7,0,20),.5,200),f=a(d,c(h),.01);return{stiffness:tf(h),damping:tp(f)}}};class tm extends tc{constructor(t){if(super(),this._overshootClamping=null!==(r=t.overshootClamping)&&void 0!==r&&r,this._restDisplacementThreshold=null!==(n=t.restDisplacementThreshold)&&void 0!==n?n:.001,this._restSpeedThreshold=null!==(i=t.restSpeedThreshold)&&void 0!==i?i:.001,this._initialVelocity=null!==(s=t.velocity)&&void 0!==s?s:0,this._lastVelocity=null!==(a=t.velocity)&&void 0!==a?a:0,this._toValue=t.toValue,this._delay=null!==(o=t.delay)&&void 0!==o?o:0,this._useNativeDriver=Q(t),this._platformConfig=t.platformConfig,this.__isInteraction=null!==(l=t.isInteraction)&&void 0!==l?l:!this._useNativeDriver,this.__iterations=null!==(u=t.iterations)&&void 0!==u?u:1,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)y()(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),this._stiffness=null!==(c=t.stiffness)&&void 0!==c?c:100,this._damping=null!==(d=t.damping)&&void 0!==d?d:10,this._mass=null!==(h=t.mass)&&void 0!==h?h:1;else if(void 0!==t.bounciness||void 0!==t.speed){y()(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var r,n,i,s,a,o,l,u,c,d,h,f,p,g=tg.fromBouncinessAndSpeed(null!==(f=t.bounciness)&&void 0!==f?f:8,null!==(p=t.speed)&&void 0!==p?p:12);this._stiffness=g.stiffness,this._damping=g.damping,this._mass=1}else{var m,v,_=tg.fromOrigamiTensionAndFriction(null!==(m=t.tension)&&void 0!==m?m:40,null!==(v=t.friction)&&void 0!==v?v:7);this._stiffness=_.stiffness,this._damping=_.damping,this._mass=1}y()(this._stiffness>0,"Stiffness value must be greater than 0"),y()(this._damping>0,"Damping value must be greater than 0"),y()(this._mass>0,"Mass value must be greater than 0")}__getNativeAnimationConfig(){var t;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(t=this._initialVelocity)&&void 0!==t?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(t,r,n,i,s){if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=r,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,i instanceof tm){var a=i.getInternalState();this._lastPosition=a.lastPosition,this._lastVelocity=a.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=a.lastTime}var o=()=>{this._useNativeDriver?this.__startNativeAnimation(s):this.onUpdate()};this._delay?this._timeout=setTimeout(o,this._delay):o()}getInternalState(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}onUpdate(){var t=64,r=Date.now();r>this._lastTime+t&&(r=this._lastTime+t);var n=(r-this._lastTime)/1e3;this._frameTime+=n;var i=this._damping,s=this._mass,a=this._stiffness,o=-this._initialVelocity,l=i/(2*Math.sqrt(a*s)),u=Math.sqrt(a/s),c=u*Math.sqrt(1-l*l),d=this._toValue-this._startPosition,h=0,f=0,p=this._frameTime;if(l<1){var g=Math.exp(-l*u*p);h=this._toValue-g*((o+l*u*d)/c*Math.sin(c*p)+d*Math.cos(c*p)),f=l*u*g*(Math.sin(c*p)*(o+l*u*d)/c+d*Math.cos(c*p))-g*(Math.cos(c*p)*(o+l*u*d)-c*d*Math.sin(c*p))}else{var m=Math.exp(-u*p);h=this._toValue-m*(d+(o+u*d)*p),f=m*(o*(p*u-1)+p*d*(u*u))}if(this._lastTime=r,this._lastPosition=h,this._lastVelocity=f,this._onUpdate(h),this.__active){var v=!1;this._overshootClamping&&0!==this._stiffness&&(v=this._startPosition<this._toValue?h>this._toValue:h<this._toValue);var y=Math.abs(f)<=this._restSpeedThreshold,_=!0;if(0!==this._stiffness&&(_=Math.abs(this._toValue-h)<=this._restDisplacementThreshold),v||y&&_){0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),this.__debouncedOnEnd({finished:!0});return}this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}let tv=tm;var ty=n(23449);function t_(){return s||(s=ty.Z.inOut(ty.Z.ease)),s}class tb extends tc{constructor(t){var r,n,i,s,a;super(),this._toValue=t.toValue,this._easing=null!==(r=t.easing)&&void 0!==r?r:t_(),this._duration=null!==(n=t.duration)&&void 0!==n?n:500,this._delay=null!==(i=t.delay)&&void 0!==i?i:0,this.__iterations=null!==(s=t.iterations)&&void 0!==s?s:1,this._useNativeDriver=Q(t),this._platformConfig=t.platformConfig,this.__isInteraction=null!==(a=t.isInteraction)&&void 0!==a?a:!this._useNativeDriver}__getNativeAnimationConfig(){for(var t=1e3/60,r=[],n=Math.round(this._duration/t),i=0;i<n;i++)r.push(this._easing(i/n));return r.push(this._easing(1)),{type:"frames",frames:r,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(t,r,n,i,s){this.__active=!0,this._fromValue=t,this._onUpdate=r,this.__onEnd=n;var a=()=>{0!==this._duration||this._useNativeDriver?(this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(s):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))):(this._onUpdate(this._toValue),this.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(a,this._delay):a()}onUpdate(){var t=Date.now();if(t>=this._startTime+this._duration){0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),this.__debouncedOnEnd({finished:!0});return}this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),global.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}let tS=tb;var tE=Z.API,tT={r:0,g:0,b:0,a:1},tw=1,tC=t=>t;function tR(t){if(null==t)return null;if(tI(t))return t;var r=es()(t);if(null==r)return null;if("object"==typeof r){var n=tC(r);if(null!=n)return n}else if("number"==typeof r){var i=(4278190080&r)>>>24;return{r:i,g:(16711680&r)>>>16,b:(65280&r)>>>8,a:(255&r)/255}}return null}function tI(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b&&"number"==typeof t.a}function tA(t){return t&&t.r instanceof eC&&t.g instanceof eC&&t.b instanceof eC&&t.a instanceof eC}class tO extends en{constructor(t,r){super(),this._listeners={};var n=null!=t?t:tT;if(tA(n)){var i=n;this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a}else{var s,a=null!==(s=tR(n))&&void 0!==s?s:tT,o=tT;tI(a)?o=a:this.nativeColor=a,this.r=new eC(o.r),this.g=new eC(o.g),this.b=new eC(o.b),this.a=new eC(o.a)}(this.nativeColor||r&&r.useNativeDriver)&&this.__makeNative()}setValue(t){var r,n=!1;if(this.__isNative){var i=this.__getNativeTag();tE.setWaitingForIdentifier(i.toString())}var s=null!==(r=tR(t))&&void 0!==r?r:tT;if(tI(s)){var a=s;this.r.setValue(a.r),this.g.setValue(a.g),this.b.setValue(a.b),this.a.setValue(a.a),null!=this.nativeColor&&(this.nativeColor=null,n=!0)}else{var o=s;this.nativeColor!==o&&(this.nativeColor=o,n=!0)}if(this.__isNative){var l=this.__getNativeTag();n&&tE.updateAnimatedNodeConfig(l,this.__getNativeConfig()),tE.unsetWaitingForIdentifier(l.toString())}}setOffset(t){this.r.setOffset(t.r),this.g.setOffset(t.g),this.b.setOffset(t.b),this.a.setOffset(t.a)}flattenOffset(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}extractOffset(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}addListener(t){var r=String(tw++),n=r=>{r.value,t(this.__getValue())};return this._listeners[r]={r:this.r.addListener(n),g:this.g.addListener(n),b:this.b.addListener(n),a:this.a.addListener(n)},r}removeListener(t){this.r.removeListener(this._listeners[t].r),this.g.removeListener(this._listeners[t].g),this.b.removeListener(this._listeners[t].b),this.a.removeListener(this._listeners[t].a),delete this._listeners[t]}removeAllListeners(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}stopAnimation(t){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),t&&t(this.__getValue())}resetAnimation(t){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),t&&t(this.__getValue())}__getValue(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}__attach(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),super.__attach()}__detach(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),super.__detach()}__makeNative(t){this.r.__makeNative(t),this.g.__makeNative(t),this.b.__makeNative(t),this.a.__makeNative(t),super.__makeNative(t)}__getNativeConfig(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}var tN=function(t,r){return t&&r.onComplete?function(){r.onComplete&&r.onComplete(...arguments),t&&t(...arguments)}:t||r.onComplete},tk=function(t,r,n){if(t instanceof to){var i=o()({},r),s=o()({},r);for(var a in r){var l=r[a],u=l.x,c=l.y;void 0!==u&&void 0!==c&&(i[a]=u,s[a]=c)}return tL([n(t.x,i),n(t.y,s)],{stopTogether:!1})}if(t instanceof tO){var d=o()({},r),h=o()({},r),f=o()({},r),p=o()({},r);for(var g in r){var m=r[g],v=m.r,y=m.g,_=m.b,b=m.a;void 0!==v&&void 0!==y&&void 0!==_&&void 0!==b&&(d[g]=v,h[g]=y,f[g]=_,p[g]=b)}return tL([n(t.r,d),n(t.g,h),n(t.b,f),n(t.a,p)],{stopTogether:!1})}return null},tP=function t(r,n){var i=function(t,r,n){n=tN(n,r);var i=t,s=r;i.stopTracking(),r.toValue instanceof et?i.track(new ti(i,r.toValue,tv,s,n)):i.animate(new tv(s),n)};return tk(r,n,t)||{start:function(t){i(r,n,t)},stop:function(){r.stopAnimation()},reset:function(){r.resetAnimation()},_startNativeLoop:function(t){i(r,o()(o()({},n),{},{iterations:t}))},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},tx=function t(r,n){var i=function(t,r,n){n=tN(n,r);var i=t,s=r;i.stopTracking(),r.toValue instanceof et?i.track(new ti(i,r.toValue,tS,s,n)):i.animate(new tS(s),n)};return tk(r,n,t)||{start:function(t){i(r,n,t)},stop:function(){r.stopAnimation()},reset:function(){r.resetAnimation()},_startNativeLoop:function(t){i(r,o()(o()({},n),{},{iterations:t}))},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},tD=function(t){var r=0;return{start:function(n){var i=function i(s){if(!s.finished||++r===t.length){n&&n(s);return}t[r].start(i)};0===t.length?n&&n({finished:!0}):t[r].start(i)},stop:function(){r<t.length&&t[r].stop()},reset:function(){t.forEach((t,n)=>{n<=r&&t.reset()}),r=0},_startNativeLoop:function(){throw Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},tL=function(t,r){var n=0,i={},s=!(r&&!1===r.stopTogether),a={start:function(r){if(n===t.length){r&&r({finished:!0});return}t.forEach((o,l)=>{var u=function(o){if(i[l]=!0,++n===t.length){n=0,r&&r(o);return}!o.finished&&s&&a.stop()};o?o.start(u):u({finished:!0})})},stop:function(){t.forEach((t,r)=>{i[r]||t.stop(),i[r]=!0})},reset:function(){t.forEach((t,r)=>{t.reset(),i[r]=!1,n=0})},_startNativeLoop:function(){throw Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return a},tM=function(t){return tx(new eC(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})},tF=function(t,r){return tL(r.map((r,n)=>tD([tM(t*n),r])))};let tj={Value:eC,ValueXY:to,Color:tO,Interpolation:e_,Node:et,decay:function t(r,n){var i=function(t,r,n){n=tN(n,r);var i=t,s=r;i.stopTracking(),i.animate(new th(s),n)};return tk(r,n,t)||{start:function(t){i(r,n,t)},stop:function(){r.stopAnimation()},reset:function(){r.resetAnimation()},_startNativeLoop:function(t){i(r,o()(o()({},n),{},{iterations:t}))},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:tx,spring:tP,add:function(t,r){return new e2(t,r)},subtract:function(t,r){return new tr(t,r)},divide:function(t,r){return new e6(t,r)},multiply:function(t,r){return new te(t,r)},modulo:function(t,r){return new e8(t,r)},diffClamp:function(t,r,n){return new e3(t,r,n)},delay:tM,sequence:tD,parallel:tL,stagger:tF,loop:function(t,r){var n=void 0===r?{}:r,i=n.iterations,s=void 0===i?-1:i,a=n.resetBeforeIteration,o=void 0===a||a,l=!1,u=0;return{start:function(r){var n=function n(i){void 0===i&&(i={finished:!0}),l||u===s||!1===i.finished?r&&r(i):(u++,o&&t.reset(),t.start(n))};t&&0!==s?t._isUsingNativeDriver()?t._startNativeLoop(s):n():r&&r({finished:!0})},stop:function(){l=!0,t.stop()},reset:function(){u=0,l=!1,t.reset()},_startNativeLoop:function(){throw Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,r){var n=new eO(t,r);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:eG,attachNativeEvent:eI,forkEvent:function(t,r){return t?t instanceof eO?(t.__addListener(r),t):function(){"function"==typeof t&&t(...arguments),r(...arguments)}:r},unforkEvent:function(t,r){t&&t instanceof eO&&t.__removeListener(r)},Event:eO};var tV=!1;function tB(t){return r=>{t(null==r?r:function(){if(tV){console.warn("Ignoring recursive animation callback when running mock animations");return}tV=!0;try{r(...arguments)}finally{tV=!1}})}}var tU={start:()=>{},stop:()=>{},reset:()=>{},_startNativeLoop:()=>{},_isUsingNativeDriver:()=>!1},tz=t=>o()(o()({},tU),{},{start:tB(r=>{t.forEach(t=>t.start()),null==r||r({finished:!0})})}),tq=function(t){return tz(t)},tH=function(t,r){return tz(t)},tW=function(t){return tU},tG=function(t,r){return tz(r)},tK=function(t,r){return(void 0===r?{}:r).iterations,tU};let t$={Value:eC,ValueXY:to,Color:tO,Interpolation:e_,Node:et,decay:function(t,r){return tU},timing:function(t,r){var n=t;return o()(o()({},tU),{},{start:tB(t=>{n.setValue(r.toValue),null==t||t({finished:!0})})})},spring:function(t,r){var n=t;return o()(o()({},tU),{},{start:tB(t=>{n.setValue(r.toValue),null==t||t({finished:!0})})})},add:tj.add,subtract:tj.subtract,divide:tj.divide,multiply:tj.multiply,modulo:tj.modulo,diffClamp:tj.diffClamp,delay:tW,sequence:tq,parallel:tH,stagger:tG,loop:tK,event:tj.event,createAnimatedComponent:eG,attachNativeEvent:eI,forkEvent:tj.forkEvent,unforkEvent:tj.unforkEvent,Event:eO};var tY=l.Z.isTesting?t$:tj;let tQ=o()({FlatList:eK,Image:e$,ScrollView:eQ,SectionList:eJ,Text:eX,View:e0},tY)},93256:(t,r,n)=>{"use strict";n.d(r,{default:()=>w}),n(68497);var i,s=n(29879),a=n.n(s),o=n(40521),l=n(37704),u=n.n(l),c=n(95542),d=n.n(c),h=n(88401),f=n(7153),p=c.createContext(null),g=c.forwardRef((t,r)=>{var n=t.children,i=t.WrapperComponent,s=c.createElement(f.default,{children:n,key:1,style:v.appContainer});return i&&(s=c.createElement(i,null,s)),c.createElement(p.Provider,{value:t.rootTag},c.createElement(f.default,{ref:r,style:v.appContainer},s))});g.displayName="AppContainer";let m=g;var v=h.Z.create({appContainer:{flex:1,pointerEvents:"box-none"}}),y=n(92005);function _(t,r,n,i){var s=i.hydrate,o=i.initialProps,l=i.mode,u=i.rootTag,c=s?"concurrent"===l?y.ZB:y.hS:"concurrent"===l?y.sY:y.default;return a()(u,"Expect to have a valid rootTag, instead got ",u),c(d().createElement(m,{WrapperComponent:r,ref:n,rootTag:u},d().createElement(t,o)),u)}function b(t,r,n){return{element:d().createElement(m,{WrapperComponent:n,rootTag:{}},d().createElement(t,r)),getStyleElement:t=>{var r=h.Z.getSheet();return d().createElement("style",u()({},t,{dangerouslySetInnerHTML:{__html:r.textContent},id:r.id}))}}}var S={},E={},T=t=>t();class w{static getAppKeys(){return Object.keys(E)}static getApplication(t,r){return a()(E[t]&&E[t].getApplication,"Application "+t+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),E[t].getApplication(r)}static registerComponent(t,r){return E[t]={getApplication:t=>b(T(r),t?t.initialProps:S,i&&i(t)),run:t=>_(T(r),i&&i(t),t.callback,{hydrate:t.hydrate||!1,initialProps:t.initialProps||S,mode:t.mode||"concurrent",rootTag:t.rootTag})},t}static registerConfig(t){t.forEach(t=>{var r=t.appKey,n=t.component,i=t.run;i?w.registerRunnable(r,i):(a()(n,"No component provider passed in"),w.registerComponent(r,n))})}static registerRunnable(t,r){return E[t]={run:r},t}static runApplication(t,r){return a()(E[t]&&E[t].run,'Application "'+t+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),E[t].run(r)}static setComponentProviderInstrumentationHook(t){T=t}static setWrapperComponentProvider(t){i=t}static unmountApplicationComponentAtRootTag(t){(0,o.Z)(t)}}},43556:(t,r,n)=>{"use strict";n.d(r,{default:()=>p});var i=n(29879),s=n.n(i),a=n(18971),o=n(52765),l=o.Z&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),u=["change","memoryWarning"],c=l?"webkitvisibilitychange":"visibilitychange",d=l?"webkitVisibilityState":"visibilityState",h={BACKGROUND:"background",ACTIVE:"active"},f=null;class p{static get currentState(){if(!p.isAvailable)return h.ACTIVE;switch(document[d]){case"hidden":case"prerender":case"unloaded":return h.BACKGROUND;default:return h.ACTIVE}}static addEventListener(t,r){if(p.isAvailable&&(s()(-1!==u.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),"change"===t))return f||(f=new a.Z,document.addEventListener(c,()=>{f&&f.emit("change",p.currentState)},!1)),f.addListener(t,r)}}p.isAvailable=o.Z&&!!document[d]},39649:(t,r,n)=>{"use strict";n.d(r,{default:()=>o});var i=n(52765),s=function(){return i.Z&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}(),a=new WeakMap;let o={getColorScheme:()=>s&&s.matches?"dark":"light",addChangeListener(t){var r=a.get(t);return r||(r=r=>{t({colorScheme:r.matches?"dark":"light"})},a.set(t,r)),s&&s.addListener(r),{remove:function(){var r=a.get(t);s&&r&&s.removeListener(r),a.delete(t)}}}}},73456:(t,r,n)=>{"use strict";n.d(r,{default:()=>v});var i=n(68497),s=n.n(i),a=n(37704),o=n.n(a),l=n(55855),u=n.n(l),c=n(95542),d=n(84844),h=n(88401),f=n(7153),p=["aria-readonly","color","disabled","onChange","onValueChange","readOnly","style","value"],g=c.forwardRef((t,r)=>{var n=t["aria-readonly"],i=t.color,s=t.disabled,a=t.onChange,l=t.onValueChange,h=t.readOnly,g=t.style,v=t.value,y=u()(t,p);function _(t){var r=t.nativeEvent.target.checked;t.nativeEvent.value=r,a&&a(t),l&&l(r)}var b=c.createElement(f.default,{style:[m.fakeControl,v&&m.fakeControlChecked,v&&i&&{backgroundColor:i,borderColor:i},s&&m.fakeControlDisabled,v&&s&&m.fakeControlCheckedAndDisabled]}),S=(0,d.default)("input",{checked:v,disabled:s,onChange:_,readOnly:!0===h||!0===n||!0===y.accessibilityReadOnly,ref:r,style:[m.nativeControl,m.cursorInherit],type:"checkbox"});return c.createElement(f.default,o()({},y,{"aria-disabled":s,"aria-readonly":n,style:[m.root,g,s&&m.cursorDefault]}),b,S)});g.displayName="CheckBox";var m=h.Z.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:s()(s()({},h.Z.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});let v=g},51289:(t,r,n)=>{"use strict";var i;n.d(r,{default:()=>s});class s{static isAvailable(){return void 0===i&&(i="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),i}static getString(){return Promise.resolve("")}static setString(t){var r=!1,n=document.body;if(n){var i=document.createElement("span");i.textContent=t,i.style.opacity="0",i.style.position="absolute",i.style.whiteSpace="pre-wrap",i.style.userSelect="auto",n.appendChild(i);var s=window.getSelection();s.removeAllRanges();var a=document.createRange();a.selectNodeContents(i),s.addRange(a);try{document.execCommand("copy"),r=!0}catch(t){}s.removeAllRanges(),n.removeChild(i)}return r}}},51221:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>h});var i=n(29879),s=n.n(i),a=n(52765),o={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},l={},u=a.Z;function c(){if(a.Z){var t,r,n=window;if(n.visualViewport){var i=n.visualViewport;t=Math.round(i.height*i.scale),r=Math.round(i.width*i.scale)}else{var s=n.document.documentElement;t=s.clientHeight,r=s.clientWidth}o.window={fontScale:1,height:t,scale:n.devicePixelRatio||1,width:r},o.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function d(){c(),Array.isArray(l.change)&&l.change.forEach(t=>t(o))}class h{static get(t){return u&&(u=!1,c()),s()(o[t],"No dimension set for key "+t),o[t]}static set(t){t&&(a.Z?s()(!1,"Dimensions cannot be set in the browser"):(null!=t.screen&&(o.screen=t.screen),null!=t.window&&(o.window=t.window)))}static addEventListener(t,r){return l[t]=l[t]||[],l[t].push(r),{remove:()=>{this.removeEventListener(t,r)}}}static removeEventListener(t,r){Array.isArray(l[t])&&(l[t]=l[t].filter(t=>t!==r))}}a.Z&&(window.visualViewport?window.visualViewport.addEventListener("resize",d,!1):window.addEventListener("resize",d,!1))},23449:(t,r,n)=>{"use strict";n.d(r,{Z:()=>S});/**
 * BezierEasing - use bezier curve for transition easing function
 * https://github.com/gre/bezier-easing
 * @copyright 2014-2015 Gatan Renaudeau. MIT License.
 */var i,s=4,a=.001,o=1e-7,l=10,u=11,c=.1,d="function"==typeof Float32Array;function h(t,r){return 1-3*r+3*t}function f(t,r){return 3*r-6*t}function p(t){return 3*t}function g(t,r,n){return((h(r,n)*t+f(r,n))*t+p(r))*t}function m(t,r,n){return 3*h(r,n)*t*t+2*f(r,n)*t+p(r)}function v(t,r,n,i,s){var a,u,c=0,d=r,h=n;do(a=g(u=d+(h-d)/2,i,s)-t)>0?h=u:d=u;while(Math.abs(a)>o&&++c<l);return u}function y(t,r,n,i){for(var a=r,o=0;o<s;++o){var l=m(a,n,i);if(0===l)break;var u=g(a,n,i)-t;a-=u/l}return a}function _(t,r,n,i){if(!(t>=0&&t<=1&&n>=0&&n<=1))throw Error("bezier x values must be in [0, 1] range");var s=d?new Float32Array(u):Array(u);if(t!==r||n!==i)for(var o=0;o<u;++o)s[o]=g(o*c,t,n);function l(r){for(var i=0,o=1,l=u-1;o!==l&&s[o]<=r;++o)i+=c;var d=i+(r-s[--o])/(s[o+1]-s[o])*c,h=m(d,t,n);return h>=a?y(r,d,t,n):0===h?d:v(r,i,i+c,t,n)}return function(s){return t===r&&n===i?s:0===s?0:1===s?1:g(l(s),r,i)}}class b{static step0(t){return t>0?1:0}static step1(t){return t>=1?1:0}static linear(t){return t}static ease(t){return i||(i=b.bezier(.42,0,1,1)),i(t)}static quad(t){return t*t}static cubic(t){return t*t*t}static poly(t){return r=>Math.pow(r,t)}static sin(t){return 1-Math.cos(t*Math.PI/2)}static circle(t){return 1-Math.sqrt(1-t*t)}static exp(t){return Math.pow(2,10*(t-1))}static elastic(t){void 0===t&&(t=1);var r=t*Math.PI;return t=>1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*r)}static back(t){return void 0===t&&(t=1.70158),r=>r*r*((t+1)*r-t)}static bounce(t){if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var r=t-1.5/2.75;return 7.5625*r*r+.75}if(t<2.5/2.75){var n=t-2.25/2.75;return 7.5625*n*n+.9375}var i=t-2.625/2.75;return 7.5625*i*i+.984375}static bezier(t,r,n,i){return _(t,r,n,i)}static in(t){return t}static out(t){return r=>1-t(1-r)}static inOut(t){return r=>r<.5?t(2*r)/2:1-t((1-r)*2)/2}}let S=b},9361:(t,r,n)=>{"use strict";n.d(r,{default:()=>O});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(68497),u=n.n(l),c=n(7153),d=n(88401);let h=function t(r,n,i){if(void 0===i&&(i=-1),0===i)return!0;if(r===n||"function"==typeof r&&"function"==typeof n)return!1;if("object"!=typeof r||null===r)return r!==n;if("object"!=typeof n||null===n||r.constructor!==n.constructor)return!0;if(Array.isArray(r)){var s=r.length;if(n.length!==s)return!0;for(var a=0;a<s;a++)if(t(r[a],n[a],i-1))return!0}else{for(var o in r)if(t(r[o],n[o],i-1))return!0;for(var l in n)if(void 0===r[l]&&void 0!==n[l])return!0}return!1};var f=n(58588),p=n(29879),g=n.n(p),m=n(95542),v=n(55544),y=n(83370),_=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function b(t,r){return!!(t===r||_(t)&&_(r))}function S(t,r){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!b(t[n],r[n]))return!1;return!0}function E(t,r){void 0===r&&(r=S);var n=null;function i(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&r(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return i.clear=function(){n=null},i}var T=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function w(t){return null!=t?t:"android"===f.Z.OS}function C(t){return null!=t?t:1}function R(t){return"number"==typeof Object(t).length}class I extends m.PureComponent{scrollToEnd(t){this._listRef&&this._listRef.scrollToEnd(t)}scrollToIndex(t){this._listRef&&this._listRef.scrollToIndex(t)}scrollToItem(t){this._listRef&&this._listRef.scrollToItem(t)}scrollToOffset(t){this._listRef&&this._listRef.scrollToOffset(t)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(t){super(t),this._virtualizedListPairs=[],this._captureRef=t=>{this._listRef=t},this._getItem=(t,r)=>{var n=C(this.props.numColumns);if(!(n>1))return t[r];for(var i=[],s=0;s<n;s++){var a=r*n+s;if(a<t.length){var o=t[a];i.push(o)}}return i},this._getItemCount=t=>{if(!(null!=t&&R(t)))return 0;var r=C(this.props.numColumns);return r>1?Math.ceil(t.length/r):t.length},this._keyExtractor=(t,r)=>{var n,i=C(this.props.numColumns),s=null!==(n=this.props.keyExtractor)&&void 0!==n?n:y.jn;return i>1?(g()(Array.isArray(t),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",i),t.map((t,n)=>s(t,r*i+n)).join(":")):s(t,r)},this._renderer=(t,r,n,i,s)=>{var a=C(i),o=n=>t?m.createElement(t,n):r?r(n):null,l=t=>{if(!(a>1))return o(t);var r=t.item,i=t.index;return g()(Array.isArray(r),"Expected array of items with numColumns > 1"),m.createElement(c.default,{style:[A.row,n]},r.map((r,n)=>{var s=o({item:r,index:i*a+n,separators:t.separators});return null!=s?m.createElement(m.Fragment,{key:n},s):null}))};return t?{ListItemComponent:l}:{renderItem:l}},this._memoizedRenderer=E(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(t=>({viewabilityConfig:t.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(t.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(t){g()(t.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),g()(t.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),g()(!h(t.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),g()(t.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(t){var r=t.getItem,n=t.getItemCount,i=t.horizontal,s=t.columnWrapperStyle,a=t.onViewableItemsChanged,o=t.viewabilityConfigCallbackPairs,l=C(this.props.numColumns);g()(!r&&!n,"FlatList does not support custom data formats."),l>1?g()(!i,"numColumns does not support horizontal."):g()(!s,"columnWrapperStyle not supported for single column lists"),g()(!(a&&o),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(t,r){var n,i=C(this.props.numColumns),s=null!==(n=this.props.keyExtractor)&&void 0!==n?n:y.jn;r.item.forEach((n,a)=>{g()(null!=r.index,"Missing index!");var o=r.index*i+a;t.push(u()(u()({},r),{},{item:n,key:s(n,o),index:o}))})}_createOnViewableItemsChanged(t){return r=>{var n=C(this.props.numColumns);if(t){if(n>1){var i=[],s=[];r.viewableItems.forEach(t=>this._pushMultiColumnViewable(s,t)),r.changed.forEach(t=>this._pushMultiColumnViewable(i,t)),t({viewableItems:s,changed:i})}else t(r)}}}render(){var t=this.props,r=t.numColumns,n=t.columnWrapperStyle,i=t.removeClippedSubviews,a=t.strictMode,l=void 0!==a&&a,u=o()(t,T),c=l?this._memoizedRenderer:this._renderer;return m.createElement(v.Z,s()({},u,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:w(i)},c(this.props.ListItemComponent,this.props.renderItem,n,r,this.props.extraData)))}}var A=d.Z.create({row:{flexDirection:"row"}});let O=I},99614:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>U});var i=n(68497),s=n.n(i),a=n(37704),o=n.n(a),l=n(55855),u=n.n(l),c=n(95542),d=n(84844),h=[];function f(t){return h[t-1]}var p=n(42037),g=/^data:/;class m{static has(t){var r=m._entries;return g.test(t)||!!r[t]}static add(t){var r=m._entries,n=Date.now();r[t]?(r[t].lastUsedTimestamp=n,r[t].refCount+=1):r[t]={lastUsedTimestamp:n,refCount:1}}static remove(t){var r=m._entries;r[t]&&(r[t].refCount-=1),m._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var t,r,n=m._entries,i=Object.keys(n);i.length+1>m._maximumEntries&&(i.forEach(i=>{var s=n[i];(!r||s.lastUsedTimestamp<r.lastUsedTimestamp)&&0===s.refCount&&(t=i,r=s)}),t&&delete n[t])}}m._maximumEntries=256,m._entries={};var v=0,y={},_={abort(t){var r=y[""+t];r&&(r.onerror=null,r.onload=null,r=null,delete y[""+t])},getSize(t,r,n){var i=!1,s=setInterval(o,16),a=_.load(t,o,l);function o(){var t=y[""+a];if(t){var n=t.naturalHeight,o=t.naturalWidth;n&&o&&(r(o,n),i=!0)}i&&(_.abort(a),clearInterval(s))}function l(){"function"==typeof n&&n(),_.abort(a),clearInterval(s)}},has:t=>m.has(t),load(t,r,n){v+=1;var i=new window.Image;return i.onerror=n,i.onload=t=>{var n=()=>r({nativeEvent:t});"function"==typeof i.decode?i.decode().then(n,n):setTimeout(n,0)},i.src=t,y[""+v]=i,v},prefetch:t=>new Promise((r,n)=>{_.load(t,()=>{m.add(t),m.remove(t),r()},n)}),queryCache(t){var r={};return t.forEach(t=>{m.has(t)&&(r[t]="disk/memory")}),Promise.resolve(r)}};let b=_;var S=n(69299),E=n(88401),T=n(67142),w=n(7153),C=n(53325),R=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],I="ERRORED",A="LOADED",O="LOADING",N="IDLE",k=0,P=/^(data:image\/svg\+xml;utf8,)(.*)/;function x(t,r){return t&&null!=r?c.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},c.createElement("defs",null,c.createElement("filter",{id:"tint-"+r,suppressHydrationWarning:!0},c.createElement("feFlood",{floodColor:""+t,key:t}),c.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function D(t,r,n,i){var s=E.Z.flatten(t),a=s.filter,o=s.resizeMode,l=s.shadowOffset,u=s.tintColor;s.resizeMode&&(0,C.O)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),s.tintColor&&(0,C.O)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var c=[],d=null;if(a&&c.push(a),r&&c.push("blur("+r+"px)"),l){var h=(0,p.Lm)(s);h&&c.push("drop-shadow("+h+")")}return(i||u)&&null!=n&&c.push("url(#tint-"+n+")"),c.length>0&&(d=c.join(" ")),[o,d,u]}function L(t){if("number"==typeof t){var r=f(t);return{height:r.height,width:r.width}}if(null!=t&&!Array.isArray(t)&&"object"==typeof t)return{height:t.height,width:t.width}}function M(t){var r=null;if("number"==typeof t){var n=f(t);if(null==n)throw Error('Image: asset with ID "'+t+'" could not be found. Please check the image source or packager.');var i=n.scales[0];if(n.scales.length>1){var s=S.Z.get();i=n.scales.reduce((t,r)=>Math.abs(r-s)<Math.abs(t-s)?r:t)}var a=1!==i?"@"+i+"x":"";r=n?n.httpServerLocation+"/"+n.name+a+"."+n.type:""}else"string"==typeof t?r=t:t&&"string"==typeof t.uri&&(r=t.uri);if(r){var o=r.match(P);if(o)return""+o[1]+encodeURIComponent(o[2])}return r}var F=c.forwardRef((t,r)=>{var n=t["aria-label"],i=t.accessibilityLabel,s=t.blurRadius,a=t.defaultSource,l=t.draggable,h=t.onError,f=t.onLayout,p=t.onLoad,g=t.onLoadEnd,m=t.onLoadStart,v=t.pointerEvents,y=t.source,_=t.style,S=u()(t,R),E=n||i,C=c.useState(()=>{var t=M(y);return null!=t&&b.has(t)?A:N}),P=C[0],F=C[1],j=c.useState({}),U=j[0],z=j[1],q=c.useContext(T.Z),H=c.useRef(null),W=c.useRef(k++),G=c.useRef(null),K=P===A||P===O&&null==a,$=D(_,s,W.current,t.tintColor),Y=$[0],Q=$[1],Z=$[2],J=t.resizeMode||Y||"cover",X=t.tintColor||Z,ee=K?y:a,et=M(ee),er=L(ee),en=et?'url("'+et+'")':null,ei=ea(),es=et?(0,d.default)("img",{alt:E||"",style:V.accessibilityImage$raw,draggable:l||!1,ref:H,src:et}):null;function ea(){if(null!=H.current&&("center"===J||"repeat"===J)){var t=H.current,r=t.naturalHeight,n=t.naturalWidth,i=U.height,s=U.width;if(r&&n&&i&&s){var a=Math.min(1,s/n,i/r);return Math.ceil(a*n)+"px "+Math.ceil(a*r)+"px"}}}function eo(t){if("center"===J||"repeat"===J||f){var r=t.nativeEvent.layout;f&&f(t),z(r)}}var el=M(y);return c.useEffect(()=>{function t(){null!=G.current&&(b.abort(G.current),G.current=null)}return t(),null!=el&&(F(O),m&&m(),G.current=b.load(el,function(t){F(A),p&&p(t),g&&g()},function(){F(I),h&&h({nativeEvent:{error:"Failed to load resource "+el}}),g&&g()})),t},[el,G,F,h,p,g,m]),c.createElement(w.default,o()({},S,{"aria-label":E,onLayout:eo,pointerEvents:v,ref:r,style:[V.root,q&&V.inline,er,_,V.undo,{boxShadow:null}]}),c.createElement(w.default,{style:[V.image,B[J],{backgroundImage:en,filter:Q},null!=ei&&{backgroundSize:ei}],suppressHydrationWarning:!0}),es,x(X,W.current))});F.displayName="Image";var j=F;j.getSize=function(t,r,n){b.getSize(t,r,n)},j.prefetch=function(t){return b.prefetch(t)},j.queryCache=function(t){return b.queryCache(t)};var V=E.Z.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:s()(s()({},E.Z.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:s()(s()({},E.Z.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),B=E.Z.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});let U=j},58892:(t,r,n)=>{"use strict";n.d(r,{Z:()=>I});var i=n(29879),s=n.n(i),a=n(68497),o=n.n(a);class l{constructor(t){var r=t.onMoreTasks;this._onMoreTasks=r,this._queueStack=[{tasks:[],popable:!0}]}enqueue(t){this._getCurrentQueue().push(t)}enqueueTasks(t){t.forEach(t=>this.enqueue(t))}cancelTasks(t){this._queueStack=this._queueStack.map(r=>o()(o()({},r),{},{tasks:r.tasks.filter(r=>-1===t.indexOf(r))})).filter((t,r)=>t.tasks.length>0||0===r)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var t=this._getCurrentQueue();if(t.length){var r=t.shift();try{"object"==typeof r&&r.gen?this._genPromise(r):"object"==typeof r&&r.run?r.run():(s()("function"==typeof r,"Expected Function, SimpleTask, or PromiseTask, but got:\n"+JSON.stringify(r,null,2)),r())}catch(t){throw t.message="TaskQueue: Error with task "+(r.name||"")+": "+t.message,t}}}_getCurrentQueue(){var t=this._queueStack.length-1,r=this._queueStack[t];return r.popable&&0===r.tasks.length&&t>0?(this._queueStack.pop(),this._getCurrentQueue()):r.tasks}_genPromise(t){var r=this._queueStack.push({tasks:[],popable:!1})-1,n=this._queueStack[r];t.gen().then(()=>{n.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(r=>{setTimeout(()=>{throw r.message="TaskQueue: Error resolving Promise in task "+t.name+": "+r.message,r},0)})}}let u=l;var c=n(18971),d=n(52765),h=function(t,r){return setTimeout(()=>{var r=Date.now();t({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-r))})},1)},f=d.Z&&void 0!==window.requestIdleCallback,p=f?window.requestIdleCallback:h;f&&window.cancelIdleCallback;let g=p;var m=new c.Z,v={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(t){var r=[],n=new Promise(n=>{C(),t&&r.push(t),r.push({run:n,name:"resolve "+(t&&t.name||"?")}),S.enqueueTasks(r)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{S.cancelTasks(r)}}},createInteractionHandle(){C();var t=++T;return _.add(t),t},clearInteractionHandle(t){s()(!!t,"Must provide a handle to clear."),C(),_.delete(t),b.add(t)},addListener:m.addListener.bind(m),setDeadline(t){w=t}},y=new Set,_=new Set,b=new Set,S=new u({onMoreTasks:C}),E=0,T=0,w=-1;function C(){E||(E=w>0?setTimeout(R):g(R))}function R(){E=0;var t=y.size;_.forEach(t=>y.add(t)),b.forEach(t=>y.delete(t));var r=y.size;if(0!==t&&0===r?m.emit(v.Events.interactionComplete):0===t&&0!==r&&m.emit(v.Events.interactionStart),0===r){for(var n=Date.now();S.hasTasksToProcess();)if(S.processNext(),w>0&&Date.now()-n>=w){C();break}}_.clear(),b.clear()}let I=v},4229:(t,r,n)=>{"use strict";n.d(r,{default:()=>h});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(7153),c=["behavior","contentContainerStyle","keyboardVerticalOffset"];class d extends l.Component{constructor(){super(...arguments),this.frame=null,this.onLayout=t=>{this.frame=t.nativeEvent.layout}}relativeKeyboardHeight(t){var r=this.frame;if(!r||!t)return 0;var n=t.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(r.y+r.height-n,0)}onKeyboardChange(t){}render(){var t=this.props,r=(t.behavior,t.contentContainerStyle,t.keyboardVerticalOffset,o()(t,c));return l.createElement(u.default,s()({onLayout:this.onLayout},r))}}let h=d},18552:(t,r,n)=>{"use strict";n.d(r,{default:()=>q});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(48194),c=n.n(u),d=n(52765);let h=function(t){var r=t.children,n=l.useRef(null);if(d.Z&&!n.current){var i=document.createElement("div");i&&document.body&&(document.body.appendChild(i),n.current=i)}return l.useEffect(()=>{if(d.Z)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}},[]),n.current&&d.Z?c().createPortal(r,n.current):null};var f=n(88401),p=n(84844),g=300;function m(t,r){return"slide"===t?r?_:b:"fade"===t?r?S:E:r?y.container:y.hidden}function v(t){var r=t.animationType,n=t.children,i=t.onDismiss,s=t.onShow,a=t.visible,o=l.useState(!1),u=o[0],c=o[1],d=l.useRef(!1),h=l.useRef(!1),f=r&&"none"!==r,g=l.useCallback(t=>{(!t||t.currentTarget===t.target)&&(a?s&&s():c(!1))},[s,a]);return l.useEffect(()=>{h.current&&!u&&i&&i(),h.current=u},[u,i]),l.useEffect(()=>{a&&c(!0),a===d.current||f||g(),d.current=a},[f,a,g]),u||a?(0,p.default)("div",{style:u?m(r,a):y.hidden,onAnimationEnd:g,children:n}):null}var y=f.Z.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:g+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:g+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),_=[y.container,y.animatedIn,y.slideIn],b=[y.container,y.animatedOut,y.slideOut],S=[y.container,y.animatedIn,y.fadeIn],E=[y.container,y.animatedOut,y.fadeOut];let T=v;var w=n(7153),C=["active","children","onRequestClose","transparent"],R=l.forwardRef((t,r)=>{var n=t.active,i=t.children,a=t.onRequestClose,u=t.transparent,c=o()(t,C);l.useEffect(()=>{if(d.Z){var t=t=>{n&&"Escape"===t.key&&(t.stopPropagation(),a&&a())};return document.addEventListener("keyup",t,!1),()=>document.removeEventListener("keyup",t,!1)}},[n,a]);var h=l.useMemo(()=>[I.modal,u?I.modalTransparent:I.modalOpaque],[u]);return l.createElement(w.default,s()({},c,{"aria-modal":!0,ref:r,role:n?"dialog":null,style:h}),l.createElement(w.default,{style:I.container},i))}),I=f.Z.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}});let A=R;var O=n(26365),N=()=>(0,p.default)("div",{role:"none",tabIndex:0,style:L.focusBracket});function k(t){if(!d.Z)return!1;try{t.focus()}catch(t){}return document.activeElement===t}function P(t){for(var r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(k(n)||P(n))return!0}return!1}function x(t){for(var r=t.childNodes.length-1;r>=0;r--){var n=t.childNodes[r];if(k(n)||x(n))return!0}return!1}let D=t=>{var r=t.active,n=t.children,i=l.useRef(),s=l.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return l.useEffect(()=>{if(d.Z){var t=()=>{if(null!=i.current&&!s.current.trapFocusInProgress&&r){try{if(s.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!i.current.contains(document.activeElement)){var t=P(i.current);s.current.lastFocusedElement===document.activeElement&&(t=x(i.current)),!t&&null!=i.current&&document.activeElement&&O.Z.focus(i.current)}}finally{s.current.trapFocusInProgress=!1}s.current.lastFocusedElement=document.activeElement}};return t(),document.addEventListener("focus",t,!0),()=>document.removeEventListener("focus",t,!0)}},[r]),l.useEffect(function(){if(d.Z){var t=document.activeElement;return function(){t&&document.contains(t)&&O.Z.focus(t)}}},[]),l.createElement(l.Fragment,null,l.createElement(N,null),l.createElement(w.default,{ref:i},n),l.createElement(N,null))};var L=f.Z.create({focusBracket:{outlineStyle:"none"}}),M=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],F=0,j=[],V={};function B(){if(0!==j.length){var t=j[j.length-1];j.forEach(r=>{r in V&&V[r](r===t)})}}function U(t){t in V&&(V[t](!1),delete V[t]);var r=j.indexOf(t);-1!==r&&(j.splice(r,1),B())}function z(t,r){U(t),j.push(t),V[t]=r,B()}let q=l.forwardRef((t,r)=>{var n=t.animationType,i=t.children,a=t.onDismiss,u=t.onRequestClose,c=t.onShow,d=t.transparent,f=t.visible,p=void 0===f||f,g=o()(t,M),m=l.useMemo(()=>F++,[]),v=l.useState(!1),y=v[0],_=v[1],b=l.useCallback(()=>{U(m),a&&a()},[m,a]),S=l.useCallback(()=>{z(m,_),c&&c()},[m,c]);return l.useEffect(()=>()=>U(m),[m]),l.createElement(h,null,l.createElement(T,{animationType:n,onDismiss:b,onShow:S,visible:p},l.createElement(D,{active:y},l.createElement(A,s()({},g,{active:y,onRequestClose:u,ref:r,transparent:d}),i))))})},34246:(t,r,n)=>{"use strict";n.d(r,{default:()=>v});var i=n(68497),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(84844),c=n(42442),d=n(1369);function h(t){var r=t.color,n=t.label,i=t.testID,s=t.value,a={color:r};return(0,u.default)("option",{children:n,style:a,testID:i,value:s})}var f=n(88401),p=["children","enabled","onValueChange","selectedValue","style","testID","itemStyle","mode","prompt"],g=l.forwardRef((t,r)=>{var n=t.children,i=t.enabled,a=t.onValueChange,h=t.selectedValue,f=t.style,g=t.testID,v=(t.itemStyle,t.mode,t.prompt,o()(t,p)),y=l.useRef(null);function _(t){var r=t.target,n=r.selectedIndex,i=r.value;a&&a(i,n)}var b=s()({children:n,disabled:!1===i||void 0,onChange:_,style:[m.initial,f],testID:g,value:h},v),S=(0,d.Z)(b),E=(0,c.Z)(y,S,r);return b.ref=E,(0,u.default)("select",b)});g.Item=h;var m=f.Z.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}});let v=g},69299:(t,r,n)=>{"use strict";n.d(r,{Z:()=>s});var i=n(51221);class s{static get(){return i.default.get("window").scale}static getFontScale(){return i.default.get("window").fontScale||s.get()}static getPixelSizeForLayoutSize(t){return Math.round(t*s.get())}static roundToNearestPixel(t){var r=s.get();return Math.round(t*r)/r}}},58588:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});let i={OS:"web",select:t=>"web"in t?t.web:t.default,get isTesting(){return!1}}},84357:(t,r,n)=>{"use strict";n.d(r,{default:()=>ey});var i,s,a=n(37704),o=n.n(a),l=n(55855),u=n.n(l),c=n(95542),d=n(42442),h=n(52765),f=()=>{},p=function(){var t=!1;if(h.Z)try{var r={};Object.defineProperty(r,"passive",{get:()=>(t=!0,!1)}),window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch(t){}return t}();function g(t){return null!=t&&(p?t:!!t.capture)}function m(){return this.cancelBubble}function v(){return this.defaultPrevented}function y(t){return t.nativeEvent=t,t.persist=f,t.isDefaultPrevented=v,t.isPropagationStopped=m,t}function _(t,r,n,i){var s=g(i),a=t=>n(y(t));return t.addEventListener(r,a,s),function(){null!=t&&t.removeEventListener(r,a,s)}}var b=()=>!!("undefined"!=typeof window&&null!=window.PointerEvent),S="keyboard",E="keyboard",T=!1,w=new Set,C="keyboard",R="mouse",I="touch",A="blur",O="contextmenu",N="focus",k="keydown",P="mousedown",x="mousemove",D="mouseup",L="pointerdown",M="pointermove",F="scroll",j="selectionchange",V="touchcancel",B="touchmove",U="touchstart",z="visibilitychange",q={passive:!0},H={capture:!0,passive:!0};function W(){(null!=i||null!=s)&&(null!=i&&(E=i,i=null),null!=s&&(S=s,s=null),Z())}function G(){i=E,s=S,S=C,E=C,Z(),T=!1}function K(){W()}function $(t){t.metaKey||t.altKey||t.ctrlKey||E===C||(E=C,S=C,Z())}function Y(){"hidden"!==document.visibilityState&&W()}function Q(t){var r=t.type;if(b()){if(r===L){S!==t.pointerType&&(E=t.pointerType,S=t.pointerType,Z());return}if(r===M){E!==t.pointerType&&(E=t.pointerType,Z());return}}else{if(T||(r===P&&S!==R&&(E=R,S=R,Z()),r===x&&E!==R&&(E=R,Z())),r===U){T=!0,t.touches&&t.touches.length>1&&(T=!1),S!==I&&(E=I,S=I,Z());return}(r===O||r===D||r===j||r===F||r===V||r===B)&&(T=!1)}}function Z(){var t={activeModality:S,modality:E};w.forEach(r=>{r(t)})}function J(){return E}h.Z&&(_(window,A,G,q),_(window,N,K,q),_(document,k,$,H),_(document,z,Y,H),_(document,L,Q,H),_(document,M,Q,H),_(document,O,Q,H),_(document,P,Q,H),_(document,x,Q,H),_(document,D,Q,H),_(document,V,Q,H),_(document,B,Q,H),_(document,U,Q,H),_(document,j,Q,H),_(document,F,Q,H));var X=n(55376),ee=n(67896);function et(t,r){var n=(0,ee.Z)(()=>new Map),i=(0,ee.Z)(()=>(i,s)=>{var a=n.get(i);null!=a&&a(),null==s&&(n.delete(i),s=()=>{});var o=_(i,t,s,r);return n.set(i,o),o});return(0,X.Z)(()=>()=>{n.forEach(t=>{t()}),n.clear()},[n]),i}var er={},en={passive:!0},ei="react-gui:hover:lock",es="react-gui:hover:unlock",ea=()=>!!("undefined"!=typeof window&&null!=window.PointerEvent);function eo(t,r,n){var i=document.createEvent("CustomEvent"),s=n||er,a=s.bubbles,o=void 0===a||a,l=s.cancelable,u=void 0===l||l,c=s.detail;i.initCustomEvent(r,o,u,c),t.dispatchEvent(i)}function el(t){var r=t.pointerType;return null!=r?r:J()}function eu(t,r){var n=r.contain,i=r.disabled,s=r.onHoverStart,a=r.onHoverChange,o=r.onHoverUpdate,l=r.onHoverEnd,u=ea(),c=et(u?"pointermove":"mousemove",en),d=et(u?"pointerenter":"mouseenter",en),h=et(u?"pointerleave":"mouseleave",en),f=et(ei,en),p=et(es,en);(0,X.Z)(()=>{var r=t.current;if(null!==r){var u=function(t){null!=l&&l(t),null!=a&&a(!1),c(r,null),h(r,null)},g=function(r){var i=t.current;null!=i&&"touch"!==el(r)&&(n&&eo(i,es),u(r))},m=function(t){"touch"!==el(t)&&null!=o&&(null==t.x&&(t.x=t.clientX),null==t.y&&(t.y=t.clientY),o(t))},v=function(t){null!=s&&s(t),null!=a&&a(!0),null!=o&&c(r,i?null:m),h(r,i?null:g)},y=function(r){var s=t.current;if(null!=s&&"touch"!==el(r)){n&&eo(s,ei),v(r);var a=function(t){t.target!==s&&u(r)},o=function(t){t.target!==s&&v(r)};f(s,i?null:a),p(s,i?null:o)}};d(r,i?null:y)}},[d,c,h,f,p,n,i,s,a,o,l,t])}var ec=n(37236),ed=n(88401),eh=n(7153),ef=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function ep(t,r){var n,i=t.children,s=t.delayLongPress,a=t.delayPressIn,l=t.delayPressOut,h=t.disabled,f=t.onBlur,p=t.onContextMenu,g=t.onFocus,m=t.onHoverIn,v=t.onHoverOut,y=t.onKeyDown,_=t.onLongPress,b=t.onPress,S=t.onPressMove,E=t.onPressIn,T=t.onPressOut,w=t.style,C=t.tabIndex,R=t.testOnly_hovered,I=t.testOnly_pressed,A=u()(t,ef),O=eg(!0===R),N=O[0],k=O[1],P=eg(!1),x=P[0],D=P[1],L=eg(!0===I),M=L[0],F=L[1],j=(0,c.useRef)(null),V=(0,d.Z)(r,j),B=(0,c.useMemo)(()=>({delayLongPress:s,delayPressStart:a,delayPressEnd:l,disabled:h,onLongPress:_,onPress:b,onPressChange:F,onPressStart:E,onPressMove:S,onPressEnd:T}),[s,a,l,h,_,b,E,S,T,F]),U=(0,ec.Z)(j,B),z=U.onContextMenu,q=U.onKeyDown;eu(j,{contain:!0,disabled:h,onHoverChange:k,onHoverStart:m,onHoverEnd:v});var H={hovered:N,focused:x,pressed:M},W=c.useCallback(t=>{t.nativeEvent.target===j.current&&(D(!1),null!=f&&f(t))},[j,D,f]),G=c.useCallback(t=>{t.nativeEvent.target===j.current&&(D(!0),null!=g&&g(t))},[j,D,g]),K=c.useCallback(t=>{null!=z&&z(t),null!=p&&p(t)},[p,z]),$=c.useCallback(t=>{null!=q&&q(t),null!=y&&y(t)},[y,q]);return n=void 0!==C?C:h?-1:0,c.createElement(eh.default,o()({},A,U,{"aria-disabled":h,onBlur:W,onContextMenu:K,onFocus:G,onKeyDown:$,ref:V,style:[h?em.disabled:em.active,"function"==typeof w?w(H):w],tabIndex:n}),"function"==typeof i?i(H):i)}function eg(t){var r=(0,c.useState)(!1);return[r[0]||t,r[1]]}var em=ed.Z.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),ev=(0,c.memo)((0,c.forwardRef)(ep));ev.displayName="Pressable";let ey=ev},78430:(t,r,n)=>{"use strict";n.d(r,{default:()=>p});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(88401),c=n(7153),d=["color","indeterminate","progress","trackColor","style"],h=l.forwardRef((t,r)=>{var n=t.color,i=void 0===n?"#1976D2":n,a=t.indeterminate,u=void 0!==a&&a,h=t.progress,p=void 0===h?0:h,g=t.trackColor,m=void 0===g?"transparent":g,v=t.style,y=o()(t,d),_=100*p,b=u?"25%":_+"%";return l.createElement(c.default,s()({},y,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":u?null:_,ref:r,role:"progressbar",style:[f.track,v,{backgroundColor:m}]}),l.createElement(c.default,{style:[{backgroundColor:i,width:b},f.progress,u&&f.animation]}))});h.displayName="ProgressBar";var f=u.Z.create({track:{forcedColorAdjust:"none",height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{forcedColorAdjust:"none",height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(400%)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}});let p=h},96870:(t,r,n)=>{"use strict";n.d(r,{Z:()=>c});var i=n(55855),s=n.n(i),a=n(7153),o=n(95542),l=n.n(o),u=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];let c=function(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var r=s()(t,u);return l().createElement(a.default,r)}},76528:(t,r,n)=>{"use strict";n.d(r,{default:()=>j});var i=n(68497),s=n.n(i),a=n(37704),o=n.n(a),l=n(55855),u=n.n(l),c=n(51221),d=n(48304),h=n(29879),f=n.n(h),p=n(56625),g=n(58588),m=n(95542),v=n.n(m),y=n(88401),_=n(7153),b=n(42442),S=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function E(t){return{nativeEvent:{contentOffset:{get x(){return t.target.scrollLeft},get y(){return t.target.scrollTop}},contentSize:{get height(){return t.target.scrollHeight},get width(){return t.target.scrollWidth}},layoutMeasurement:{get height(){return t.target.offsetHeight},get width(){return t.target.offsetWidth}}},timeStamp:Date.now()}}function T(t,r){var n=Date.now()-t;return r>0&&n>=r}var w=m.forwardRef((t,r)=>{var n=t.onScroll,i=t.onTouchMove,s=t.onWheel,a=t.scrollEnabled,l=void 0===a||a,c=t.scrollEventThrottle,d=void 0===c?0:c,h=t.showsHorizontalScrollIndicator,f=t.showsVerticalScrollIndicator,p=t.style,g=u()(t,S),v=m.useRef({isScrolling:!1,scrollLastTick:0}),y=m.useRef(null),w=m.useRef(null);function R(t){return r=>{l&&t&&t(r)}}function I(t){t.stopPropagation(),t.target===w.current&&(t.persist(),null!=y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{N(t)},100),v.current.isScrolling?T(v.current.scrollLastTick,d)&&O(t):A(t))}function A(t){v.current.isScrolling=!0,O(t)}function O(t){v.current.scrollLastTick=Date.now(),n&&n(E(t))}function N(t){v.current.isScrolling=!1,n&&n(E(t))}var k=!1===h||!1===f;return m.createElement(_.default,o()({},g,{onScroll:I,onTouchMove:R(i),onWheel:R(s),ref:(0,b.Z)(w,r),style:[p,!l&&C.scrollDisabled,k&&C.hideScrollbar]}))}),C=y.Z.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});let R=w;var I=n(1810),A=n(26365),O=n(25514),N=n.n(O),k=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],P={},x=16;class D extends v().Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=t=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=t=>{var r=t.nativeEvent;this.isTouching=0!==r.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(t)},this.scrollResponderHandleResponderRelease=t=>{this.props.onResponderRelease&&this.props.onResponderRelease(t);var r=I.Z.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==r||t.target===r||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(t),I.Z.blurTextInput(r))},this.scrollResponderHandleScroll=t=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(t)},this.scrollResponderHandleResponderGrant=t=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(t),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=t=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(t)},this.scrollResponderHandleScrollEndDrag=t=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(t)},this.scrollResponderHandleMomentumScrollBegin=t=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(t)},this.scrollResponderHandleMomentumScrollEnd=t=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(t)},this.scrollResponderHandleTouchStart=t=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(t)},this.scrollResponderHandleTouchMove=t=>{this.props.onTouchMove&&this.props.onTouchMove(t)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<x||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(t,r,n)=>{if("number"==typeof t)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=t||P;t=i.x,r=i.y,n=i.animated}var s=this.getScrollableNode(),a=t||0,o=r||0;null!=s&&("function"==typeof s.scroll?s.scroll({top:o,left:a,behavior:n?"smooth":"auto"}):(s.scrollLeft=a,s.scrollTop=o))},this.scrollResponderZoomTo=(t,r)=>{"ios"!==g.Z.OS&&f()("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(t,r,n)=>{this.additionalScrollOffset=r||0,this.preventNegativeScrollOffset=!!n,A.Z.measureLayout(t,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(t,r,n,i)=>{var s=c.default.get("window").height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var a=r-s+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(a=Math.max(0,a)),this.scrollResponderScrollTo({x:0,y:a,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=t=>{this.keyboardWillOpenTo=t,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(t)},this.scrollResponderKeyboardWillHide=t=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(t)},this.scrollResponderKeyboardDidShow=t=>{t&&(this.keyboardWillOpenTo=t),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(t)},this.scrollResponderKeyboardDidHide=t=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(t)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(t,r,n)=>{if("number"==typeof t)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=t||P;r=i.x,t=i.y,n=i.animated}this.scrollResponderScrollTo({x:r||0,y:t||0,animated:!1!==n})},this.scrollToEnd=t=>{var r=!1!==(t&&t.animated),n=this.props.horizontal,i=this.getScrollableNode(),s=n?i.scrollWidth:0,a=n?0:i.scrollHeight;this.scrollResponderScrollTo({x:s,y:a,animated:r})},this._handleContentOnLayout=t=>{var r=t.nativeEvent.layout,n=r.width,i=r.height;this.props.onContentSizeChange(n,i)},this._handleScroll=t=>{"on-drag"===this.props.keyboardDismissMode&&(0,d.Z)(),this.scrollResponderHandleScroll(t)},this._setInnerViewRef=t=>{this._innerViewRef=t},this._setScrollNodeRef=t=>{this._scrollNodeRef=t,null!=t&&(t.getScrollResponder=this.getScrollResponder,t.getInnerViewNode=this.getInnerViewNode,t.getInnerViewRef=this.getInnerViewRef,t.getNativeScrollRef=this.getNativeScrollRef,t.getScrollableNode=this.getScrollableNode,t.scrollTo=this.scrollTo,t.scrollToEnd=this.scrollToEnd,t.flashScrollIndicators=this.flashScrollIndicators,t.scrollResponderZoomTo=this.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,p.Z)(this.props.forwardedRef)(t)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){N()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(t){console.error("Error measuring text field: ",t)}render(){var t=this.props,r=t.contentContainerStyle,n=t.horizontal,i=t.onContentSizeChange,a=t.refreshControl,l=t.stickyHeaderIndices,c=t.pagingEnabled,d=(t.forwardedRef,t.keyboardDismissMode,t.onScroll,t.centerContent),h=u()(t,k),p={};i&&(p={onLayout:this._handleContentOnLayout});var g=!n&&Array.isArray(l),m=g||c?v().Children.map(this.props.children,(t,r)=>{var n=g&&l.indexOf(r)>-1;return null!=t&&(n||c)?v().createElement(_.default,{style:[n&&M.stickyHeader,c&&M.pagingEnabledChild]},t):t}):this.props.children,y=v().createElement(_.default,o()({},p,{children:m,collapsable:!1,ref:this._setInnerViewRef,style:[n&&M.contentContainerHorizontal,d&&M.contentContainerCenterContent,r]})),b=n?M.baseHorizontal:M.baseVertical,S=n?M.pagingEnabledHorizontal:M.pagingEnabledVertical,E=s()(s()({},h),{},{style:[b,c&&S,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),T=R;f()(void 0!==T,"ScrollViewClass must not be undefined");var w=v().createElement(T,o()({},E,{ref:this._setScrollNodeRef}),y);return a?v().cloneElement(a,{style:E.style},w):w}}var L={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},M=y.Z.create({baseVertical:s()(s()({},L),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:s()(s()({},L),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),F=v().forwardRef((t,r)=>v().createElement(D,o()({},t,{forwardedRef:r})));F.displayName="ScrollView";let j=F},64312:(t,r,n)=>{"use strict";n.d(r,{default:()=>C});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(58588),u=n(95542),c=n(97981),d=n.n(c),h=n(68497),f=n.n(h),p=n(7153),g=n(55544),m=n(83370),v=n(29879),y=n.n(v),_=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];class b extends u.PureComponent{constructor(){super(...arguments),this._keyExtractor=(t,r)=>{var n=this._subExtractor(r);return n&&n.key||String(r)},this._convertViewable=t=>{y()(null!=t.index,"Received a broken ViewToken");var r,n=this._subExtractor(t.index);if(!n)return null;var i=n.section.keyExtractor,s=this.props.keyExtractor||m.jn,a=null!=i?i(t.item,n.index):s(t.item,null!==(r=n.index)&&void 0!==r?r:0);return f()(f()({},t),{},{index:n.index,key:a,section:n.section})},this._onViewableItemsChanged=t=>{var r=t.viewableItems,n=t.changed,i=this.props.onViewableItemsChanged;null!=i&&i({viewableItems:r.map(this._convertViewable,this).filter(Boolean),changed:n.map(this._convertViewable,this).filter(Boolean)})},this._renderItem=t=>r=>{var n=r.item,i=r.index,s=this._subExtractor(i);if(!s)return null;var a=s.index;if(null==a){var o=s.section;if(!0===s.header){var l=this.props.renderSectionHeader;return l?l({section:o}):null}var c=this.props.renderSectionFooter;return c?c({section:o}):null}var d=s.section.renderItem||this.props.renderItem,h=this._getSeparatorComponent(i,s,t);return y()(d,"no renderItem!"),u.createElement(S,{SeparatorComponent:h,LeadingSeparatorComponent:0===a?this.props.SectionSeparatorComponent:void 0,cellKey:s.key,index:a,item:n,leadingItem:s.leadingItem,leadingSection:s.leadingSection,prevCellKey:(this._subExtractor(i-1)||{}).key,setSelfHighlightCallback:this._setUpdateHighlightFor,setSelfUpdatePropsCallback:this._setUpdatePropsFor,updateHighlightFor:this._updateHighlightFor,updatePropsFor:this._updatePropsFor,renderItem:d,section:s.section,trailingItem:s.trailingItem,trailingSection:s.trailingSection,inverted:!!this.props.inverted})},this._updatePropsFor=(t,r)=>{var n=this._updatePropsMap[t];null!=n&&n(r)},this._updateHighlightFor=(t,r)=>{var n=this._updateHighlightMap[t];null!=n&&n(r)},this._setUpdateHighlightFor=(t,r)=>{null!=r?this._updateHighlightMap[t]=r:delete this._updateHighlightFor[t]},this._setUpdatePropsFor=(t,r)=>{null!=r?this._updatePropsMap[t]=r:delete this._updatePropsMap[t]},this._updateHighlightMap={},this._updatePropsMap={},this._captureRef=t=>{this._listRef=t}}scrollToLocation(t){for(var r=t.itemIndex,n=0;n<t.sectionIndex;n++)r+=this.props.getItemCount(this.props.sections[n].data)+2;var i=t.viewOffset||0;if(null!=this._listRef){t.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(i+=this._listRef.__getFrameMetricsApprox(r-t.itemIndex,this._listRef.props).length);var s=f()(f()({},t),{},{viewOffset:i,index:r});this._listRef.scrollToIndex(s)}}getListRef(){return this._listRef}render(){for(var t,r=this.props,n=(r.ItemSeparatorComponent,r.SectionSeparatorComponent,r.renderItem,r.renderSectionFooter,r.renderSectionHeader,r.sections,r.stickySectionHeadersEnabled,o()(r,_)),i=this.props.ListHeaderComponent?1:0,a=this.props.stickySectionHeadersEnabled?[]:void 0,l=0,c=d()(this.props.sections);!(t=c()).done;){var h=t.value;null!=a&&a.push(l+i),l+=2+this.props.getItemCount(h.data)}var f=this._renderItem(l);return u.createElement(g.Z,s()({},n,{keyExtractor:this._keyExtractor,stickyHeaderIndices:a,renderItem:f,data:this.props.sections,getItem:(t,r)=>this._getItem(this.props,t,r),getItemCount:()=>l,onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}_getItem(t,r,n){if(!r)return null;for(var i=n-1,s=0;s<r.length;s++){var a=r[s],o=a.data,l=t.getItemCount(o);if(-1===i||i===l)return a;if(i<l)return t.getItem(o,i);i-=l+2}return null}_subExtractor(t){for(var r=t,n=this.props,i=n.getItem,s=n.getItemCount,a=n.keyExtractor,o=n.sections,l=0;l<o.length;l++){var u=o[l],c=u.data,d=u.key||String(l);if((r-=1)>=s(c)+1)r-=s(c)+1;else{if(-1===r)return{section:u,key:d+":header",index:null,header:!0,trailingSection:o[l+1]};if(r===s(c))return{section:u,key:d+":footer",index:null,header:!1,trailingSection:o[l+1]};var h=u.keyExtractor||a||m.jn;return{section:u,key:d+":"+h(i(c,r),r),index:r,leadingItem:i(c,r-1),leadingSection:o[l-1],trailingItem:i(c,r+1),trailingSection:o[l+1]}}}}_getSeparatorComponent(t,r,n){if(!(r=r||this._subExtractor(t)))return null;var i=r.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,s=this.props.SectionSeparatorComponent,a=t===n-1,o=r.index===this.props.getItemCount(r.section.data)-1;return s&&o?s:!i||o||a?null:i}}function S(t){var r=t.LeadingSeparatorComponent,n=t.SeparatorComponent,i=t.cellKey,a=t.prevCellKey,o=t.setSelfHighlightCallback,l=t.updateHighlightFor,c=t.setSelfUpdatePropsCallback,d=t.updatePropsFor,h=t.item,g=t.index,m=t.section,v=t.inverted,y=u.useState(!1),_=y[0],b=y[1],S=u.useState(!1),E=S[0],T=S[1],w=u.useState({leadingItem:t.leadingItem,leadingSection:t.leadingSection,section:t.section,trailingItem:t.item,trailingSection:t.trailingSection}),C=w[0],R=w[1],I=u.useState({leadingItem:t.item,leadingSection:t.leadingSection,section:t.section,trailingItem:t.trailingItem,trailingSection:t.trailingSection}),A=I[0],O=I[1];u.useEffect(()=>(o(i,T),c(i,O),()=>{c(i,null),o(i,null)}),[i,o,O,c]);var N={highlight:()=>{b(!0),T(!0),null!=a&&l(a,!0)},unhighlight:()=>{b(!1),T(!1),null!=a&&l(a,!1)},updateProps:(t,i)=>{"leading"===t?null!=r?R(f()(f()({},C),i)):null!=a&&d(a,f()(f()({},C),i)):"trailing"===t&&null!=n&&O(f()(f()({},A),i))}},k=t.renderItem({item:h,index:g,section:m,separators:N}),P=null!=r&&u.createElement(r,s()({highlighted:_},C)),x=null!=n&&u.createElement(n,s()({highlighted:E},A));return P||x?u.createElement(p.default,null,!1===v?P:x,k,!1===v?x:P):k}let E=b;var T=["stickySectionHeadersEnabled"];class w extends u.PureComponent{constructor(){super(...arguments),this._captureRef=t=>{this._wrapperListRef=t}}scrollToLocation(t){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(t)}recordInteraction(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.recordInteraction()}flashScrollIndicators(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.flashScrollIndicators()}getScrollResponder(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollResponder()}getScrollableNode(){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();if(t)return t.getScrollableNode()}render(){var t=this.props,r=t.stickySectionHeadersEnabled,n=o()(t,T),i=null!=r?r:"ios"===l.Z.OS;return u.createElement(E,s()({},n,{stickySectionHeadersEnabled:i,ref:this._captureRef,getItemCount:t=>t.length,getItem:(t,r)=>t[r]}))}}let C=w},23935:(t,r,n)=>{"use strict";n.d(r,{Z:()=>a});let i=t=>"currentcolor"===t||"currentColor"===t||"inherit"===t||0===t.indexOf("var(");var s=n(66347);let a=function(t,r){if(void 0===r&&(r=1),null!=t){if("string"==typeof t&&i(t))return t;var n=(0,s.Z)(t);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*r).toFixed(2)+")"}}},8113:(t,r,n)=>{"use strict";n.d(r,{Z:()=>c});var i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},s=["ms","Moz","O","Webkit"],a=(t,r)=>t+r.charAt(0).toUpperCase()+r.substring(1);Object.keys(i).forEach(t=>{s.forEach(r=>{i[a(r,t)]=i[t]})});let o=i;var l=n(23935),u={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function c(t,r){var n=t;return null!=r&&o[r]||"number"!=typeof t?null!=r&&u[r]&&(n=(0,l.Z)(t)):n=t+"px",n}},33040:(t,r,n)=>{"use strict";n.d(r,{S:()=>_});var i=n(52765);function s(t,r,n){if(!i.Z)return null;var s=null!=r?r:document,a=s.getElementById(t);if(null==a){if((a=document.createElement("style")).setAttribute("id",t),"string"==typeof n&&a.appendChild(document.createTextNode(n)),s instanceof ShadowRoot)s.insertBefore(a,s.firstChild);else{var o=s.head;o&&o.insertBefore(a,o.firstChild)}}return a.sheet}var a=Array.prototype.slice;function o(t){var r,n={},i={};function s(t,r,i){var s=d(n),a=s.indexOf(r)+1,o=s[a],l=null!=o&&null!=n[o].start?n[o].start:t.cssRules.length,u=p(t,i,l);if(u){null==n[r].start&&(n[r].start=l);for(var c=a;c<s.length;c+=1){var h=s[c],f=n[h].start||0;n[h].start=f+1}}return u}return null!=t&&a.call(t.cssRules).forEach((t,s)=>{var a=t.cssText;if(a.indexOf("stylesheet-group")>-1)n[r=c(t)]={start:s,rules:[a]};else{var o=f(a);null!=o&&(i[o]=!0,n[r].rules.push(a))}}),{getTextContent:()=>d(n).map(t=>{var r=n[t].rules,i=r.shift();return r.sort(),r.unshift(i),r.join("\n")}).join("\n"),insert(r,a){var o=Number(a);if(null==n[o]){var u=l(o);n[o]={start:null,rules:[u]},null!=t&&s(t,o,u)}var c=f(r);null==c||null!=i[c]||(i[c]=!0,n[o].rules.push(r),null==t||s(t,o,r)||n[o].rules.pop())}}}function l(t){return'[stylesheet-group="'+t+'"]{}'}var u=/["']/g;function c(t){return Number(t.selectorText.split(u)[1])}function d(t){return Object.keys(t).map(Number).sort((t,r)=>t>r?1:-1)}var h=/\s*([,])\s*/g;function f(t){var r=t.split("{")[0].trim();return""!==r?r.replace(h,"$1"):null}function p(t,r,n){try{return t.insertRule(r,n),!0}catch(t){return!1}}var g="react-native-stylesheet",m=new WeakMap,v=[],y=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function _(t,r){if(void 0===r&&(r=g),i.Z){var n,a=null!=t?t.getRootNode():document;if(0===v.length)n=o(s(r)),y.forEach(t=>{n.insert(t,0)}),m.set(a,v.length),v.push(n);else{var l=m.get(a);if(null==l){var u=v[0];n=o(s(r,a,null!=u?u.getTextContent():"")),m.set(a,v.length),v.push(n)}else n=v[l]}}else 0===v.length?(n=o(s(r)),y.forEach(t=>{n.insert(t,0)}),v.push(n)):n=v[0];return{getTextContent:()=>n.getTextContent(),id:r,insert(t,r){v.forEach(n=>{n.insert(t,r)})}}}},88401:(t,r,n)=>{"use strict";n.d(r,{Z:()=>eV});var i=n(68497),s=n.n(i),a=n(55855),o=n.n(a),l=n(8113),u=n(52765),c={},d=!u.Z||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),h="monospace,monospace",f='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',p={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};let g=(t,r)=>{if(!t)return c;var n={},i=function(){var i=t[s];if(null==i)return"continue";if("backgroundClip"===s)"text"===i&&(n.backgroundClip=i,n.WebkitBackgroundClip=i);else if("flex"===s)-1===i?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=i;else if("font"===s)n[s]=i.replace("System",f);else if("fontFamily"===s){if(i.indexOf("System")>-1){var a=i.split(/,\s*/);a[a.indexOf("System")]=f,n[s]=a.join(",")}else"monospace"===i?n[s]=h:n[s]=i}else if("textDecorationLine"===s)d?n.textDecorationLine=i:n.textDecoration=i;else if("writingDirection"===s)n.direction=i;else{var o=(0,l.Z)(t[s],s),u=p[s];r&&"inset"===s?(null==t.insetInline&&(n.left=o,n.right=o),null==t.insetBlock&&(n.top=o,n.bottom=o)):r&&"margin"===s?(null==t.marginInline&&(n.marginLeft=o,n.marginRight=o),null==t.marginBlock&&(n.marginTop=o,n.marginBottom=o)):r&&"padding"===s?(null==t.paddingInline&&(n.paddingLeft=o,n.paddingRight=o),null==t.paddingBlock&&(n.paddingTop=o,n.paddingBottom=o)):u?u.forEach((r,i)=>{null==t[r]&&(n[r]=o)}):n[s]=o}};for(var s in t)if("continue"===i())continue;return n};function m(t,r){for(var n,i=t.length,s=r^i,a=0;i>=4;)n=(65535&(n=255&t.charCodeAt(a)|(255&t.charCodeAt(++a))<<8|(255&t.charCodeAt(++a))<<16|(255&t.charCodeAt(++a))<<24))*1540483477+(((n>>>16)*1540483477&65535)<<16),n^=n>>>24,s=(65535&s)*1540483477+(((s>>>16)*1540483477&65535)<<16)^(n=(65535&n)*1540483477+(((n>>>16)*1540483477&65535)<<16)),i-=4,++a;switch(i){case 3:s^=(255&t.charCodeAt(a+2))<<16;case 2:s^=(255&t.charCodeAt(a+1))<<8;case 1:s^=255&t.charCodeAt(a),s=(65535&s)*1540483477+(((s>>>16)*1540483477&65535)<<16)}return s^=s>>>13,s=(65535&s)*1540483477+(((s>>>16)*1540483477&65535)<<16),(s^=s>>>15)>>>0}let v=t=>m(t,1).toString(36);var y=/[A-Z]/g,_=/^ms-/,b={};function S(t){return"-"+t.toLowerCase()}let E=function(t){if(t in b)return b[t];var r=t.replace(y,S);return b[t]=_.test(r)?"-"+r:r};var T=n(42606),w=n(76581),C=n(51415),R=n(67589),I=n(73129),A=n(66854),O=n(8432),N=n(82432),k=n(70640),P=n(81281),x=["Webkit"],D=["Moz"],L=["Webkit","Moz"],M=["Webkit","ms"],F=["Webkit","Moz","ms"];let j={plugins:[w.Z,C.Z,R.Z,I.Z,A.Z,O.Z,N.Z,k.Z,P.Z],prefixMap:{appearance:F,userSelect:L,textEmphasisPosition:M,textEmphasis:M,textEmphasisStyle:M,textEmphasisColor:M,boxDecorationBreak:M,clipPath:x,maskImage:M,maskMode:M,maskRepeat:M,maskPosition:M,maskClip:M,maskOrigin:M,maskSize:M,maskComposite:M,mask:M,maskBorderSource:M,maskBorderMode:M,maskBorderSlice:M,maskBorderWidth:M,maskBorderOutset:M,maskBorderRepeat:M,maskBorder:M,maskType:M,textDecorationStyle:x,textDecorationSkip:x,textDecorationLine:x,textDecorationColor:x,filter:x,breakAfter:x,breakBefore:x,breakInside:x,columnCount:x,columnFill:x,columnGap:x,columnRule:x,columnRuleColor:x,columnRuleStyle:x,columnRuleWidth:x,columns:x,columnSpan:x,columnWidth:x,backdropFilter:x,hyphens:x,flowInto:x,flowFrom:x,regionFragment:x,textOrientation:x,tabSize:D,fontKerning:x,textSizeAdjust:x}},V=(0,T.Z)(j);var B=["animationKeyframes"],U=new Map,z={},q=1,H=3,W={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},G="borderTopLeftRadius",K="borderTopRightRadius",$="borderBottomLeftRadius",Y="borderBottomRightRadius",Q="borderLeftColor",Z="borderLeftStyle",J="borderLeftWidth",X="borderRightColor",ee="borderRightStyle",et="borderRightWidth",er="right",en="marginLeft",ei="marginRight",es="paddingLeft",ea="paddingRight",eo="left",el={[G]:K,[K]:G,[$]:Y,[Y]:$,[Q]:X,[Z]:ee,[J]:et,[X]:Q,[ee]:Z,[et]:J,[eo]:er,[en]:ei,[ei]:en,[es]:ea,[ea]:es,[er]:eo},eu={borderStartStartRadius:G,borderStartEndRadius:K,borderEndStartRadius:$,borderEndEndRadius:Y,borderInlineStartColor:Q,borderInlineStartStyle:Z,borderInlineStartWidth:J,borderInlineEndColor:X,borderInlineEndStyle:ee,borderInlineEndWidth:et,insetInlineEnd:er,insetInlineStart:eo,marginInlineStart:en,marginInlineEnd:ei,paddingInlineStart:es,paddingInlineEnd:ea},ec=["clear","float","textAlign"];function ed(t){var r={$$css:!0},n=[];function i(t,r,i){var s,a=ep(i,r),o=r+a,l=U.get(o);if(null!=l)s=l[0],n.push(l[1]);else{var u=t!==r?o:a;s=ev("r",t,u);var c=W[t]||H,d=[eg(s,r,i),c];n.push(d),U.set(o,[s,d])}return s}return Object.keys(t).sort().forEach(n=>{var s=t[n];if(null!=s){if(ec.indexOf(n)>-1){var a,o=i(n,n,"left"),l=i(n,n,"right");"start"===s?a=[o,l]:"end"===s&&(a=[l,o])}var u=eu[n];if(null!=u&&(a=[i(n,u,s),i(n,el[u],s)]),"transitionProperty"===n){for(var c=Array.isArray(s)?s:[s],d=[],h=0;h<c.length;h++){var f=c[h];"string"==typeof f&&null!=eu[f]&&d.push(h)}if(d.length>0){var p=[...c],g=[...c];d.forEach(t=>{var r=p[t];if("string"==typeof r){var s=eu[r],o=el[s];p[t]=s,g[t]=o,a=[i(n,n,p),i(n,n,g)]}})}}null==a?a=i(n,n,s):r.$$css$localize=!0,r[n]=a}}),[r,n]}function eh(t,r){var n,i={$$css:!0},a=[],l=t.animationKeyframes,u=o()(t,B),c=ev("css",r,JSON.stringify(t)),d="."+c;if(null!=l){var h=e_(l),f=h[0],p=h[1];n=f.join(","),a.push(...p)}var g=em(s()(s()({},u),{},{animationName:n}));return a.push(""+d+g),i[c]=c,[i,[[a,q]]]}function ef(t,r){var n=t||z,i={},s={},a=function(){var t=n[o],a=o,l=t;if(!Object.prototype.hasOwnProperty.call(n,o)||null==t)return"continue";ec.indexOf(o)>-1&&("start"===t?l=r?"right":"left":"end"===t&&(l=r?"left":"right"));var u=eu[o];if(null!=u&&(a=r?el[u]:u),"transitionProperty"===o){var c=Array.isArray(t)?t:[t];c.forEach((t,n)=>{if("string"==typeof t){var i=eu[t];null!=i&&(c[n]=r?el[i]:i,l=c.join(" "))}})}i[a]||(s[a]=l),a===o&&(i[a]=!0)};for(var o in n)if("continue"===a())continue;return g(s,!0)}function ep(t,r){var n=(0,l.Z)(t,r);return"string"!=typeof n?JSON.stringify(n||""):n}function eg(t,r,n){var i=[],s="."+t;switch(r){case"animationKeyframes":var a=e_(n),o=a[0],l=a[1],u=em({animationName:o.join(",")});i.push(""+s+u,...l);break;case"placeholderTextColor":var c=em({color:n,opacity:1});i.push(s+"::-webkit-input-placeholder"+c,s+"::-moz-placeholder"+c,s+":-ms-input-placeholder"+c,s+"::placeholder"+c);break;case"pointerEvents":var d=n;if("auto"===n||"box-only"===n){if(d="auto!important","box-only"===n){var h=em({pointerEvents:"none"});i.push(s+">*"+h)}}else if(("none"===n||"box-none"===n)&&(d="none!important","box-none"===n)){var f=em({pointerEvents:"auto"});i.push(s+">*"+f)}var p=em({pointerEvents:d});i.push(""+s+p);break;case"scrollbarWidth":"none"===n&&i.push(s+"::-webkit-scrollbar{display:none}");var g=em({scrollbarWidth:n});i.push(""+s+g);break;default:var m=em({[r]:n});i.push(""+s+m)}return i}function em(t){var r=V(g(t));return"{"+Object.keys(r).map(t=>{var n=r[t],i=E(t);return Array.isArray(n)?n.map(t=>i+":"+t).join(";"):i+":"+n}).sort().join(";")+";}"}function ev(t,r,n){return t+"-"+v(r+n)}function ey(t){var r=["-webkit-",""],n=ev("r","animation",JSON.stringify(t)),i="{"+Object.keys(t).map(r=>{var n=em(t[r]);return""+r+n}).join("")+"}",s=r.map(t=>"@"+t+"keyframes "+n+i);return[n,s]}function e_(t){if("number"==typeof t)throw Error("Invalid CSS keyframes type: "+typeof t);var r=[],n=[];return(Array.isArray(t)?t:[t]).forEach(t=>{if("string"==typeof t)r.push(t);else{var i=ey(t),s=i[0],a=i[1];r.push(s),n.push(...a)}}),[r,n]}var eb=n(33040),eS=n(40487),eE=n(42037),eT=n(37133),ew=["writingDirection"],eC=new WeakMap,eR=(0,eb.S)(),eI={shadow:!0,textShadow:!0};function eA(t,r){void 0===r&&(r={});var n=r,i=n.writingDirection,a=o()(n,ew),l="rtl"===i;return eT.D.factory({transform(t){var r=eC.get(t);return null!=r?(0,eS.j)(r,l):(0,eE.dj)(t,s()(s()({},eI),a))}})(t)}function eO(t){t.forEach(t=>{var r=t[0],n=t[1];null!=eR&&r.forEach(t=>{eR.insert(t,n)})})}function eN(t){var r=ed((0,eE.dj)(t,eI)),n=r[0];return eO(r[1]),n}function ek(t,r){var n=eh(t,r),i=n[0];return eO(n[1]),i}var eP={position:"absolute",left:0,right:0,top:0,bottom:0},ex=eD({x:s()({},eP)}).x;function eD(t){return Object.keys(t).forEach(r=>{var n,i=t[r];null!=i&&!0!==i.$$css&&(n=r.indexOf("$raw")>-1?ek(i,r.split("$raw")[0]):eN(i),eC.set(i,n))}),t}function eL(t,r){return[t,r]}function eM(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=r.flat(1/0),s={},a=0;a<i.length;a++){var o=i[a];null!=o&&"object"==typeof o&&Object.assign(s,o)}return s}function eF(){return{id:eR.id,textContent:eR.getTextContent()}}function ej(t,r){void 0===r&&(r={});var n="rtl"===r.writingDirection,i=eA(t,r);return Array.isArray(i)&&null!=i[1]&&(i[1]=ef(i[1],n)),i}ej.absoluteFill=ex,ej.absoluteFillObject=eP,ej.create=eD,ej.compose=eL,ej.flatten=eM,ej.getSheet=eF,ej.hairlineWidth=1,u.Z&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=ej.flatten);let eV=ej},42037:(t,r,n)=>{"use strict";n.d(r,{Lm:()=>u,dj:()=>g});var i=n(23935),s=n(8113),a=n(53325),o={},l={height:0,width:0},u=t=>{var r=t.shadowColor,n=t.shadowOffset,a=t.shadowOpacity,o=t.shadowRadius,u=n||l,c=u.height,d=u.width,h=(0,s.Z)(d),f=(0,s.Z)(c),p=(0,s.Z)(o||0),g=(0,i.Z)(r||"black",a);if(null!=g&&null!=h&&null!=f&&null!=p)return h+" "+f+" "+p+" "+g},c=t=>{var r=t.textShadowColor,n=t.textShadowOffset,i=t.textShadowRadius,a=n||l,o=a.height,u=a.width,c=i||0,d=(0,s.Z)(u),h=(0,s.Z)(o),f=(0,s.Z)(c),p=(0,s.Z)(r,"textShadowColor");if(p&&(0!==o||0!==u||0!==c)&&null!=d&&null!=h&&null!=f)return d+" "+h+" "+f+" "+p},d=t=>{var r=Object.keys(t)[0],n=t[r];if("matrix"===r||"matrix3d"===r)return r+"("+n.join(",")+")";var i=(0,s.Z)(n,r);return r+"("+i+")"},h=t=>t.map(d).join(" "),f={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},p={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},g=function(t,r){void 0===r&&(r={});var n=t||o,i={};if(r.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,a.O)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var s=u(n);if(null!=s&&null==i.boxShadow){var l=n.boxShadow,d=l?l+", "+s:s;i.boxShadow=d}}if(r.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,a.O)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var g=c(n);if(null!=g&&null==i.textShadow){var m=n.textShadow,v=m?m+", "+g:g;i.textShadow=v}}for(var y in n)if(null==p[y]&&"shadowColor"!==y&&"shadowOffset"!==y&&"shadowOpacity"!==y&&"shadowRadius"!==y&&"textShadowColor"!==y&&"textShadowOffset"!==y&&"textShadowRadius"!==y){var _=n[y],b=f[y]||y,S=_;Object.prototype.hasOwnProperty.call(n,y)&&(b===y||null==n[b])&&("aspectRatio"===b&&"number"==typeof S?i[b]=S.toString():"fontVariant"===b?(Array.isArray(S)&&S.length>0&&(S=S.join(" ")),i[b]=S):"textAlignVertical"===b?null==n.verticalAlign&&(i.verticalAlign="center"===S?"middle":S):"transform"===b?(Array.isArray(S)&&(S=h(S)),i.transform=S):i[b]=S)}return i}},17645:(t,r,n)=>{"use strict";n.d(r,{default:()=>N});var i=n(68497),s=n.n(i),a=n(37704),o=n.n(a),l=n(55855),u=n.n(l),c=n(95542),d=n(84844),h=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/,f=t=>t.match(h)[1],p=t=>!isNaN(parseFloat(t))&&isFinite(t);let g=(t,r)=>"string"==typeof t?""+parseFloat(t)*r+f(t):p(t)?t*r:void 0;var m=n(88401),v=n(7153),y=["aria-label","accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"],_={},b="0px 1px 3px rgba(0,0,0,0.5)",S=b+", 0 0 0 10px rgba(0,0,0,0.1)",E="#A3D3CF",T="#939393",w="#D5D5D5",C="#009688",R="#FAFAFA",I="#BDBDBD",A=c.forwardRef((t,r)=>{var n=t["aria-label"],i=t.accessibilityLabel,s=t.activeThumbColor,a=t.activeTrackColor,l=t.disabled,h=void 0!==l&&l,f=t.onValueChange,p=t.style,A=void 0===p?_:p,N=t.thumbColor,k=t.trackColor,P=t.value,x=void 0!==P&&P,D=u()(t,y),L=c.useRef(null);function M(t){null!=f&&f(t.nativeEvent.target.checked)}function F(t){var r="focus"===t.nativeEvent.type?S:b;null!=L.current&&(L.current.style.boxShadow=r)}var j=m.Z.flatten(A),V=j.height,B=j.width,U=V||"20px",z=g(U,2),q=B>z?B:z,H=g(U,.5),W=function(){return!0===x?null!=k&&"object"==typeof k?k.true:null!=a?a:E:null!=k&&"object"==typeof k?k.false:null!=k?k:T}(),G=x?null!=s?s:C:null!=N?N:R,K=U,$=K,Y=[O.root,A,h&&O.cursorDefault,{height:U,width:q}],Q=function(){return!0===x?"string"==typeof a&&null!=a||"object"==typeof k&&null!=k&&k.true?W:w:"string"==typeof k&&null!=k||"object"==typeof k&&null!=k&&k.false?W:w}(),Z=function(){return!0===x?null==s?I:G:null==N?I:G}(),J=[O.track,{backgroundColor:h?Q:W,borderRadius:H}],X=[O.thumb,x&&O.thumbActive,{backgroundColor:h?Z:G,height:K,marginStart:x?g($,-1):0,width:$}],ee=(0,d.default)("input",{"aria-label":n||i,checked:x,disabled:h,onBlur:F,onChange:M,onFocus:F,ref:r,style:[O.nativeControl,O.cursorInherit],type:"checkbox",role:"switch"});return c.createElement(v.default,o()({},D,{style:Y}),c.createElement(v.default,{style:J}),c.createElement(v.default,{ref:L,style:X}),ee)});A.displayName="Switch";var O=m.Z.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:s()(s()({forcedColorAdjust:"none"},m.Z.absoluteFillObject),{},{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{forcedColorAdjust:"none",alignSelf:"flex-start",borderRadius:"100%",boxShadow:b,start:"0%",transform:"translateZ(0)",transitionDuration:"0.1s"},thumbActive:{insetInlineStart:"100%"},nativeControl:s()(s()({},m.Z.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});let N=A},67142:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});let i=(0,n(95542).createContext)(!1)},42221:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>C});var i=n(68497),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(84844),c=n(97212),d=n(50271),h=n(66748),f=n(42442),p=n(1369),g=n(23872),m=n(88401),v=n(67142),y=n(14959),_=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],b=Object.assign({},c.lG,c.LO,c._T,c.YB,c.Uy,c.hJ,c.E5,c.vr,{href:!0,lang:!0,pointerEvents:!0}),S=t=>(0,d.Z)(t,b),E=l.forwardRef((t,r)=>{var n=t.hrefAttrs,i=t.numberOfLines,s=t.onClick,a=t.onLayout,c=t.onPress,d=t.onMoveShouldSetResponder,m=t.onMoveShouldSetResponderCapture,b=t.onResponderEnd,E=t.onResponderGrant,T=t.onResponderMove,C=t.onResponderReject,R=t.onResponderRelease,I=t.onResponderStart,A=t.onResponderTerminate,O=t.onResponderTerminationRequest,N=t.onScrollShouldSetResponder,k=t.onScrollShouldSetResponderCapture,P=t.onSelectionChangeShouldSetResponder,x=t.onSelectionChangeShouldSetResponderCapture,D=t.onStartShouldSetResponder,L=t.onStartShouldSetResponderCapture,M=t.selectable,F=o()(t,_),j=l.useContext(v.Z),V=l.useRef(null),B=(0,y.PE)().direction;(0,h.Z)(V,a),(0,g.Z)(V,{onMoveShouldSetResponder:d,onMoveShouldSetResponderCapture:m,onResponderEnd:b,onResponderGrant:E,onResponderMove:T,onResponderReject:C,onResponderRelease:R,onResponderStart:I,onResponderTerminate:A,onResponderTerminationRequest:O,onScrollShouldSetResponder:N,onScrollShouldSetResponderCapture:k,onSelectionChangeShouldSetResponder:P,onSelectionChangeShouldSetResponderCapture:x,onStartShouldSetResponder:D,onStartShouldSetResponderCapture:L});var U=l.useCallback(t=>{null!=s?s(t):null!=c&&(t.stopPropagation(),c(t))},[s,c]),z=j?"span":"div",q=null!=t.lang?(0,y.w1)(t.lang):null,H=t.dir||q,W=H||B,G=S(F);if(G.dir=H,j||(G.dir=null!=H?H:"auto"),(s||c)&&(G.onClick=U),G.style=[null!=i&&i>1&&{WebkitLineClamp:i},!0===j?w.textHasAncestor$raw:w.text$raw,1===i&&w.textOneLine,null!=i&&i>1&&w.textMultiLine,t.style,!0===M&&w.selectable,!1===M&&w.notSelectable,c&&w.pressable],null!=t.href&&(z="a",null!=n)){var K=n.download,$=n.rel,Y=n.target;null!=K&&(G.download=K),null!=$&&(G.rel=$),"string"==typeof Y&&(G.target="_"!==Y.charAt(0)?"_"+Y:Y)}var Q=(0,p.Z)(G),Z=(0,f.Z)(V,Q,r);G.ref=Z;var J=(0,u.default)(z,G,{writingDirection:W});return j?J:l.createElement(v.Z.Provider,{value:!0},J)});E.displayName="Text";var T={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=m.Z.create({text$raw:T,textHasAncestor$raw:s()(s()({},T),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});let C=E},13617:(t,r,n)=>{"use strict";n.d(r,{default:()=>w});var i=n(95542),s=n(84844),a=n(97212),o=n(50271),l=n(66748),u=n(55376),c=n(42442),d=n(1369),h=n(23872),f=n(14959),p=n(88401),g=n(1810),m=(t,r)=>{var n=t.selectionEnd,i=t.selectionStart,s=r.start,a=r.end;return s!==i||a!==n},v=(t,r)=>{if(m(t,r)){var n=r.start,i=r.end;try{t.setSelectionRange(n,i||n)}catch(t){}}},y=Object.assign({},a.lG,a.LO,a._T,a.YB,a.Uy,a.hJ,a.E5,a.vr,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),_=t=>(0,o.Z)(t,y);function b(t){return t.isComposing||229===t.keyCode}var S=null,E=i.forwardRef((t,r)=>{var n,a,o=t.autoCapitalize,p=void 0===o?"sentences":o,m=t.autoComplete,y=t.autoCompleteType,E=t.autoCorrect,w=void 0===E||E,C=t.blurOnSubmit,R=t.caretHidden,I=t.clearTextOnFocus,A=t.dir,O=t.editable,N=t.enterKeyHint,k=t.inputMode,P=t.keyboardType,x=t.multiline,D=void 0!==x&&x,L=t.numberOfLines,M=t.onBlur,F=t.onChange,j=t.onChangeText,V=t.onContentSizeChange,B=t.onFocus,U=t.onKeyPress,z=t.onLayout,q=t.onMoveShouldSetResponder,H=t.onMoveShouldSetResponderCapture,W=t.onResponderEnd,G=t.onResponderGrant,K=t.onResponderMove,$=t.onResponderReject,Y=t.onResponderRelease,Q=t.onResponderStart,Z=t.onResponderTerminate,J=t.onResponderTerminationRequest,X=t.onScrollShouldSetResponder,ee=t.onScrollShouldSetResponderCapture,et=t.onSelectionChange,er=t.onSelectionChangeShouldSetResponder,en=t.onSelectionChangeShouldSetResponderCapture,ei=t.onStartShouldSetResponder,es=t.onStartShouldSetResponderCapture,ea=t.onSubmitEditing,eo=t.placeholderTextColor,el=t.readOnly,eu=void 0!==el&&el,ec=t.returnKeyType,ed=t.rows,eh=t.secureTextEntry,ef=void 0!==eh&&eh,ep=t.selection,eg=t.selectTextOnFocus,em=t.showSoftInputOnFocus,ev=t.spellCheck;if(null!=k)a=k,n="email"===k?"email":"tel"===k?"tel":"search"===k?"search":"url"===k?"url":"text";else if(null!=P)switch(P){case"email-address":n="email";break;case"number-pad":case"numeric":a="numeric";break;case"decimal-pad":a="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}ef&&(n="password");var ey=i.useRef({height:null,width:null}),e_=i.useRef(null),eb=i.useRef(null),eS=i.useRef(!1);i.useEffect(()=>{e_.current&&eb.current&&v(e_.current,eb.current),eS.current=ef},[ef]);var eE=i.useCallback(t=>{if(D&&V&&null!=t){var r=t.scrollHeight,n=t.scrollWidth;(r!==ey.current.height||n!==ey.current.width)&&(ey.current.height=r,ey.current.width=n,V({nativeEvent:{contentSize:{height:ey.current.height,width:ey.current.width}}}))}},[D,V]),eT=i.useMemo(()=>t=>{null!=t&&(t.clear=function(){null!=t&&(t.value="")},t.isFocused=function(){return null!=t&&g.Z.currentlyFocusedField()===t},eE(t))},[eE]);function ew(t){g.Z._currentlyFocusedNode=null,M&&(t.nativeEvent.text=t.target.value,M(t))}function eC(t){var r=t.target,n=r.value;t.nativeEvent.text=n,eE(r),F&&F(t),j&&j(n)}function eR(t){var r=t.target;B&&(t.nativeEvent.text=r.value,B(t)),null!=r&&(g.Z._currentlyFocusedNode=r,I&&(r.value=""),eg&&(null!=S&&clearTimeout(S),S=setTimeout(()=>{null!=r&&document.activeElement===r&&r.select()},0)))}function eI(t){var r=t.target;t.stopPropagation();var n=!D,i=null==C?n:C,s=t.nativeEvent,a=b(s);U&&U(t),"Enter"!==t.key||t.shiftKey||a||t.isDefaultPrevented()||((C||!D)&&ea&&(t.preventDefault(),s.text=t.target.value,ea(t)),i&&null!=r&&setTimeout(()=>r.blur(),0))}function eA(t){try{var r=t.target,n=r.selectionStart,i=r.selectionEnd,s={start:n,end:i};et&&(t.nativeEvent.selection=s,t.nativeEvent.text=t.target.value,et(t)),eS.current===ef&&(eb.current=s)}catch(t){}}(0,u.Z)(()=>{var t=e_.current;null!=t&&null!=ep&&v(t,ep),document.activeElement===t&&(g.Z._currentlyFocusedNode=t)},[e_,ep]);var eO=D?"textarea":"input";(0,l.Z)(e_,z),(0,h.Z)(e_,{onMoveShouldSetResponder:q,onMoveShouldSetResponderCapture:H,onResponderEnd:W,onResponderGrant:G,onResponderMove:K,onResponderReject:$,onResponderRelease:Y,onResponderStart:Q,onResponderTerminate:Z,onResponderTerminationRequest:J,onScrollShouldSetResponder:X,onScrollShouldSetResponderCapture:ee,onSelectionChangeShouldSetResponder:er,onSelectionChangeShouldSetResponderCapture:en,onStartShouldSetResponder:ei,onStartShouldSetResponderCapture:es});var eN=(0,f.PE)().direction,ek=_(t);ek.autoCapitalize=p,ek.autoComplete=m||y||"on",ek.autoCorrect=w?"on":"off",ek.dir=void 0!==A?A:"auto",ek.enterKeyHint=N||ec,ek.inputMode=a,ek.onBlur=ew,ek.onChange=eC,ek.onFocus=eR,ek.onKeyDown=eI,ek.onSelect=eA,ek.readOnly=!0===eu||!1===O,ek.rows=D?null!=ed?ed:L:1,ek.spellCheck=null!=ev?ev:w,ek.style=[{"--placeholderTextColor":eo},T.textinput$raw,T.placeholder,t.style,R&&T.caretHidden],ek.type=D?void 0:n,ek.virtualkeyboardpolicy=!1===em?"manual":"auto";var eP=(0,d.Z)(ek),ex=(0,c.Z)(e_,eP,eT,r);ek.ref=ex;var eD=null!=t.lang?(0,f.w1)(t.lang):null,eL=t.dir||eD||eN;return(0,s.default)(eO,ek,{writingDirection:eL})});E.displayName="TextInput",E.State=g.Z;var T=p.Z.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});let w=E},64568:(t,r,n)=>{"use strict";n.d(r,{default:()=>_});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(42442),c=n(37236),d=n(88401),h=n(7153),f=["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"];function p(t,r){return{child:{opacity:null!=t?t:.85},underlay:{backgroundColor:void 0===r?"black":r}}}function g(t){return null!=t.onPress||null!=t.onPressIn||null!=t.onPressOut||null!=t.onLongPress}function m(t,r){var n=t.activeOpacity,i=t.children,a=t.delayPressIn,d=t.delayPressOut,m=t.delayLongPress,y=t.disabled,_=t.focusable,b=t.onHideUnderlay,S=t.onLongPress,E=t.onPress,T=t.onPressIn,w=t.onPressOut,C=t.onShowUnderlay,R=t.rejectResponderTermination,I=t.style,A=t.testOnly_pressed,O=t.underlayColor,N=o()(t,f),k=(0,l.useRef)(null),P=(0,u.Z)(r,k),x=(0,l.useState)(!0===A?p(n,O):null),D=x[0],L=x[1],M=(0,l.useCallback)(()=>{g(t)&&(L(p(n,O)),null!=C&&C())},[n,C,t,O]),F=(0,l.useCallback)(()=>{!0!==A&&g(t)&&(L(null),null!=b&&b())},[b,t,A]),j=(0,l.useMemo)(()=>({cancelable:!R,disabled:y,delayLongPress:m,delayPressStart:a,delayPressEnd:d,onLongPress:S,onPress:E,onPressStart(t){M(),null!=T&&T(t)},onPressEnd(t){F(),null!=w&&w(t)}}),[m,a,d,y,S,E,T,w,R,M,F]),V=(0,c.Z)(k,j),B=l.Children.only(i);return l.createElement(h.default,s()({},N,V,{accessibilityDisabled:y,focusable:!y&&!1!==_,pointerEvents:y?"box-none":void 0,ref:P,style:[v.root,I,!y&&v.actionable,D&&D.underlay]}),l.cloneElement(B,{style:[B.props.style,D&&D.child]}))}var v=d.Z.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),y=l.memo(l.forwardRef(m));y.displayName="TouchableHighlight";let _=y},16782:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>v});var i=n(37704),s=n.n(i),a=n(55855),o=n.n(a),l=n(95542),u=n(42442),c=n(37236),d=n(88401),h=n(7153),f=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function p(t,r){var n=t.activeOpacity,i=t.delayPressIn,a=t.delayPressOut,d=t.delayLongPress,p=t.disabled,m=t.focusable,v=t.onLongPress,y=t.onPress,_=t.onPressIn,b=t.onPressOut,S=t.rejectResponderTermination,E=t.style,T=o()(t,f),w=(0,l.useRef)(null),C=(0,u.Z)(r,w),R=(0,l.useState)("0s"),I=R[0],A=R[1],O=(0,l.useState)(null),N=O[0],k=O[1],P=(0,l.useCallback)((t,r)=>{k(t),A(r?r/1e3+"s":"0s")},[k,A]),x=(0,l.useCallback)(t=>{P(null!=n?n:.2,t)},[n,P]),D=(0,l.useCallback)(t=>{P(null,t)},[P]),L=(0,l.useMemo)(()=>({cancelable:!S,disabled:p,delayLongPress:d,delayPressStart:i,delayPressEnd:a,onLongPress:v,onPress:y,onPressStart(t){x((null!=t.dispatchConfig?"onResponderGrant"===t.dispatchConfig.registrationName:"keydown"===t.type)?0:150),null!=_&&_(t)},onPressEnd(t){D(250),null!=b&&b(t)}}),[d,i,a,p,v,y,_,b,S,x,D]),M=(0,c.Z)(w,L);return l.createElement(h.default,s()({},T,M,{accessibilityDisabled:p,focusable:!p&&!1!==m,pointerEvents:p?"box-none":void 0,ref:C,style:[g.root,!p&&g.actionable,E,null!=N&&{opacity:N},{transitionDuration:I}]}))}var g=d.Z.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),m=l.memo(l.forwardRef(p));m.displayName="TouchableOpacity";let v=m},53632:(t,r,n)=>{"use strict";n.d(r,{default:()=>f});var i=n(95542),s=n(50271),a=n(42442),o=n(37236),l=n(53325),u={accessibilityDisabled:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,children:!0,disabled:!0,focusable:!0,nativeID:!0,onBlur:!0,onFocus:!0,onLayout:!0,testID:!0},c=t=>(0,s.Z)(t,u);function d(t,r){(0,l.O)("TouchableWithoutFeedback","TouchableWithoutFeedback is deprecated. Please use Pressable.");var n=t.delayPressIn,s=t.delayPressOut,u=t.delayLongPress,d=t.disabled,h=t.focusable,f=t.onLongPress,p=t.onPress,g=t.onPressIn,m=t.onPressOut,v=t.rejectResponderTermination,y=(0,i.useRef)(null),_=(0,i.useMemo)(()=>({cancelable:!v,disabled:d,delayLongPress:u,delayPressStart:n,delayPressEnd:s,onLongPress:f,onPress:p,onPressStart:g,onPressEnd:m}),[d,n,s,u,f,p,g,m,v]),b=(0,o.Z)(y,_),S=i.Children.only(t.children),E=[S.props.children],T=c(t);T.accessibilityDisabled=d,T.focusable=!d&&!1!==h,T.ref=(0,a.Z)(r,y,S.ref);var w=Object.assign(T,b);return i.cloneElement(S,w,...E)}var h=i.memo(i.forwardRef(d));h.displayName="TouchableWithoutFeedback";let f=h},26365:(t,r,n)=>{"use strict";n.d(r,{Z:()=>p});var i=n(78422),s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},a=["ms","Moz","O","Webkit"],o=(t,r)=>t+r.charAt(0).toUpperCase()+r.substring(1);Object.keys(s).forEach(t=>{a.forEach(r=>{s[o(r,t)]=s[t]})});let l=s,u=function(t,r,n){return null==r||"boolean"==typeof r||""===r?"":n||"number"!=typeof r||0===r||l.hasOwnProperty(t)&&l[t]?(""+r).trim():r+"px"},c=function(t,r){var n=t.style;for(var i in r)if(r.hasOwnProperty(i)){var s=0===i.indexOf("--"),a=u(i,r[i],s);"float"===i&&(i="cssFloat"),s?n.setProperty(i,a):n[i]=a}};var d=t=>{var r=t.offsetHeight,n=t.offsetWidth,i=t.offsetLeft,s=t.offsetTop;for(t=t.offsetParent;t&&1===t.nodeType;)i+=t.offsetLeft+t.clientLeft-t.scrollLeft,s+=t.offsetTop+t.clientTop-t.scrollTop,t=t.offsetParent;return{width:n,height:r,top:s-=window.scrollY,left:i-=window.scrollX}},h=(t,r,n)=>{var i=r||t&&t.parentNode;t&&i&&setTimeout(()=>{if(t.isConnected&&i.isConnected){var r=d(i),s=d(t),a=s.height,o=s.left,l=s.top,u=s.width;n(o-r.left,l-r.top,u,a,o,l)}},0)},f={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};let p={blur(t){try{t.blur()}catch(t){}},focus(t){try{var r=t.nodeName;null==t.getAttribute("tabIndex")&&!0!==t.isContentEditable&&null==f[r]&&t.setAttribute("tabIndex","-1"),t.focus()}catch(t){}},measure(t,r){h(t,null,r)},measureInWindow(t,r){t&&setTimeout(()=>{var n=(0,i.Z)(t),s=n.height;r(n.left,n.top,n.width,s)},0)},measureLayout(t,r,n,i){h(t,r,i)},updateView(t,r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];switch(n){case"style":c(t,i);break;case"class":case"className":t.setAttribute("class",i);break;case"text":case"value":t.value=i;break;default:t.setAttribute(n,i)}}},configureNextLayoutAnimation(t,r){r()},setLayoutAnimationEnabledExperimental(){}}},7153:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>E});var i=n(55855),s=n.n(i),a=n(95542),o=n(84844),l=n(97212),u=n(50271),c=n(66748),d=n(42442),h=n(1369),f=n(23872),p=n(88401),g=n(67142),m=n(14959),v=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],y=Object.assign({},l.lG,l.LO,l._T,l.YB,l.Uy,l.hJ,l.E5,l.vr,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),_=t=>(0,u.Z)(t,y),b=a.forwardRef((t,r)=>{var n=t.hrefAttrs,i=t.onLayout,l=t.onMoveShouldSetResponder,u=t.onMoveShouldSetResponderCapture,p=t.onResponderEnd,y=t.onResponderGrant,b=t.onResponderMove,E=t.onResponderReject,T=t.onResponderRelease,w=t.onResponderStart,C=t.onResponderTerminate,R=t.onResponderTerminationRequest,I=t.onScrollShouldSetResponder,A=t.onScrollShouldSetResponderCapture,O=t.onSelectionChangeShouldSetResponder,N=t.onSelectionChangeShouldSetResponderCapture,k=t.onStartShouldSetResponder,P=t.onStartShouldSetResponderCapture,x=s()(t,v),D=a.useContext(g.Z),L=a.useRef(null),M=(0,m.PE)().direction;(0,c.Z)(L,i),(0,f.Z)(L,{onMoveShouldSetResponder:l,onMoveShouldSetResponderCapture:u,onResponderEnd:p,onResponderGrant:y,onResponderMove:b,onResponderReject:E,onResponderRelease:T,onResponderStart:w,onResponderTerminate:C,onResponderTerminationRequest:R,onScrollShouldSetResponder:I,onScrollShouldSetResponderCapture:A,onSelectionChangeShouldSetResponder:O,onSelectionChangeShouldSetResponderCapture:N,onStartShouldSetResponder:k,onStartShouldSetResponderCapture:P});var F="div",j=null!=t.lang?(0,m.w1)(t.lang):null,V=t.dir||j,B=V||M,U=_(x);if(U.dir=V,U.style=[S.view$raw,D&&S.inline,t.style],null!=t.href&&(F="a",null!=n)){var z=n.download,q=n.rel,H=n.target;null!=z&&(U.download=z),null!=q&&(U.rel=q),"string"==typeof H&&(U.target="_"!==H.charAt(0)?"_"+H:H)}var W=(0,h.Z)(U),G=(0,d.Z)(L,W,r);return U.ref=G,(0,o.default)(F,U,{writingDirection:B})});b.displayName="View";var S=p.Z.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});let E=b},1010:(t,r,n)=>{"use strict";n.d(r,{default:()=>i});let i=n(55544).Z},84844:(t,r,n)=>{"use strict";n.d(r,{default:()=>w});var i=n(60896),s=n(68497),a=n.n(s),o=n(55855),l=n.n(o),u=n(88401),c=n(53325),d=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],h={},f=Object.prototype.hasOwnProperty,p=Array.isArray,g=/[A-Z]/g;function m(t){return"-"+t.toLowerCase()}function v(t){return t.replace(g,m)}function y(t){return p(t)?t.join(" "):t}var _=u.Z.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});let b=(t,r,n)=>{r||(r=h);var s=r,o=s["aria-activedescendant"],p=s.accessibilityActiveDescendant,g=s["aria-atomic"],m=s.accessibilityAtomic,b=s["aria-autocomplete"],S=s.accessibilityAutoComplete,E=s["aria-busy"],T=s.accessibilityBusy,w=s["aria-checked"],C=s.accessibilityChecked,R=s["aria-colcount"],I=s.accessibilityColumnCount,A=s["aria-colindex"],O=s.accessibilityColumnIndex,N=s["aria-colspan"],k=s.accessibilityColumnSpan,P=s["aria-controls"],x=s.accessibilityControls,D=s["aria-current"],L=s.accessibilityCurrent,M=s["aria-describedby"],F=s.accessibilityDescribedBy,j=s["aria-details"],V=s.accessibilityDetails,B=s["aria-disabled"],U=s.accessibilityDisabled,z=s["aria-errormessage"],q=s.accessibilityErrorMessage,H=s["aria-expanded"],W=s.accessibilityExpanded,G=s["aria-flowto"],K=s.accessibilityFlowTo,$=s["aria-haspopup"],Y=s.accessibilityHasPopup,Q=s["aria-hidden"],Z=s.accessibilityHidden,J=s["aria-invalid"],X=s.accessibilityInvalid,ee=s["aria-keyshortcuts"],et=s.accessibilityKeyShortcuts,er=s["aria-label"],en=s.accessibilityLabel,ei=s["aria-labelledby"],es=s.accessibilityLabelledBy,ea=s["aria-level"],eo=s.accessibilityLevel,el=s["aria-live"],eu=s.accessibilityLiveRegion,ec=s["aria-modal"],ed=s.accessibilityModal,eh=s["aria-multiline"],ef=s.accessibilityMultiline,ep=s["aria-multiselectable"],eg=s.accessibilityMultiSelectable,em=s["aria-orientation"],ev=s.accessibilityOrientation,ey=s["aria-owns"],e_=s.accessibilityOwns,eb=s["aria-placeholder"],eS=s.accessibilityPlaceholder,eE=s["aria-posinset"],eT=s.accessibilityPosInSet,ew=s["aria-pressed"],eC=s.accessibilityPressed,eR=s["aria-readonly"],eI=s.accessibilityReadOnly,eA=s["aria-required"],eO=s.accessibilityRequired,eN=(s.role,s.accessibilityRole,s["aria-roledescription"]),ek=s.accessibilityRoleDescription,eP=s["aria-rowcount"],ex=s.accessibilityRowCount,eD=s["aria-rowindex"],eL=s.accessibilityRowIndex,eM=s["aria-rowspan"],eF=s.accessibilityRowSpan,ej=s["aria-selected"],eV=s.accessibilitySelected,eB=s["aria-setsize"],eU=s.accessibilitySetSize,ez=s["aria-sort"],eq=s.accessibilitySort,eH=s["aria-valuemax"],eW=s.accessibilityValueMax,eG=s["aria-valuemin"],eK=s.accessibilityValueMin,e$=s["aria-valuenow"],eY=s.accessibilityValueNow,eQ=s["aria-valuetext"],eZ=s.accessibilityValueText,eJ=s.dataSet,eX=s.focusable,e0=s.id,e1=s.nativeID,e2=s.pointerEvents,e4=s.style,e3=s.tabIndex,e5=s.testID,e6=l()(s,d),e9=B||U,e8=i.Z.propsToAriaRole(r),e7=null!=o?o:p;null!=e7&&(e6["aria-activedescendant"]=e7);var te=null!=g?o:m;null!=te&&(e6["aria-atomic"]=te);var tt=null!=b?b:S;null!=tt&&(e6["aria-autocomplete"]=tt);var tr=null!=E?E:T;null!=tr&&(e6["aria-busy"]=tr);var tn=null!=w?w:C;null!=tn&&(e6["aria-checked"]=tn);var ti=null!=R?R:I;null!=ti&&(e6["aria-colcount"]=ti);var ts=null!=A?A:O;null!=ts&&(e6["aria-colindex"]=ts);var ta=null!=N?N:k;null!=ta&&(e6["aria-colspan"]=ta);var to=null!=P?P:x;null!=to&&(e6["aria-controls"]=y(to));var tl=null!=D?D:L;null!=tl&&(e6["aria-current"]=tl);var tu=null!=M?M:F;null!=tu&&(e6["aria-describedby"]=y(tu));var tc=null!=j?j:V;null!=tc&&(e6["aria-details"]=tc),!0===e9&&(e6["aria-disabled"]=!0,("button"===t||"form"===t||"input"===t||"select"===t||"textarea"===t)&&(e6.disabled=!0));var td=null!=z?z:q;null!=td&&(e6["aria-errormessage"]=td);var th=null!=H?H:W;null!=th&&(e6["aria-expanded"]=th);var tf=null!=G?G:K;null!=tf&&(e6["aria-flowto"]=y(tf));var tp=null!=$?$:Y;null!=tp&&(e6["aria-haspopup"]=tp);var tg=null!=Q?Q:Z;!0===tg&&(e6["aria-hidden"]=tg);var tm=null!=J?J:X;null!=tm&&(e6["aria-invalid"]=tm);var tv=null!=ee?ee:et;null!=tv&&(e6["aria-keyshortcuts"]=y(tv));var ty=null!=er?er:en;null!=ty&&(e6["aria-label"]=ty);var t_=null!=ei?ei:es;null!=t_&&(e6["aria-labelledby"]=y(t_));var tb=null!=ea?ea:eo;null!=tb&&(e6["aria-level"]=tb);var tS=null!=el?el:eu;null!=tS&&(e6["aria-live"]="none"===tS?"off":tS);var tE=null!=ec?ec:ed;null!=tE&&(e6["aria-modal"]=tE);var tT=null!=eh?eh:ef;null!=tT&&(e6["aria-multiline"]=tT);var tw=null!=ep?ep:eg;null!=tw&&(e6["aria-multiselectable"]=tw);var tC=null!=em?em:ev;null!=tC&&(e6["aria-orientation"]=tC);var tR=null!=ey?ey:e_;null!=tR&&(e6["aria-owns"]=y(tR));var tI=null!=eb?eb:eS;null!=tI&&(e6["aria-placeholder"]=tI);var tA=null!=eE?eE:eT;null!=tA&&(e6["aria-posinset"]=tA);var tO=null!=ew?ew:eC;null!=tO&&(e6["aria-pressed"]=tO);var tN=null!=eR?eR:eI;null!=tN&&(e6["aria-readonly"]=tN,("input"===t||"select"===t||"textarea"===t)&&(e6.readOnly=!0));var tk=null!=eA?eA:eO;null!=tk&&(e6["aria-required"]=tk,("input"===t||"select"===t||"textarea"===t)&&(e6.required=eO)),null!=e8&&(e6.role="none"===e8?"presentation":e8);var tP=null!=eN?eN:ek;null!=tP&&(e6["aria-roledescription"]=tP);var tx=null!=eP?eP:ex;null!=tx&&(e6["aria-rowcount"]=tx);var tD=null!=eD?eD:eL;null!=tD&&(e6["aria-rowindex"]=tD);var tL=null!=eM?eM:eF;null!=tL&&(e6["aria-rowspan"]=tL);var tM=null!=ej?ej:eV;null!=tM&&(e6["aria-selected"]=tM);var tF=null!=eB?eB:eU;null!=tF&&(e6["aria-setsize"]=tF);var tj=null!=ez?ez:eq;null!=tj&&(e6["aria-sort"]=tj);var tV=null!=eH?eH:eW;null!=tV&&(e6["aria-valuemax"]=tV);var tB=null!=eG?eG:eK;null!=tB&&(e6["aria-valuemin"]=tB);var tU=null!=e$?e$:eY;null!=tU&&(e6["aria-valuenow"]=tU);var tz=null!=eQ?eQ:eZ;if(null!=tz&&(e6["aria-valuetext"]=tz),null!=eJ){for(var tq in eJ)if(f.call(eJ,tq)){var tH=v(tq),tW=eJ[tq];null!=tW&&(e6["data-"+tH]=tW)}}0===e3||"0"===e3||-1===e3||"-1"===e3?e6.tabIndex=e3:(!1===eX&&(e6.tabIndex="-1"),"a"===t||"button"===t||"input"===t||"select"===t||"textarea"===t?(!1===eX||!0===U)&&(e6.tabIndex="-1"):"button"===e8||"checkbox"===e8||"link"===e8||"radio"===e8||"textbox"===e8||"switch"===e8?!1!==eX&&(e6.tabIndex="0"):!0===eX&&(e6.tabIndex="0")),null!=e2&&(0,c.O)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var tG=(0,u.Z)([e4,e2&&_[e2]],a()({writingDirection:"ltr"},n)),tK=tG[0],t$=tG[1];tK&&(e6.className=tK),t$&&(e6.style=t$);var tY=null!=e0?e0:e1;return null!=tY&&(e6.id=tY),null!=e5&&(e6["data-testid"]=e5),null==e6.type&&"button"===t&&(e6.type="button"),e6};var S=n(95542),E=n.n(S),T=n(14959);let w=(t,r,n)=>{t&&t.constructor===String&&(s=i.Z.propsToAccessibilityComponent(r));var s,a=s||t,o=b(a,r,n),l=E().createElement(a,o);return o.dir?E().createElement(T.Iw,{children:l,direction:o.dir,locale:o.lang}):l}},66347:(t,r,n)=>{"use strict";n.d(r,{Z:()=>a});var i=n(9538),s=n.n(i);let a=t=>{if(null==t)return t;var r=s()(t);if(null!=r)return(r<<24|r>>>8)>>>0}},92005:(t,r,n)=>{"use strict";n.d(r,{ZB:()=>l,default:()=>d,hS:()=>c,sY:()=>u});var i=n(48194),s=n(17798),a=n(40521),o=n(33040);function l(t,r){return(0,o.S)(r),(0,s.a)(r,t)}function u(t,r){(0,o.S)(r);var n=(0,s.s)(r);return n.render(t),n}function c(t,r,n){return(0,o.S)(r),(0,i.hydrate)(t,r,n),{unmount:function(){return(0,a.Z)(r)}}}function d(t,r,n){return(0,o.S)(r),(0,i.render)(t,r,n),{unmount:function(){return(0,a.Z)(r)}}}},40521:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});let i=n(48194).unmountComponentAtNode},21540:(t,r,n)=>{"use strict";n.d(r,{default:()=>a});var i=n(95542),s=n(39649);function a(){var t=i.useState(s.default.getColorScheme()),r=t[0],n=t[1];return i.useEffect(()=>{function t(t){n(t.colorScheme)}return s.default.addChangeListener(t).remove}),r}},69032:(t,r,n)=>{"use strict";n.d(r,{default:()=>i});let i=n(14959).PE},85093:(t,r,n)=>{"use strict";n.d(r,{default:()=>a});var i=n(51221),s=n(95542);function a(){var t=(0,s.useState)(()=>i.default.get("window")),r=t[0];return t[1],r}},66281:(t,r,n)=>{"use strict";n.r(r),n.d(r,{AccessibilityInfo:()=>h.default,ActivityIndicator:()=>ea.default,Alert:()=>p,Animated:()=>g.default,AppRegistry:()=>v.default,AppState:()=>y.default,Appearance:()=>m.default,BackHandler:()=>b,Button:()=>ef,CheckBox:()=>ep.default,Clipboard:()=>S.default,DeviceEventEmitter:()=>tT,Dimensions:()=>E.default,Easing:()=>T.Z,FlatList:()=>eg.default,I18nManager:()=>w,Image:()=>em.default,ImageBackground:()=>eC,InteractionManager:()=>I.Z,Keyboard:()=>R,KeyboardAvoidingView:()=>eR.default,LayoutAnimation:()=>P,Linking:()=>V,LogBox:()=>tE,Modal:()=>eI.default,NativeEventEmitter:()=>B,NativeModules:()=>d,PanResponder:()=>X,Picker:()=>eA.default,PixelRatio:()=>ee.Z,Platform:()=>A.Z,Pressable:()=>eO.default,ProgressBar:()=>eN.default,RefreshControl:()=>ek.Z,SafeAreaView:()=>eM,ScrollView:()=>eF.default,SectionList:()=>ej.default,Share:()=>er,StatusBar:()=>eU,StyleSheet:()=>en.Z,Switch:()=>ez.default,Text:()=>ec.default,TextInput:()=>eq.default,Touchable:()=>th,TouchableHighlight:()=>tf.default,TouchableNativeFeedback:()=>tv,TouchableOpacity:()=>eu.default,TouchableWithoutFeedback:()=>ty.default,UIManager:()=>c.Z,Vibration:()=>es,View:()=>eS.default,VirtualizedList:()=>t_.default,YellowBox:()=>tS,findNodeHandle:()=>a,processColor:()=>o.Z,render:()=>l.default,unmountComponentAtNode:()=>u.Z,unstable_createElement:()=>i.default,useColorScheme:()=>tw.default,useLocaleContext:()=>tC.default,useWindowDimensions:()=>tR.default});var i=n(84844),s=n(48194);let a=t=>{var r;try{r=(0,s.findDOMNode)(t)}catch(t){}return r};var o=n(66347),l=n(92005),u=n(40521),c=n(26365);let d={UIManager:c.Z};var h=n(69089);class f{static alert(){}}let p=f;var g=n(48659),m=n(39649),v=n(93256),y=n(43556);function _(){}let b={exitApp:_,addEventListener:()=>(console.error("BackHandler is not supported on web and should not be used."),{remove:_}),removeEventListener:_};var S=n(51289),E=n(51221),T=n(23449);let w={allowRTL(){},forceRTL(){},getConstants:()=>({isRTL:!1})};var C=n(48304);let R={isVisible:()=>!1,addListener:()=>({remove:()=>{}}),dismiss(){(0,C.Z)()},removeAllListeners(){},removeListener(){}};var I=n(58892),A=n(58588);function O(t,r){A.Z.isTesting||c.Z.configureNextLayoutAnimation(t,null!=r?r:function(){},function(){})}function N(t,r,n){return{duration:t,create:{type:r,property:n},update:{type:r},delete:{type:r,property:n}}}var k={easeInEaseOut:N(300,"easeInEaseOut","opacity"),linear:N(500,"linear","opacity"),spring:{duration:700,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}};let P={configureNext:O,create:N,Types:Object.freeze({spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"}),Properties:Object.freeze({opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"}),checkConfig(){console.error("LayoutAnimation.checkConfig(...) has been disabled.")},Presets:k,easeInEaseOut:O.bind(null,k.easeInEaseOut),linear:O.bind(null,k.linear),spring:O.bind(null,k.spring)};var x=n(29879),D=n.n(x),L=n(52765),M=L.Z?window.location.href:"";class F{constructor(){this._eventCallbacks={}}_dispatchEvent(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=this._eventCallbacks[t];null!=s&&Array.isArray(s)&&s.map(t=>{t(...n)})}addEventListener(t,r){var n=this;return n._eventCallbacks[t]||(n._eventCallbacks[t]=[r]),n._eventCallbacks[t].push(r),{remove(){var i=n._eventCallbacks[t].filter(t=>t.toString()!==r.toString());n._eventCallbacks[t]=i}}}removeEventListener(t,r){console.error("Linking.removeEventListener('"+t+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `Linking.addEventListener`.");var n=this._eventCallbacks[t].filter(t=>t.toString()!==r.toString());this._eventCallbacks[t]=n}canOpenURL(){return Promise.resolve(!0)}getInitialURL(){return Promise.resolve(M)}openURL(t,r){1==arguments.length&&(r="_blank");try{return j(t,r),this._dispatchEvent("onOpen",t),Promise.resolve()}catch(t){return Promise.reject(t)}}_validateURL(t){D()("string"==typeof t,"Invalid URL: should be a string. Was: "+t),D()(t,"Invalid URL: cannot be empty")}}var j=(t,r)=>{if(L.Z){var n=new URL(t,window.location).toString();0===n.indexOf("tel:")?window.location=n:window.open(n,r,"noopener")}};let V=new F,B=n(85151).Z;var U={centroidDimension:function(t,r,n,i){var s=t.touchBank,a=0,o=0,l=1===t.numberActiveTouches?t.touchBank[t.indexOfSingleActiveTouch]:null;if(null!==l)l.touchActive&&l.currentTimeStamp>r&&(a+=i&&n?l.currentPageX:i&&!n?l.currentPageY:!i&&n?l.previousPageX:l.previousPageY,o=1);else for(var u=0;u<s.length;u++){var c=s[u];if(null!=c&&c.touchActive&&c.currentTimeStamp>=r){var d=void 0;a+=d=i&&n?c.currentPageX:i&&!n?c.currentPageY:!i&&n?c.previousPageX:c.previousPageY,o++}}return o>0?a/o:U.noCentroid},currentCentroidXOfTouchesChangedAfter:function(t,r){return U.centroidDimension(t,r,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(t,r){return U.centroidDimension(t,r,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(t,r){return U.centroidDimension(t,r,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(t,r){return U.centroidDimension(t,r,!1,!1)},currentCentroidX:function(t){return U.centroidDimension(t,0,!0,!0)},currentCentroidY:function(t){return U.centroidDimension(t,0,!1,!0)},noCentroid:-1};let z=U;var q=z.currentCentroidXOfTouchesChangedAfter,H=z.currentCentroidYOfTouchesChangedAfter,W=z.previousCentroidXOfTouchesChangedAfter,G=z.previousCentroidYOfTouchesChangedAfter,K=z.currentCentroidX,$=z.currentCentroidY,Y={_initializeGestureState(t){t.moveX=0,t.moveY=0,t.x0=0,t.y0=0,t.dx=0,t.dy=0,t.vx=0,t.vy=0,t.numberActiveTouches=0,t._accountsForMovesUpTo=0},_updateGestureStateOnMove(t,r){t.numberActiveTouches=r.numberActiveTouches,t.moveX=q(r,t._accountsForMovesUpTo),t.moveY=H(r,t._accountsForMovesUpTo);var n=t._accountsForMovesUpTo,i=W(r,n),s=q(r,n),a=G(r,n),o=H(r,n),l=t.dx+(s-i),u=t.dy+(o-a),c=r.mostRecentTimeStamp-t._accountsForMovesUpTo;t.vx=(l-t.dx)/c,t.vy=(u-t.dy)/c,t.dx=l,t.dy=u,t._accountsForMovesUpTo=r.mostRecentTimeStamp},create(t){var r={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:r=>null!=t.onStartShouldSetPanResponder&&t.onStartShouldSetPanResponder(r,n),onMoveShouldSetResponder:r=>null!=t.onMoveShouldSetPanResponder&&t.onMoveShouldSetPanResponder(r,n),onStartShouldSetResponderCapture:r=>(1===r.nativeEvent.touches.length&&Y._initializeGestureState(n),n.numberActiveTouches=r.touchHistory.numberActiveTouches,null!=t.onStartShouldSetPanResponderCapture&&t.onStartShouldSetPanResponderCapture(r,n)),onMoveShouldSetResponderCapture(r){var i=r.touchHistory;return n._accountsForMovesUpTo!==i.mostRecentTimeStamp&&(Y._updateGestureStateOnMove(n,i),!!t.onMoveShouldSetPanResponderCapture&&t.onMoveShouldSetPanResponderCapture(r,n))},onResponderGrant:i=>(r.handle||(r.handle=I.Z.createInteractionHandle()),r.timeout&&Z(r),r.shouldCancelClick=!0,n.x0=K(i.touchHistory),n.y0=$(i.touchHistory),n.dx=0,n.dy=0,t.onPanResponderGrant&&t.onPanResponderGrant(i,n),null==t.onShouldBlockNativeResponder||t.onShouldBlockNativeResponder(i,n)),onResponderReject(i){Q(r,t.onPanResponderReject,i,n)},onResponderRelease(i){Q(r,t.onPanResponderRelease,i,n),J(r),Y._initializeGestureState(n)},onResponderStart(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,t.onPanResponderStart&&t.onPanResponderStart(r,n)},onResponderMove(r){var i=r.touchHistory;n._accountsForMovesUpTo!==i.mostRecentTimeStamp&&(Y._updateGestureStateOnMove(n,i),t.onPanResponderMove&&t.onPanResponderMove(r,n))},onResponderEnd(i){var s=i.touchHistory;n.numberActiveTouches=s.numberActiveTouches,Q(r,t.onPanResponderEnd,i,n)},onResponderTerminate(i){Q(r,t.onPanResponderTerminate,i,n),J(r),Y._initializeGestureState(n)},onResponderTerminationRequest:r=>null==t.onPanResponderTerminationRequest||t.onPanResponderTerminationRequest(r,n),onClickCapture:t=>{!0===r.shouldCancelClick&&(t.stopPropagation(),t.preventDefault())}},getInteractionHandle:()=>r.handle}}};function Q(t,r,n,i){t.handle&&(I.Z.clearInteractionHandle(t.handle),t.handle=null),r&&r(n,i)}function Z(t){clearTimeout(t.timeout)}function J(t){t.timeout=setTimeout(()=>{t.shouldCancelClick=!1},250)}let X=Y;var ee=n(69299);class et{static share(t,r){return(void 0===r&&(r={}),D()("object"==typeof t&&null!==t,"Content to share must be a valid object"),D()("string"==typeof t.url||"string"==typeof t.message,"At least one of URL and message is required"),D()("object"==typeof r&&null!==r,"Options must be a valid object"),D()(!t.title||"string"==typeof t.title,"Invalid title: title should be a string."),void 0!==window.navigator.share)?window.navigator.share({title:t.title,text:t.message,url:t.url}):Promise.reject(Error("Share is not supported in this browser"))}static get sharedAction(){return"sharedAction"}static get dismissedAction(){return"dismissedAction"}}let er=et;var en=n(88401),ei=t=>{"vibrate"in window.navigator&&window.navigator.vibrate(t)};let es={cancel(){ei(0)},vibrate(t){void 0===t&&(t=400),ei(t)}};var ea=n(5968),eo=n(95542),el=n.n(eo),eu=n(16782),ec=n(42221),ed=eo.forwardRef((t,r)=>{var n=t.accessibilityLabel,i=t.color,s=t.disabled,a=t.onPress,o=t.testID,l=t.title;return eo.createElement(eu.default,{accessibilityLabel:n,accessibilityRole:"button",disabled:s,focusable:!s,onPress:a,ref:r,style:[eh.button,i&&{backgroundColor:i},s&&eh.buttonDisabled],testID:o},eo.createElement(ec.default,{style:[eh.text,s&&eh.textDisabled]},l))});ed.displayName="Button";var eh=en.Z.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});let ef=ed;var ep=n(73456),eg=n(9361),em=n(99614),ev=n(37704),ey=n.n(ev),e_=n(55855),eb=n.n(e_),eS=n(7153),eE=["children","style","imageStyle","imageRef"],eT={},ew=(0,eo.forwardRef)((t,r)=>{var n=t.children,i=t.style,s=void 0===i?eT:i,a=t.imageStyle,o=t.imageRef,l=eb()(t,eE),u=en.Z.flatten(s),c=u.height,d=u.width;return eo.createElement(eS.default,{ref:r,style:s},eo.createElement(em.default,ey()({},l,{ref:o,style:[{width:d,height:c,zIndex:-1},en.Z.absoluteFill,a]})),n)});ew.displayName="ImageBackground";let eC=ew;var eR=n(4229),eI=n(18552),eA=n(34246),eO=n(84357),eN=n(78430),ek=n(96870),eP=["style"],ex=function(){return L.Z&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env"}(),eD=eo.forwardRef((t,r)=>{var n=t.style,i=eb()(t,eP);return eo.createElement(eS.default,ey()({},i,{ref:r,style:[eL.root,n]}))});eD.displayName="SafeAreaView";var eL=en.Z.create({root:{paddingTop:ex+"(safe-area-inset-top)",paddingRight:ex+"(safe-area-inset-right)",paddingBottom:ex+"(safe-area-inset-bottom)",paddingLeft:ex+"(safe-area-inset-left)"}});let eM=eD;var eF=n(76528),ej=n(64312),eV=()=>{};function eB(){return null}eB.setBackgroundColor=eV,eB.setBarStyle=eV,eB.setHidden=eV,eB.setNetworkActivityIndicatorVisible=eV,eB.setTranslucent=eV;let eU=eB;var ez=n(17645),eq=n(13617),eH=n(68497),eW=n.n(eH),eG=n(60896),eK=function(t,r){var n=this;if(!n.instancePool.length)return new n(t,r);var i=n.instancePool.pop();return n.call(i,t,r),i},e$=function(t){var r=this;t.destructor(),r.instancePool.length<r.poolSize&&r.instancePool.push(t)},eY=10,eQ=eK;let eZ={addPoolingTo:function(t,r){var n=t;return n.instancePool=[],n.getPooled=r||eQ,n.poolSize||(n.poolSize=eY),n.release=e$,n},twoArgumentPooler:eK};var eJ=eZ.twoArgumentPooler;function eX(t,r){this.width=t,this.height=r}eX.prototype.destructor=function(){this.width=null,this.height=null},eX.getPooledFromElement=function(t){return eX.getPooled(t.offsetWidth,t.offsetHeight)},eZ.addPoolingTo(eX,eJ);let e0=eX;var e1=n(9538),e2=n.n(e1),e4=eZ.twoArgumentPooler;function e3(t,r){this.left=t,this.top=r}e3.prototype.destructor=function(){this.left=null,this.top=null},eZ.addPoolingTo(e3,e4);let e5=e3;var e6=n(53325),e9=t=>{var r=t.touches,n=t.changedTouches,i=r&&r.length>0,s=n&&n.length>0;return!i&&s?n[0]:i?r[0]:t},e8={NOT_RESPONDER:"NOT_RESPONDER",RESPONDER_INACTIVE_PRESS_IN:"RESPONDER_INACTIVE_PRESS_IN",RESPONDER_INACTIVE_PRESS_OUT:"RESPONDER_INACTIVE_PRESS_OUT",RESPONDER_ACTIVE_PRESS_IN:"RESPONDER_ACTIVE_PRESS_IN",RESPONDER_ACTIVE_PRESS_OUT:"RESPONDER_ACTIVE_PRESS_OUT",RESPONDER_ACTIVE_LONG_PRESS_IN:"RESPONDER_ACTIVE_LONG_PRESS_IN",RESPONDER_ACTIVE_LONG_PRESS_OUT:"RESPONDER_ACTIVE_LONG_PRESS_OUT",ERROR:"ERROR"},e7={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},te=eW()(eW()({},e7),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),tt=eW()(eW()({},e7),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),tr=eW()(eW()({},e7),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),tn={DELAY:"DELAY",RESPONDER_GRANT:"RESPONDER_GRANT",RESPONDER_RELEASE:"RESPONDER_RELEASE",RESPONDER_TERMINATED:"RESPONDER_TERMINATED",ENTER_PRESS_RECT:"ENTER_PRESS_RECT",LEAVE_PRESS_RECT:"LEAVE_PRESS_RECT",LONG_PRESS_DETECTED:"LONG_PRESS_DETECTED"},ti={NOT_RESPONDER:{DELAY:e8.ERROR,RESPONDER_GRANT:e8.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:e8.ERROR,RESPONDER_TERMINATED:e8.ERROR,ENTER_PRESS_RECT:e8.ERROR,LEAVE_PRESS_RECT:e8.ERROR,LONG_PRESS_DETECTED:e8.ERROR},RESPONDER_INACTIVE_PRESS_IN:{DELAY:e8.RESPONDER_ACTIVE_PRESS_IN,RESPONDER_GRANT:e8.ERROR,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:e8.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:e8.ERROR},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:e8.RESPONDER_ACTIVE_PRESS_OUT,RESPONDER_GRANT:e8.ERROR,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.RESPONDER_INACTIVE_PRESS_IN,LEAVE_PRESS_RECT:e8.RESPONDER_INACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:e8.ERROR},RESPONDER_ACTIVE_PRESS_IN:{DELAY:e8.ERROR,RESPONDER_GRANT:e8.ERROR,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:e8.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:e8.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:e8.ERROR,RESPONDER_GRANT:e8.ERROR,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.RESPONDER_ACTIVE_PRESS_IN,LEAVE_PRESS_RECT:e8.RESPONDER_ACTIVE_PRESS_OUT,LONG_PRESS_DETECTED:e8.ERROR},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:e8.ERROR,RESPONDER_GRANT:e8.ERROR,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:e8.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:e8.RESPONDER_ACTIVE_LONG_PRESS_IN},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:e8.ERROR,RESPONDER_GRANT:e8.ERROR,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.RESPONDER_ACTIVE_LONG_PRESS_IN,LEAVE_PRESS_RECT:e8.RESPONDER_ACTIVE_LONG_PRESS_OUT,LONG_PRESS_DETECTED:e8.ERROR},error:{DELAY:e8.NOT_RESPONDER,RESPONDER_GRANT:e8.RESPONDER_INACTIVE_PRESS_IN,RESPONDER_RELEASE:e8.NOT_RESPONDER,RESPONDER_TERMINATED:e8.NOT_RESPONDER,ENTER_PRESS_RECT:e8.NOT_RESPONDER,LEAVE_PRESS_RECT:e8.NOT_RESPONDER,LONG_PRESS_DETECTED:e8.NOT_RESPONDER}},ts=130,ta=20,to=370,tl=10,tu={componentDidMount:function(){(0,e6.O)("TouchableMixin","TouchableMixin is deprecated. Please use Pressable.");var t=this.getTouchableNode&&this.getTouchableNode();t&&t.addEventListener&&(this._touchableBlurListener=t=>{this._isTouchableKeyboardActive&&(this.state.touchable.touchState&&this.state.touchable.touchState!==e8.NOT_RESPONDER&&this.touchableHandleResponderTerminate({nativeEvent:t}),this._isTouchableKeyboardActive=!1)},t.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){var t=this.getTouchableNode&&this.getTouchableNode();t&&t.addEventListener&&t.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressInLocation=null,this.state.touchable.responderID=null},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(t){var r=t.currentTarget;t.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=e8.NOT_RESPONDER,this.state.touchable.responderID=r,this._receiveSignal(tn.RESPONDER_GRANT,t);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):ts;0!==(n=isNaN(n)?ts:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,t),n):this._handleDelay(t);var i=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):to;i=isNaN(i)?to:i,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,t),i+n)},touchableHandleResponderRelease:function(t){this.pressInLocation=null,this._receiveSignal(tn.RESPONDER_RELEASE,t)},touchableHandleResponderTerminate:function(t){this.pressInLocation=null,this._receiveSignal(tn.RESPONDER_TERMINATED,t)},touchableHandleResponderMove:function(t){if(this.state.touchable.positionOnActivate){var r=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,i=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:ta,right:ta,top:ta,bottom:ta},s=i.left,a=i.top,o=i.right,l=i.bottom,u=this.touchableGetHitSlop?this.touchableGetHitSlop():null;u&&(s+=u.left||0,a+=u.top||0,o+=u.right||0,l+=u.bottom||0);var c=e9(t.nativeEvent),d=c&&c.pageX,h=c&&c.pageY;if(this.pressInLocation&&this._getDistanceBetweenPoints(d,h,this.pressInLocation.pageX,this.pressInLocation.pageY)>tl&&this._cancelLongPressDelayTimeout(),d>r.left-s&&h>r.top-a&&d<r.left+n.width+o&&h<r.top+n.height+l){var f=this.state.touchable.touchState;this._receiveSignal(tn.ENTER_PRESS_RECT,t),this.state.touchable.touchState===e8.RESPONDER_INACTIVE_PRESS_IN&&f!==e8.RESPONDER_INACTIVE_PRESS_IN&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(tn.LEAVE_PRESS_RECT,t)}},touchableHandleFocus:function(t){this.props.onFocus&&this.props.onFocus(t)},touchableHandleBlur:function(t){this.props.onBlur&&this.props.onBlur(t)},_remeasureMetricsOnActivation:function(){var t=this.state.touchable.responderID;null!=t&&c.Z.measure(t,this._handleQueryLayout)},_handleQueryLayout:function(t,r,n,i,s,a){(t||r||n||i||s||a)&&(this.state.touchable.positionOnActivate&&e5.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&e0.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=e5.getPooled(s,a),this.state.touchable.dimensionsOnActivate=e0.getPooled(n,i))},_handleDelay:function(t){this.touchableDelayTimeout=null,this._receiveSignal(tn.DELAY,t)},_handleLongDelay:function(t){this.longPressDelayTimeout=null;var r=this.state.touchable.touchState;r!==e8.RESPONDER_ACTIVE_PRESS_IN&&r!==e8.RESPONDER_ACTIVE_LONG_PRESS_IN?console.error("Attempted to transition from state `"+r+"` to `"+e8.RESPONDER_ACTIVE_LONG_PRESS_IN+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(tn.LONG_PRESS_DETECTED,t)},_receiveSignal:function(t,r){var n=this.state.touchable.responderID,i=this.state.touchable.touchState,s=ti[i]&&ti[i][t];if(n||t!==tn.RESPONDER_RELEASE){if(!s)throw Error("Unrecognized signal `"+t+"` or state `"+i+"` for Touchable responder `"+n+"`");if(s===e8.ERROR)throw Error("Touchable cannot transition from `"+i+"` to `"+t+"` for responder `"+n+"`");i!==s&&(this._performSideEffectsForTransition(i,s,t,r),this.state.touchable.touchState=s)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(t){return t===e8.RESPONDER_ACTIVE_PRESS_IN||t===e8.RESPONDER_ACTIVE_LONG_PRESS_IN},_savePressInLocation:function(t){var r=e9(t.nativeEvent),n=r&&r.pageX,i=r&&r.pageY,s=r&&r.locationX,a=r&&r.locationY;this.pressInLocation={pageX:n,pageY:i,locationX:s,locationY:a}},_getDistanceBetweenPoints:function(t,r,n,i){var s=t-n,a=r-i;return Math.sqrt(s*s+a*a)},_performSideEffectsForTransition:function(t,r,n,i){var s=this._isHighlight(t),a=this._isHighlight(r);(n===tn.RESPONDER_TERMINATED||n===tn.RESPONDER_RELEASE)&&this._cancelLongPressDelayTimeout();var o=t===e8.NOT_RESPONDER&&r===e8.RESPONDER_INACTIVE_PRESS_IN,l=!te[t]&&te[r];if((o||l)&&this._remeasureMetricsOnActivation(),tt[t]&&n===tn.LONG_PRESS_DETECTED&&this.touchableHandleLongPress&&this.touchableHandleLongPress(i),a&&!s?this._startHighlight(i):!a&&s&&this._endHighlight(i),tt[t]&&n===tn.RESPONDER_RELEASE){var u=!!this.props.onLongPress,c=tr[t]&&(!u||!this.touchableLongPressCancelsPress());(!tr[t]||c)&&this.touchableHandlePress&&(a||s||(this._startHighlight(i),this._endHighlight(i)),this.touchableHandlePress(i))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){c.Z.playTouchSound()},_startHighlight:function(t){this._savePressInLocation(t),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(t)},_endHighlight:function(t){this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(()=>{this.touchableHandleActivePressOut(t)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(t))},touchableHandleKeyEvent:function(t){var r=t.type,n=t.key;"Enter"!==n&&" "!==n||("keydown"===r?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==e8.NOT_RESPONDER||(this.touchableHandleResponderGrant(t),this._isTouchableKeyboardActive=!0):"keyup"===r&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==e8.NOT_RESPONDER&&(this.touchableHandleResponderRelease(t),this._isTouchableKeyboardActive=!1),t.stopPropagation(),"Enter"===n&&"link"===eG.Z.propsToAriaRole(this.props)||t.preventDefault())},withoutDefaultFocusAndBlur:{}};tu.touchableHandleFocus,tu.touchableHandleBlur;var tc=eb()(tu,["touchableHandleFocus","touchableHandleBlur"]);tu.withoutDefaultFocusAndBlur=tc;var td={Mixin:tu,TOUCH_TARGET_DEBUG:!1,renderDebugView:t=>{var r=t.color,n=t.hitSlop;if(!td.TOUCH_TARGET_DEBUG)return null;var i={};for(var s in n=n||{top:0,bottom:0,left:0,right:0})i[s]=-n[s];var a=e2()(r);if("number"!=typeof a)return null;var o="#"+("00000000"+a.toString(16)).substr(-8);return el().createElement(eS.default,{pointerEvents:"none",style:eW()({position:"absolute",borderColor:o.slice(0,-2)+"55",borderWidth:1,borderStyle:"dashed",backgroundColor:o.slice(0,-2)+"0F"},i)})}};let th=td;var tf=n(64568),tp=["style"],tg={};let tm=function(t){var r=t.style,n=eb()(t,tp);return el().createElement(eS.default,ey()({},n,{style:[tg,r]}))},tv=tm;var ty=n(53632),t_=n(1010);function tb(t){return el().createElement(tm,t)}tb.ignoreWarnings=()=>{};let tS=tb,tE={ignoreLogs(){},ignoreAllLogs(){},uninstall(){},install(){}},tT=n(73208).Z;var tw=n(21540),tC=n(69032),tR=n(85093)},60896:(t,r,n)=>{"use strict";n.d(r,{Z:()=>l});var i={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};let s=t=>{var r=t.accessibilityRole,n=t.role||r;if(n){var s=i[n];if(null!==s)return s||n}};var a={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},o={};let l={isDisabled:t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf("disabled")>-1,propsToAccessibilityComponent:function(t){if(void 0===t&&(t=o),"label"===(t.role||t.accessibilityRole))return"label";var r=s(t);if(r){if("heading"===r){var n=t.accessibilityLevel||t["aria-level"];return null!=n?"h"+n:"h1"}return a[r]}},propsToAriaRole:s}},1810:(t,r,n)=>{"use strict";n.d(r,{Z:()=>s});var i=n(26365);let s={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(t){null!==t&&(this._currentlyFocusedNode=t,document.activeElement!==t&&i.Z.focus(t))},blurTextInput(t){null!==t&&(this._currentlyFocusedNode=null,document.activeElement===t&&i.Z.blur(t))}}},52765:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});let i=!!("undefined"!=typeof window&&window.document&&window.document.createElement)},48304:(t,r,n)=>{"use strict";n.d(r,{Z:()=>s});var i=n(1810);let s=()=>{i.Z.blurTextInput(i.Z.currentlyFocusedField())}},97212:(t,r,n)=>{"use strict";n.d(r,{E5:()=>c,LO:()=>s,Uy:()=>l,YB:()=>o,_T:()=>a,hJ:()=>u,lG:()=>i,vr:()=>d});var i={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},s={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},a={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},o={onBlur:!0,onFocus:!0},l={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},u={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},c={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},d={style:!0}},78422:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});let i=t=>{if(null!=t&&1===t.nodeType&&"function"==typeof t.getBoundingClientRect)return t.getBoundingClientRect()}},56625:(t,r,n)=>{"use strict";function i(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(t){r.forEach(r=>{if(null!=r){if("function"==typeof r){r(t);return}if("object"==typeof r){r.current=t;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(r))}})}}n.d(r,{Z:()=>i}),n(95542)},50271:(t,r,n)=>{"use strict";function i(t,r){var n={};for(var i in t)t.hasOwnProperty(i)&&!0===r[i]&&(n[i]=t[i]);return n}n.d(r,{Z:()=>i})},66748:(t,r,n)=>{"use strict";n.d(r,{Z:()=>c});var i=n(55376),s=n(26365),a=n(52765),o="__reactLayoutHandler",l=(a.Z,null);function u(){return a.Z&&void 0!==window.ResizeObserver&&null==l&&(l=new window.ResizeObserver(function(t){t.forEach(t=>{var r=t.target,n=r[o];"function"==typeof n&&s.Z.measure(r,(r,i,s,a,o,l)=>{var u={nativeEvent:{layout:{x:r,y:i,width:s,height:a,left:o,top:l}},timeStamp:Date.now()};Object.defineProperty(u.nativeEvent,"target",{enumerable:!0,get:()=>t.target}),n(u)})})})),l}function c(t,r){var n=u();(0,i.Z)(()=>{var n=t.current;null!=n&&(n[o]=r)},[t,r]),(0,i.Z)(()=>{var r=t.current;return null!=r&&null!=n&&("function"==typeof r[o]?n.observe(r):n.unobserve(r)),()=>{null!=r&&null!=n&&n.unobserve(r)}},[t,n])}},55376:(t,r,n)=>{"use strict";n.d(r,{Z:()=>s});var i=n(95542);let s=n(52765).Z?i.useLayoutEffect:i.useEffect},14959:(t,r,n)=>{"use strict";n.d(r,{Iw:()=>f,w1:()=>h,PE:()=>p});var i=n(95542),s=n.n(i),a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),o=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),l=new Map;function u(t){var r=l.get(t);if(r)return r;var n=!1;if(Intl.Locale)try{var i=new Intl.Locale(t).maximize().script;n=a.has(i)}catch(r){var s=t.split("-")[0];n=o.has(s)}else{var u=t.split("-")[0];n=o.has(u)}return l.set(t,n),n}var c={direction:"ltr",locale:"en-US"},d=(0,i.createContext)(c);function h(t){return u(t)?"rtl":"ltr"}function f(t){var r=t.direction,n=t.locale,i=t.children;return r||n?s().createElement(d.Provider,{children:i,value:{direction:n?h(n):r,locale:n}}):i}function p(){return(0,i.useContext)(d)}},42442:(t,r,n)=>{"use strict";n.d(r,{Z:()=>a});var i=n(95542),s=n(56625);function a(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.useMemo(()=>(0,s.Z)(...r),[...r])}},1369:(t,r,n)=>{"use strict";n.d(r,{Z:()=>a});var i=n(26365),s=n(67896);function a(t){return t.pointerEvents,t.style,(0,s.Z)(()=>t=>{null!=t&&(t.measure=r=>i.Z.measure(t,r),t.measureLayout=(r,n,s)=>i.Z.measureLayout(t,r,s,n),t.measureInWindow=r=>i.Z.measureInWindow(t,r))})}},37236:(t,r,n)=>{"use strict";n.d(r,{Z:()=>A});var i="DELAY",s="ERROR",a="LONG_PRESS_DETECTED",o="NOT_RESPONDER",l="RESPONDER_ACTIVE_LONG_PRESS_START",u="RESPONDER_ACTIVE_PRESS_START",c="RESPONDER_INACTIVE_PRESS_START",d="RESPONDER_GRANT",h="RESPONDER_RELEASE",f="RESPONDER_TERMINATED",p=Object.freeze({NOT_RESPONDER:{DELAY:s,RESPONDER_GRANT:c,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s},RESPONDER_INACTIVE_PRESS_START:{DELAY:u,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},ERROR:{DELAY:o,RESPONDER_GRANT:c,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:o}}),g=t=>t.getAttribute("role"),m=t=>t.tagName.toLowerCase(),v=t=>t===u||t===l,y=t=>"button"===g(t),_=t=>t===c||t===u||t===l,b=t=>t===f||t===h,S=t=>{var r=t.key,n=t.target,i=" "===r||"Spacebar"===r,s="button"===m(n)||y(n);return"Enter"===r||i&&s},E=450,T=50;class w{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=o,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var t=(t,r)=>{t.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=o,this._isPointerTouch="touchstart"===t.nativeEvent.type,this._receiveSignal(d,t);var n=C(this._config.delayPressStart,0,T);!1!==r&&n>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(i,t)},n):this._receiveSignal(i,t);var s=C(this._config.delayLongPress,10,E);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(t)},s+n)},r=t=>{this._receiveSignal(h,t)},n=t=>{var i=this._config.onPress,s=t.target;if(this._touchState!==o&&S(t)){r(t),document.removeEventListener("keyup",n);var a=s.getAttribute("role"),l=m(s),u="link"===a||"a"===l||"button"===l||"input"===l||"select"===l||"textarea"===l,c=this._responderElement===s;null!=i&&!u&&c&&i(t),this._responderElement=null}};return{onStartShouldSetResponder:t=>{var r=this._config.disabled;return r&&y(t.currentTarget)&&t.stopPropagation(),null==r||!r},onKeyDown:r=>{var i=this._config.disabled,s=r.key,a=r.target;if(!i&&S(r)){this._touchState===o&&(t(r,!1),this._responderElement=a,document.addEventListener("keyup",n));var l=" "===s||"Spacebar"===s,u=g(a),c="button"===u||"menuitem"===u;l&&c&&"button"!==m(a)&&r.preventDefault(),r.stopPropagation()}},onResponderGrant:r=>t(r),onResponderMove:t=>{null!=this._config.onPressMove&&this._config.onPressMove(t);var r=R(t);null!=this._touchActivatePosition&&Math.hypot(this._touchActivatePosition.pageX-r.pageX,this._touchActivatePosition.pageY-r.pageY)>10&&this._cancelLongPressDelayTimeout()},onResponderRelease:t=>r(t),onResponderTerminate:t=>{"selectionchange"===t.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(f,t)},onResponderTerminationRequest:t=>{var r=this._config,n=r.cancelable,i=r.disabled,s=r.onLongPress;return(!!i||null==s||!this._isPointerTouch||"contextmenu"!==t.nativeEvent.type)&&(null==n||n)},onClick:t=>{var r=this._config,n=r.disabled,i=r.onPress;n?y(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),this._longPressDispatched||this._selectionTerminated?t.preventDefault():null!=i&&!1===t.altKey&&i(t))},onContextMenu:t=>{var r=this._config,n=r.disabled,i=r.onLongPress;n?y(t.currentTarget)&&t.stopPropagation():null!=i&&this._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}_receiveSignal(t,r){var n=this._touchState,i=null;null!=p[n]&&(i=p[n][t]),(this._touchState!==o||t!==h)&&(null==i||i===s?console.error("PressResponder: Invalid signal "+t+" for state "+n+" on responder"):n!==i&&(this._performTransitionSideEffects(n,i,t,r),this._touchState=i))}_performTransitionSideEffects(t,r,n,i){if(b(n)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),_(t)&&n===a){var s=this._config.onLongPress;null!=s&&null==i.nativeEvent.key&&(s(i),this._longPressDispatched=!0)}var o=v(t),u=v(r);if(!o&&u?this._activate(i):o&&!u&&this._deactivate(i),_(t)&&n===h){var c=this._config,d=c.onLongPress;null==c.onPress||null!=d&&t===l||u||o||(this._activate(i),this._deactivate(i))}this._cancelPressDelayTimeout()}_activate(t){var r=this._config,n=r.onPressChange,i=r.onPressStart,s=R(t);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},null!=i&&i(t),null!=n&&n(!0)}_deactivate(t){var r=this._config,n=r.onPressChange,i=r.onPressEnd;function s(){null!=i&&i(t),null!=n&&n(!1)}var a=C(this._config.delayPressEnd);a>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},a):s()}_handleLongPress(t){(this._touchState===u||this._touchState===l)&&this._receiveSignal(a,t)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function C(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),Math.max(r,null!=t?t:n)}function R(t){var r=t.nativeEvent,n=r.changedTouches,i=r.touches;return null!=i&&i.length>0?i[0]:null!=n&&n.length>0?n[0]:t.nativeEvent}var I=n(95542);function A(t,r){var n=(0,I.useRef)(null);null==n.current&&(n.current=new w(r));var i=n.current;return(0,I.useEffect)(()=>{i.configure(r)},[r,i]),(0,I.useEffect)(()=>()=>{i.reset()},[i]),(0,I.useDebugValue)(r),i.getEventHandlers()}},23872:(t,r,n)=>{"use strict";n.d(r,{Z:()=>eT});var i=n(95542),s=n(78422),a=()=>{},o={},l=[];function u(t){return t>20?t%20:t}function c(t,r){var n,i,c,d=!1,h=t.changedTouches,f=t.type,p=!0===t.metaKey,g=!0===t.shiftKey,m=h&&h[0].force||0,v=u(h&&h[0].identifier||0),y=h&&h[0].clientX||t.clientX,_=h&&h[0].clientY||t.clientY,b=h&&h[0].pageX||t.pageX,S=h&&h[0].pageY||t.pageY,E="function"==typeof t.preventDefault?t.preventDefault.bind(t):a,T=t.timeStamp;function w(t){return Array.prototype.slice.call(t).map(t=>({force:t.force,identifier:u(t.identifier),get locationX(){return I(t.clientX)},get locationY(){return A(t.clientY)},pageX:t.pageX,pageY:t.pageY,target:t.target,timestamp:T}))}if(null!=h)i=w(h),c=w(t.touches);else{var C=[{force:m,identifier:v,get locationX(){return I(y)},get locationY(){return A(_)},pageX:b,pageY:S,target:t.target,timestamp:T}];i=C,c="mouseup"===f||"dragstart"===f?l:C}var R={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:t.defaultPrevented,dispatchConfig:o,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>d,isTrusted:t.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:p,shiftKey:g,changedTouches:i,force:m,identifier:v,get locationX(){return I(y)},get locationY(){return A(_)},pageX:b,pageY:S,target:t.target,timestamp:T,touches:c,type:f},persist:a,preventDefault:E,stopPropagation(){d=!0},target:t.target,timeStamp:T,touchHistory:r.touchHistory};function I(t){if(n=n||(0,s.Z)(R.currentTarget))return t-n.left}function A(t){if(n=n||(0,s.Z)(R.currentTarget))return t-n.top}return R}var d="mousedown",h="mousemove",f="mouseup",p="dragstart",g="touchstart",m="touchmove",v="touchend",y="touchcancel",_="scroll",b="select",S="selectionchange";function E(t){return t===g||t===d}function T(t){return t===m||t===h}function w(t){return t===v||t===f||C(t)}function C(t){return t===y||t===p}function R(t){return t===_}function I(t){return t===b||t===S}function A(){var t=window.getSelection(),r=t.toString(),n=t.anchorNode,i=t.focusNode,s=n&&n.nodeType===window.Node.TEXT_NODE||i&&i.nodeType===window.Node.TEXT_NODE;return r.length>=1&&"\n"!==r&&s}var O="__reactResponderId";function N(t){return"selectionchange"===t.type?k(window.getSelection().anchorNode):null!=t.composedPath?t.composedPath():k(t.target)}function k(t){for(var r=[];null!=t&&t!==document.body;)r.push(t),t=t.parentNode;return r}function P(t){return null!=t?t[O]:null}function x(t,r){null!=t&&(t[O]=r)}function D(t){for(var r=[],n=[],i=N(t),s=0;s<i.length;s++){var a=i[s],o=P(a);null!=o&&(r.push(o),n.push(a))}return{idPath:r,nodePath:n}}function L(t,r){var n=t.length,i=r.length;if(0===n||0===i||t[n-1]!==r[i-1])return null;var s=t[0],a=0,o=r[0],l=0;n-i>0&&(s=t[a=n-i],n=i),i-n>0&&(o=r[l=i-n],i=n);for(var u=n;u--;){if(s===o)return s;s=t[a++],o=r[l++]}return null}function M(t,r){if(!r||0===r.length)return!1;for(var n=0;n<r.length;n++){var i=r[n].target;if(null!=i&&t.contains(i))return!0}return!1}function F(t){return"selectionchange"===t.type?A():"select"===t.type}function j(t){var r=t.altKey,n=t.button,i=t.buttons,s=t.ctrlKey,a=t.type,o="touchstart"===a||"touchmove"===a,l="mousedown"===a&&(0===n||1===i),u="mousemove"===a&&1===i,c=!1===r&&!1===s;return!!o||!!l&&!!c||!!u&&!!c}var V=!1,B=20;function U(t){return t.timeStamp||t.timestamp}function z(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:U(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:U(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:U(t)}}function q(t,r){t.touchActive=!0,t.startPageX=r.pageX,t.startPageY=r.pageY,t.startTimeStamp=U(r),t.currentPageX=r.pageX,t.currentPageY=r.pageY,t.currentTimeStamp=U(r),t.previousPageX=r.pageX,t.previousPageY=r.pageY,t.previousTimeStamp=U(r)}function H(t){var r=t.identifier;return null==r&&console.error("Touch object is missing identifier."),V&&r>B&&console.error("Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",r,B),r}function W(t,r){var n=H(t),i=r.touchBank[n];i?q(i,t):r.touchBank[n]=z(t),r.mostRecentTimeStamp=U(t)}function G(t,r){var n=r.touchBank[H(t)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=U(t),r.mostRecentTimeStamp=U(t)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+$(t)+"\n","Touch Bank: "+Y(r))}function K(t,r){var n=r.touchBank[H(t)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=U(t),r.mostRecentTimeStamp=U(t)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+$(t)+"\n","Touch Bank: "+Y(r))}function $(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:U(t)})}function Y(t){var r=t.touchBank,n=JSON.stringify(r.slice(0,B));return r.length>B&&(n+=" (original size: "+r.length+")"),n}class Q{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(t,r){var n=this._touchHistory;if(T(t))r.changedTouches.forEach(t=>G(t,n));else if(E(t))r.changedTouches.forEach(t=>W(t,n)),n.numberActiveTouches=r.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=r.touches[0].identifier);else if(w(t)&&(r.changedTouches.forEach(t=>K(t,n)),n.numberActiveTouches=r.touches.length,1===n.numberActiveTouches)){for(var i=n.touchBank,s=0;s<i.length;s++){var a=i[s];if(null!=a&&a.touchActive){n.indexOfSingleActiveTouch=s;break}}if(V){var o=i[n.indexOfSingleActiveTouch];null!=o&&o.touchActive||console.error("Cannot find single active touch.")}}}get touchHistory(){return this._touchHistory}}var Z=n(52765),J={},X=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],ee=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],et={touchstart:X,mousedown:X,touchmove:ee,mousemove:ee,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},er={id:null,idPath:null,node:null},en=new Map,ei=!1,es=0,ea={id:null,node:null,idPath:null},eo=new Q;function el(t){ea=t}function eu(t){var r=en.get(t);return null!=r?r:J}function ec(t){var r,n=t.type,i=t.target;if("touchstart"===n&&(ei=!0),("touchmove"===n||es>1)&&(ei=!1),("mousedown"!==n||!ei)&&("mousemove"!==n||!ei)&&("mousemove"!==n||!(es<1))){if(ei&&"mouseup"===n){0===es&&(ei=!1);return}var s=E(n)&&j(t),a=T(n),o=w(n),l=R(n),u=I(n),d=c(t,eo);(s||a||o)&&(t.touches?es=t.touches.length:s?es=1:o&&(es=0),eo.recordTouchTrack(n,d.nativeEvent));var h=D(t),f=!1;if(s||a||l&&es>0){var p=ea.idPath,g=h.idPath;if(null!=p&&null!=g){var m=L(p,g);if(null!=m){var v=g.indexOf(m)+(m===ea.id?1:0);h={idPath:g.slice(v),nodePath:h.nodePath.slice(v)}}else h=null}null!=h&&null!=(r=ed(h,t,d))&&(eh(d,r),f=!0)}if(null!=ea.id&&null!=ea.node){var y=ea,_=y.id,b=y.node,S=eu(_),A=S.onResponderStart,O=S.onResponderMove,N=S.onResponderEnd,k=S.onResponderRelease,P=S.onResponderTerminate,x=S.onResponderTerminationRequest;if(d.bubbles=!1,d.cancelable=!1,d.currentTarget=b,s)null!=A&&(d.dispatchConfig.registrationName="onResponderStart",A(d));else if(a)null!=O&&(d.dispatchConfig.registrationName="onResponderMove",O(d));else{var V=C(n)||"contextmenu"===n||"blur"===n&&i===window||"blur"===n&&i.contains(b)&&t.relatedTarget!==b||l&&0===es||l&&i.contains(b)&&i!==b||u&&F(t),B=o&&!V&&!M(b,t.touches);if(o&&null!=N&&(d.dispatchConfig.registrationName="onResponderEnd",N(d)),B&&(null!=k&&(d.dispatchConfig.registrationName="onResponderRelease",k(d)),el(er)),V){var U=!0;("contextmenu"===n||"scroll"===n||"selectionchange"===n)&&(f?U=!1:null!=x&&(d.dispatchConfig.registrationName="onResponderTerminationRequest",!1===x(d)&&(U=!1))),U&&(null!=P&&(d.dispatchConfig.registrationName="onResponderTerminate",P(d)),el(er),ei=!1,es=0)}}}}}function ed(t,r,n){var i=et[r.type];if(null!=i){for(var s=t.idPath,a=t.nodePath,o=i[0],l=i[1],u=i[2].bubbles,c=function(t,r,i){var a=eu(t)[i];if(null!=a&&(n.currentTarget=r,!0===a(n))){var o=s.slice(s.indexOf(t));return{id:t,node:r,idPath:o}}},d=s.length-1;d>=0;d--){var h=c(s[d],a[d],o);if(null!=h)return h;if(!0===n.isPropagationStopped())return}if(u)for(var f=0;f<s.length;f++){var p=c(s[f],a[f],l);if(null!=p)return p;if(!0===n.isPropagationStopped())return}else{var g=s[0],m=a[0];if(r.target===m)return c(g,m,l)}}}function eh(t,r){var n=ea,i=n.id,s=n.node,a=r.id,o=r.node,l=eu(a),u=l.onResponderGrant,c=l.onResponderReject;if(t.bubbles=!1,t.cancelable=!1,t.currentTarget=o,null==i)null!=u&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",u(t)),el(r);else{var d=eu(i),h=d.onResponderTerminate,f=d.onResponderTerminationRequest,p=!0;null!=f&&(t.currentTarget=s,t.dispatchConfig.registrationName="onResponderTerminationRequest",!1===f(t)&&(p=!1)),p?(null!=h&&(t.currentTarget=s,t.dispatchConfig.registrationName="onResponderTerminate",h(t)),null!=u&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",u(t)),el(r)):null!=c&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderReject",c(t))}}var ef=["blur","scroll"],ep=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function eg(){Z.Z&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",ec),ep.forEach(t=>{document.addEventListener(t,ec)}),ef.forEach(t=>{document.addEventListener(t,ec,!0)}),window.__reactResponderSystemActive=!0)}function em(t,r,n){x(r,t),en.set(t,n)}function ev(t){ea.id===t&&ey(),en.has(t)&&en.delete(t)}function ey(){var t=ea,r=t.id,n=t.node;if(null!=r&&null!=n){var i=eu(r).onResponderTerminate;if(null!=i){var s=c({},eo);s.currentTarget=n,i(s)}el(er)}ei=!1,es=0}function e_(){return ea.node}var eb={},eS=0;function eE(t){var r=i.useRef(null);return null==r.current&&(r.current=t()),r.current}function eT(t,r){void 0===r&&(r=eb);var n=eE(()=>eS++),s=i.useRef(!1);i.useEffect(()=>(eg(),()=>{ev(n)}),[n]),i.useEffect(()=>{var i=r,a=i.onMoveShouldSetResponder,o=i.onMoveShouldSetResponderCapture,l=i.onScrollShouldSetResponder,u=i.onScrollShouldSetResponderCapture,c=i.onSelectionChangeShouldSetResponder,d=i.onSelectionChangeShouldSetResponderCapture,h=i.onStartShouldSetResponder,f=i.onStartShouldSetResponderCapture,p=null!=a||null!=o||null!=l||null!=u||null!=c||null!=d||null!=h||null!=f,g=t.current;p?(em(n,g,r),s.current=!0):s.current&&(ev(n),s.current=!1)},[r,t,n]),i.useDebugValue({isResponder:t.current===e_()}),i.useDebugValue(r)}},67896:(t,r,n)=>{"use strict";n.d(r,{Z:()=>a});var i=n(95542),s="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():Object.freeze({});function a(t){var r=i.useRef(s);return r.current===s&&(r.current=t()),r.current}},53325:(t,r,n)=>{"use strict";function i(t,r){}n.d(r,{O:()=>i})},85151:(t,r,n)=>{"use strict";n.d(r,{Z:()=>l});var i=n(58588),s=n(73208),a=n(29879),o=n.n(a);class l{constructor(t){"ios"===i.Z.OS&&(o()(null!=t,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=t)}addListener(t,r,n){null==(i=this._nativeModule)||i.addListener(t);var i,a=s.Z.addListener(t,r,n);return{remove:()=>{if(null!=a){var t;null==(t=this._nativeModule)||t.removeListeners(1),a.remove(),a=null}}}}removeListener(t,r){var n;null==(n=this._nativeModule)||n.removeListeners(1),s.Z.removeListener(t,r)}emit(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];s.Z.emit(t,...n)}removeAllListeners(t){var r;o()(null!=t,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(r=this._nativeModule)||r.removeListeners(this.listenerCount(t)),s.Z.removeAllListeners(t)}listenerCount(t){return s.Z.listenerCount(t)}}},73208:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});let i=new(n(18971)).Z},83370:(t,r,n)=>{"use strict";function i(t,r,n,i){void 0===i&&(i=1);for(var s=r.getItemCount(r.data),a=[],o=0;o<t.length;o++)for(var l=t[o],u=0,c=s-1;u<=c;){var d=u+(c-u>>>1),h=n(d,r),f=h.offset*i,p=(h.offset+h.length)*i;if(0===d&&l<f||0!==d&&l<=f)c=d-1;else if(l>p)u=d+1;else{a[o]=d;break}}return a}function s(t,r){return r.last-r.first+1-Math.max(0,1+Math.min(r.last,t.last)-Math.max(r.first,t.first))}function a(t,r,n,a,o,l){var u=t.getItemCount(t.data);if(0===u)return{first:0,last:-1};var c=l.offset,d=l.velocity,h=l.visibleLength,f=l.zoomScale,p=void 0===f?1:f,g=Math.max(0,c),m=g+h,v=(n-1)*h,y=d>1?"after":d<-1?"before":"none",_=Math.max(0,g-.5*v),b=Math.max(0,m+.5*v);if(o(u-1,t).offset*p<_)return{first:Math.max(0,u-1-r),last:u-1};var S=i([_,g,m,b],t,o,p),E=S[0],T=S[1],w=S[2],C=S[3];E=null==E?0:E,T=null==T?Math.max(0,E):T,C=null==C?u-1:C,w=null==w?Math.min(C,T+r-1):w;for(var R={first:T,last:w},I=s(a,R);!(T<=E)||!(w>=C);){var A=I>=r,O=T<=a.first||T>a.last,N=T>E&&(!A||!O),k=w>=a.last||w<a.first,P=w<C&&(!A||!k);if(A&&!N&&!P)break;N&&!("after"===y&&P&&k)&&(O&&I++,T--),P&&!("before"===y&&N&&O)&&(k&&I++,w++)}if(!(w>=T&&T>=0&&w<u&&T>=E&&w<=C&&T<=R.first&&w>=R.last))throw Error("Bad window calculation "+JSON.stringify({first:T,last:w,itemCount:u,overscanFirst:E,overscanLast:C,visible:R}));return{first:T,last:w}}function o(t,r){return"object"==typeof t&&(null==t?void 0:t.key)!=null?t.key:"object"==typeof t&&(null==t?void 0:t.id)!=null?t.id:String(r)}n.d(r,{EF:()=>a,jn:()=>o})},55544:(t,r,n)=>{"use strict";n.d(r,{Z:()=>eo});var i=n(97981),s=n.n(i),a=n(37704),o=n.n(a),l=n(68497),u=n.n(l),c=n(96870),d=n(76528),h=n(7153),f=n(88401),p=n(58892);class g{constructor(t,r){this._delay=r,this._callback=t}dispose(t){void 0===t&&(t={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var t=setTimeout(()=>{this._taskHandle=p.Z.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(t)}}}}let m=g,v=function(t,r,n){return r<t?t:r>n?n:r},y=function(){return console.log(...arguments)};var _=n(29879),b=n.n(_);class S{constructor(t){b()(t>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=t,0===t?this._regions=[]:this._regions=[{first:0,last:t-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(t){if(b()(t.first>=0&&t.first<this._numCells&&t.last>=-1&&t.last<this._numCells&&t.last>=t.first-1,"CellRenderMask.addCells called with invalid cell range"),!(t.last<t.first)){var r=this._findRegion(t.first),n=r[0],i=r[1],s=this._findRegion(t.last),a=s[0],o=s[1];if(i!==o||n.isSpacer){var l=[],c=[],d=u()(u()({},t),{},{isSpacer:!1});n.first<d.first&&(n.isSpacer?l.push({first:n.first,last:d.first-1,isSpacer:!0}):d.first=n.first),a.last>d.last&&(a.isSpacer?c.push({first:d.last+1,last:a.last,isSpacer:!0}):d.last=a.last);var h=[...l,d,...c],f=o-i+1;this._regions.splice(i,f,...h)}}}numCells(){return this._numCells}equals(t){return this._numCells===t._numCells&&this._regions.length===t._regions.length&&this._regions.every((r,n)=>r.first===t._regions[n].first&&r.last===t._regions[n].last&&r.isSpacer===t._regions[n].isSpacer)}_findRegion(t){for(var r=0,n=this._regions.length-1;r<=n;){var i=Math.floor((r+n)/2),s=this._regions[i];if(t>=s.first&&t<=s.last)return[s,i];t<s.first?n=i-1:t>s.last&&(r=i+1)}b()(!1,"A region was not found containing cellIdx "+t)}}class E{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(t,r){b()(!this._childrenToCellKey.has(t),"Trying to add already present child list");var n,i=null!==(n=this._cellKeyToChildren.get(r))&&void 0!==n?n:new Set;i.add(t),this._cellKeyToChildren.set(r,i),this._childrenToCellKey.set(t,r)}remove(t){var r=this._childrenToCellKey.get(t);b()(null!=r,"Trying to remove non-present child list"),this._childrenToCellKey.delete(t);var n=this._cellKeyToChildren.get(r);b()(n,"_cellKeyToChildren should contain cellKey"),n.delete(t),0===n.size&&this._cellKeyToChildren.delete(r)}forEach(t){for(var r,n=s()(this._cellKeyToChildren.values());!(r=n()).done;)for(var i,a=r.value,o=s()(a);!(i=o()).done;)t(i.value)}forEachInCell(t,r){for(var n,i,a=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:[],o=s()(a);!(i=o()).done;)r(i.value)}anyInCell(t,r){for(var n,i,a=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:[],o=s()(a);!(i=o()).done;)if(r(i.value))return!0;return!1}size(){return this._childrenToCellKey.size}}class T{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var w=!1,C=[],R=10,I=null;class A{static addListener(t){return null===I&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),C.push(t),{remove:()=>{C=C.filter(r=>t!==r)}}}static setSampleRate(t){I=t}static setMinSampleCount(t){R=t}constructor(t){this._anyBlankStartTime=null,this._enabled=!1,this._info=new T,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(I||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(w&&console.debug("FillRateHelper: activate"),this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var t=this._samplesStartTime;if(null==t){w&&console.debug("FillRateHelper: bail on deactivate with no start time");return}if(this._info.sample_count<R){this._resetData();return}var r=global.performance.now()-t,n=u()(u()({},this._info),{},{total_time_spent:r});if(w){var i={avg_blankness:this._info.pixels_blank/this._info.pixels_sampled,avg_speed:this._info.pixels_scrolled/(r/1e3),avg_speed_when_any_blank:this._info.any_blank_speed_sum/this._info.any_blank_count,any_blank_per_min:this._info.any_blank_count/(r/1e3/60),any_blank_time_frac:this._info.any_blank_ms/r,mostly_blank_per_min:this._info.mostly_blank_count/(r/1e3/60),mostly_blank_time_frac:this._info.mostly_blank_ms/r};for(var s in i)i[s]=Math.round(1e3*i[s])/1e3;console.debug("FillRateHelper deactivateAndFlush: ",{derived:i,info:n})}C.forEach(t=>t(n)),this._resetData()}}computeBlankness(t,r,n){if(!this._enabled||0===t.getItemCount(t.data)||r.last<r.first||null==this._samplesStartTime)return 0;var i=n.dOffset,s=n.offset,a=n.velocity,o=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(o),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(1e3*Math.abs(a)),u=global.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,d=r.first,h=this._getFrameMetrics(d,t);d<=r.last&&(!h||!h.inLayout);)h=this._getFrameMetrics(d,t),d++;h&&d>0&&(c=Math.min(o,Math.max(0,h.offset-s)));for(var f=0,p=r.last,g=this._getFrameMetrics(p,t);p>=r.first&&(!g||!g.inLayout);)g=this._getFrameMetrics(p,t),p--;g&&p<t.getItemCount(t.data)-1&&(f=Math.min(o,Math.max(0,s+o-(g.offset+g.length))));var m=Math.round(c+f),v=m/o;return v>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=m,v>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||1>Math.abs(i))&&this.deactivateAndFlush(),v}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new T,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}let O=A;var N=n(95542);class k extends N.PureComponent{constructor(t){super(t),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(t,r){"function"==typeof t?super.setState((r,n)=>{var i;this._inAsyncStateUpdate=!0;try{i=t(r,n)}catch(t){throw t}finally{this._inAsyncStateUpdate=!1}return i},r):super.setState(t,r)}_installSetStateHooks(){var t=this,r=this.props,n=this.state;Object.defineProperty(this,"props",{get:()=>(b()(!t._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),r),set(t){r=t}}),Object.defineProperty(this,"state",{get:()=>(b()(!t._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n),set(t){n=t}})}}class P{constructor(t){void 0===t&&(t={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(t,r,n,i,s){var a=t.getItemCount(t.data),o=this._config,l=o.itemVisiblePercentThreshold,u=o.viewAreaCoveragePercentThreshold,c=null!=u,d=c?u:l;b()(null!=d&&null!=l!=(null!=u),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var h=[];if(0===a)return h;var f=-1,p=s||{first:0,last:a-1},g=p.first,m=p.last;if(m>=a)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:s,itemCount:a})),[];for(var v=g;v<=m;v++){var y=i(v,t);if(y){var _=y.offset-r,S=_+y.length;if(_<n&&S>0)f=v,x(c,d,_,S,n,y.length)&&h.push(v);else if(f>=0)break}}return h}onUpdate(t,r,n,i,s,a,o){var l=t.getItemCount(t.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==l&&i(0,t)){var u=[];if(l&&(u=this.computeViewableItems(t,r,n,i,o)),!(this._viewableIndices.length===u.length&&this._viewableIndices.every((t,r)=>t===u[r]))){if(this._viewableIndices=u,this._config.minimumViewTime){var c=setTimeout(()=>{this._timers.delete(c),this._onUpdateSync(t,u,a,s)},this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(t,u,a,s)}}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(t,r,n,i){r=r.filter(t=>this._viewableIndices.includes(t));for(var a,o=this._viewableItems,l=new Map(r.map(r=>{var n=i(r,!0,t);return[n.key,n]})),c=[],d=s()(l);!(a=d()).done;){var h=a.value,f=h[0],p=h[1];o.has(f)||c.push(p)}for(var g,m=s()(o);!(g=m()).done;){var v=g.value,y=v[0],_=v[1];l.has(y)||c.push(u()(u()({},_),{},{isViewable:!1}))}c.length>0&&(this._viewableItems=l,n({viewableItems:Array.from(l.values()),changed:c,viewabilityConfig:this._config}))}}function x(t,r,n,i,s,a){if(L(n,i,s))return!0;var o=D(n,i,s);return 100*(t?o/s:o/a)>=r}function D(t,r,n){return Math.max(0,Math.min(r,n)-Math.max(t,0))}function L(t,r,n){return t>=0&&r<=n&&r>t}let M=P;var F=!1,j=N.createContext(null);function V(t){var r=t.children,n=t.value,i=(0,N.useMemo)(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return N.createElement(j.Provider,{value:i},r)}function B(t){var r=t.cellKey,n=t.children,i=(0,N.useContext)(j),s=(0,N.useMemo)(()=>null==i?null:u()(u()({},i),{},{cellKey:r}),[i,r]);return N.createElement(j.Provider,{value:s},n)}F&&(j.displayName="VirtualizedListContext");class U extends N.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var t=this.props,r=t.cellKey,n=t.prevCellKey;this.props.onUpdateSeparators([r,n],{highlighted:!0})},unhighlight:()=>{var t=this.props,r=t.cellKey,n=t.prevCellKey;this.props.onUpdateSeparators([r,n],{highlighted:!1})},updateProps:(t,r)=>{var n=this.props,i=n.cellKey,s=n.prevCellKey;this.props.onUpdateSeparators(["leading"===t?s:i],r)}},this._onLayout=t=>{this.props.onCellLayout&&this.props.onCellLayout(t,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(t,r){return{separatorProps:u()(u()({},r.separatorProps),{},{leadingItem:t.item})}}updateSeparatorProps(t){this.setState(r=>({separatorProps:u()(u()({},r.separatorProps),t)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(t,r,n,i){return(t&&r&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),r)?N.createElement(r,{item:n,index:i,separators:this._separators}):t?t({item:n,index:i,separators:this._separators}):void b()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var t=this.props,r=t.CellRendererComponent,n=t.ItemSeparatorComponent,i=t.ListItemComponent,s=t.cellKey,a=t.horizontal,l=t.item,u=t.index,c=t.inversionStyle,d=t.onCellFocusCapture,f=t.onCellLayout,p=t.renderItem,g=this._renderElement(p,i,l,u),m=N.isValidElement(n)?n:n&&N.createElement(n,this.state.separatorProps),v=c?a?[z.rowReverse,c]:[z.columnReverse,c]:a?[z.row,c]:c,y=r?N.createElement(r,o()({cellKey:s,index:u,item:l,style:v,onFocusCapture:d},f&&{onLayout:this._onLayout}),g,m):N.createElement(h.default,o()({style:v,onFocusCapture:d},f&&{onLayout:this._onLayout}),g,m);return N.createElement(B,{cellKey:this.props.cellKey},y)}}var z=f.Z.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),q=n(83370),H=n(31035),W=n.n(H),G=!1,K=.001,$=!1,Y="";function Q(t){return null!=t&&t}function Z(t){return null!=t?t:10}function J(t){return null!=t?t:10}function X(t){return null!=t?t:2}function ee(t){return null!=t?t:2}function et(t,r){return t*r/2}function er(t){return null!=t?t:50}function en(t){return null!=t?t:21}function ei(t,r){for(var n=t.length-1;n>=0;n--)if(r(t[n]))return t[n];return null}class es extends k{scrollToEnd(t){var r=!t||t.animated,n=this.props.getItemCount(this.props.data)-1;if(!(n<0)){var i=this.__getFrameMetricsApprox(n,this.props),s=Math.max(0,i.offset+i.length+this._footerLength-this._scrollMetrics.visibleLength);if(null!=this._scrollRef){if(null==this._scrollRef.scrollTo){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Q(this.props.horizontal)?{x:s,animated:r}:{y:s,animated:r})}}}scrollToIndex(t){var r=this.props,n=r.data,i=r.horizontal,s=r.getItemCount,a=r.getItemLayout,o=r.onScrollToIndexFailed,l=t.animated,u=t.index,c=t.viewOffset,d=t.viewPosition;if(b()(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),b()(s(n)>=1,"scrollToIndex out of range: item length "+s(n)+" but minimum is 1"),b()(u<s(n),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(s(n)-1)),!a&&u>this._highestMeasuredFrameIndex){b()(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),o({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});return}var h=this.__getFrameMetricsApprox(Math.floor(u),this.props),f=Math.max(0,this._getOffsetApprox(u,this.props)-(d||0)*(this._scrollMetrics.visibleLength-h.length))-(c||0);if(null!=this._scrollRef){if(null==this._scrollRef.scrollTo){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(i?{x:f,animated:l}:{y:f,animated:l})}}scrollToItem(t){for(var r=t.item,n=this.props,i=n.data,s=n.getItem,a=(0,n.getItemCount)(i),o=0;o<a;o++)if(s(i,o)===r){this.scrollToIndex(u()(u()({},t),{},{index:o}));break}}scrollToOffset(t){var r=t.animated,n=t.offset;if(null!=this._scrollRef){if(null==this._scrollRef.scrollTo){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Q(this.props.horizontal)?{x:n,animated:r}:{y:n,animated:r})}}recordInteraction(){this._nestedChildLists.forEach(t=>{t.recordInteraction()}),this._viewabilityTuples.forEach(t=>{t.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var t;return(null==(t=this.context)?void 0:t.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(t){if(super(t),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=t=>{this._nestedChildLists.add(t.ref,t.cellKey),this._hasInteracted&&t.ref.recordInteraction()},this._unregisterAsNestedChild=t=>{this._nestedChildLists.remove(t.ref)},this._onUpdateSeparators=(t,r)=>{t.forEach(t=>{var n=null!=t&&this._cellRefs[t];n&&n.updateSeparatorProps(r)})},this._getSpacerKey=t=>t?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new E,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=t=>{this._scrollRef=t},this._defaultRenderScrollComponent=t=>{var r,n=t.onRefresh;return this._isNestedWithSameOrientation()?N.createElement(h.default,t):n?(b()("boolean"==typeof t.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(r=t.refreshing)&&void 0!==r?r:"undefined")+"`"),N.createElement(d.default,o()({},t,{refreshControl:null==t.refreshControl?N.createElement(c.Z,{refreshing:t.refreshing,onRefresh:n,progressViewOffset:t.progressViewOffset}):t.refreshControl}))):N.createElement(d.default,t)},this._onCellLayout=(t,r,n)=>{var i=t.nativeEvent.layout,s={offset:this._selectOffset(i),length:this._selectLength(i),index:n,inLayout:!0},a=this._frames[r];a&&s.offset===a.offset&&s.length===a.length&&n===a.index?this._frames[r].inLayout=!0:(this._totalCellLength+=s.length-(a?a.length:0),this._totalCellsMeasured+=a?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[r]=s,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(r),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=t=>{delete this._cellRefs[t];var r=this._frames[t];r&&(this._frames[t]=u()(u()({},r),{},{inLayout:!1}))},this._onLayout=t=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(t.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(t),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=t=>{this.props.onLayout&&this.props.onLayout(t)},this._onLayoutFooter=t=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(t.nativeEvent.layout)},this._onLayoutHeader=t=>{this._headerLength=this._selectLength(t.nativeEvent.layout)},this._onContentSizeChange=(t,r)=>{t>0&&r>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:W()(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(t,r),this._scrollMetrics.contentLength=this._selectLength({height:r,width:t}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=t=>{var r=t.offset-this._offsetFromParentVirtualizedList,n=t.visibleLength,i=r-this._scrollMetrics.offset;return{visibleLength:n,contentLength:this._scrollMetrics.contentLength,offset:r,dOffset:i}},this._onScroll=t=>{this._nestedChildLists.forEach(r=>{r._onScroll(t)}),this.props.onScroll&&this.props.onScroll(t);var r=t.timeStamp,n=this._selectLength(t.nativeEvent.layoutMeasurement),i=this._selectLength(t.nativeEvent.contentSize),s=this._selectOffset(t.nativeEvent.contentOffset),a=s-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var o=this._convertParentScrollMetrics({visibleLength:n,offset:s});n=o.visibleLength,i=o.contentLength,s=o.offset,a=o.dOffset}var l=this._scrollMetrics.timestamp?Math.max(1,r-this._scrollMetrics.timestamp):1,u=a/l;l>500&&this._scrollMetrics.dt>500&&i>5*n&&!this._hasWarned.perf&&(y("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:l,prevDt:this._scrollMetrics.dt,contentLength:i}),this._hasWarned.perf=!0);var c=t.nativeEvent.zoomScale<0?1:t.nativeEvent.zoomScale;this._scrollMetrics={contentLength:i,dt:l,dOffset:a,offset:s,timestamp:r,velocity:u,visibleLength:n,zoomScale:c},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==u&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=t=>{this._nestedChildLists.forEach(r=>{r._onScrollBeginDrag(t)}),this._viewabilityTuples.forEach(t=>{t.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(t)},this._onScrollEndDrag=t=>{this._nestedChildLists.forEach(r=>{r._onScrollEndDrag(t)});var r=t.nativeEvent.velocity;r&&(this._scrollMetrics.velocity=this._selectOffset(r)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(t)},this._onMomentumScrollBegin=t=>{this._nestedChildLists.forEach(r=>{r._onMomentumScrollBegin(t)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(t)},this._onMomentumScrollEnd=t=>{this._nestedChildLists.forEach(r=>{r._onMomentumScrollEnd(t)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(t)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((t,r)=>{var n=this._adjustCellsAroundViewport(r,t.cellsAroundViewport),i=es._createRenderMask(r,n,this._getNonViewportRenderRegions(r));return n.first===t.cellsAroundViewport.first&&n.last===t.cellsAroundViewport.last&&i.equals(t.renderMask)?null:{cellsAroundViewport:n,renderMask:i}})},this._createViewToken=(t,r,n)=>{var i=n.data,s=(0,n.getItem)(i,t);return{index:t,item:s,key:this._keyExtractor(s,t,n),isViewable:r}},this._getOffsetApprox=(t,r)=>{if(Number.isInteger(t))return this.__getFrameMetricsApprox(t,r).offset;var n=this.__getFrameMetricsApprox(Math.floor(t),r),i=t-Math.floor(t);return n.offset+i*n.length},this.__getFrameMetricsApprox=(t,r)=>{var n=this._getFrameMetrics(t,r);if(n&&n.index===t)return n;var i=r.data,s=r.getItemCount,a=r.getItemLayout;return b()(t>=0&&t<s(i),"Tried to get frame for out of range index "+t),b()(!a,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*t}},this._getFrameMetrics=(t,r)=>{var n=r.data,i=r.getItem,s=r.getItemCount,a=r.getItemLayout;b()(t>=0&&t<s(n),"Tried to get frame for out of range index "+t);var o=i(n,t),l=this._frames[this._keyExtractor(o,t,r)];return(!l||l.index!==t)&&a?a(n,t):l},this._getNonViewportRenderRegions=t=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var r=this._cellRefs[this._lastFocusedCellKey].props.index,n=t.getItemCount(t.data);if(r>=n||this._keyExtractor(t.getItem(t.data,r),r,t)!==this._lastFocusedCellKey)return[];for(var i=r,s=0,a=i-1;a>=0&&s<this._scrollMetrics.visibleLength;a--)i--,s+=this.__getFrameMetricsApprox(a,t).length;for(var o=r,l=0,u=o+1;u<n&&l<this._scrollMetrics.visibleLength;u++)o++,l+=this.__getFrameMetricsApprox(u,t).length;return[{first:i,last:o}]},this._checkProps(t),this._fillRateHelper=new O(this._getFrameMetrics),this._updateCellsToRenderBatcher=new m(this._updateCellsToRender,null!==(r=this.props.updateCellsBatchingPeriod)&&void 0!==r?r:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(t=>({viewabilityHelper:new M(t.viewabilityConfig),onViewableItemsChanged:t.onViewableItemsChanged}));else{var r,n=this.props,i=n.onViewableItemsChanged,s=n.viewabilityConfig;i&&this._viewabilityTuples.push({viewabilityHelper:new M(s),onViewableItemsChanged:i})}var a=es._initialRenderRegion(t);this.state={cellsAroundViewport:a,renderMask:es._createRenderMask(t,a)},this.invertedWheelEventHandler=t=>{var r=this.props.horizontal?t.target.scrollLeft:t.target.scrollTop,n=this.props.horizontal?t.target.scrollWidth:t.target.scrollHeight,i=this.props.horizontal?t.target.clientWidth:t.target.clientHeight,s=n>i,a=this.props.horizontal?t.deltaX||t.wheelDeltaX:t.deltaY||t.wheelDeltaY,o=a;s&&(o=a<0?Math.min(a+r,0):Math.max(a-(n-i-r),0));var l=a-o;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var u=this._scrollRef.getScrollableNode();if(this.props.horizontal){t.target.scrollLeft+=l;var c=u.scrollLeft-o;u.scrollLeft=this.props.getItemLayout?c:Math.min(c,this._totalCellLength)}else{t.target.scrollTop+=l;var d=u.scrollTop-o;u.scrollTop=this.props.getItemLayout?d:Math.min(d,this._totalCellLength)}t.preventDefault()}}}_checkProps(t){var r=t.onScroll,n=t.windowSize,i=t.getItemCount,s=t.data,a=t.initialScrollIndex;b()(!r||!r.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),b()(en(n)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),b()(i,'VirtualizedList: The "getItemCount" prop must be provided');var o=i(s);if(null!=a&&!this._hasTriggeredInitialScrollToIndex&&(a<0||o>0&&a>=o)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+a+'" is not valid (list has '+o+" items)"),this._hasWarned.initialScrollIndex=!0),G&&!this._hasWarned.flexWrap){var l=f.Z.flatten(this.props.contentContainerStyle);null!=l&&"wrap"===l.flexWrap&&(console.warn("`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.Consider using `numColumns` with `FlatList` instead."),this._hasWarned.flexWrap=!0)}}static _createRenderMask(t,r,n){var i=t.getItemCount(t.data);b()(r.first>=0&&r.last>=r.first-1&&r.last<i,'Invalid cells around viewport "['+r.first+", "+r.last+']" was passed to VirtualizedList._createRenderMask');var s=new S(i);if(i>0){for(var a=[r,...null!=n?n:[]],o=0,l=a;o<l.length;o++){var u=l[o];s.addCells(u)}if(null==t.initialScrollIndex||t.initialScrollIndex<=0){var c=es._initialRenderRegion(t);s.addCells(c)}var d=new Set(t.stickyHeaderIndices);es._ensureClosestStickyHeader(t,d,s,r.first)}return s}static _initialRenderRegion(t){var r,n=t.getItemCount(t.data),i=Math.max(0,Math.min(n-1,Math.floor(null!==(r=t.initialScrollIndex)&&void 0!==r?r:0))),s=Math.min(n,i+Z(t.initialNumToRender))-1;return{first:i,last:s}}static _ensureClosestStickyHeader(t,r,n,i){for(var s=t.ListHeaderComponent?1:0,a=i-1;a>=0;a--)if(r.has(a+s)){n.addCells({first:a,last:a});break}}_adjustCellsAroundViewport(t,r){var n,i=t.data,s=t.getItemCount,a=ee(t.onEndReachedThreshold),o=this._scrollMetrics,l=o.contentLength,u=o.offset,c=o.visibleLength,d=l-c-u;if(c<=0||l<=0)return r.last>=s(i)?es._constrainToItemCount(r,t):r;if(t.disableVirtualization){var h=d<a*c?J(t.maxToRenderPerBatch):0;n={first:0,last:Math.min(r.last+h,s(i)-1)}}else{if(t.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(d)>=Number.EPSILON)return r.last>=s(i)?es._constrainToItemCount(r,t):r;n=(0,q.EF)(t,J(t.maxToRenderPerBatch),en(t.windowSize),r,this.__getFrameMetricsApprox,this._scrollMetrics),b()(n.last<s(i),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var f=this._findFirstChildWithMore(n.first,n.last);n.last=null!=f?f:n.last}return n}_findFirstChildWithMore(t,r){for(var n=t;n<=r;n++){var i=this._indicesToKeys.get(n);if(null!=i&&this._nestedChildLists.anyInCell(i,t=>t.hasMore()))return n}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(t=>{t.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(t,r){if(t.getItemCount(t.data)===r.renderMask.numCells())return r;var n=es._constrainToItemCount(r.cellsAroundViewport,t);return{cellsAroundViewport:n,renderMask:es._createRenderMask(t,n)}}_pushCells(t,r,n,i,s,a){var l,u=this,c=this.props,d=c.CellRendererComponent,h=c.ItemSeparatorComponent,f=c.ListHeaderComponent,p=c.ListItemComponent,g=c.data,m=c.debug,v=c.getItem,y=c.getItemCount,_=c.getItemLayout,b=c.horizontal,S=c.renderItem,E=f?1:0,T=y(g)-1;s=Math.min(T,s);for(var w=function(){var i=v(g,C),s=u._keyExtractor(i,C,u.props);u._indicesToKeys.set(C,s),n.has(C+E)&&r.push(t.length);var c=null==_||m||u._fillRateHelper.enabled();t.push(N.createElement(U,o()({CellRendererComponent:d,ItemSeparatorComponent:C<T?h:void 0,ListItemComponent:p,cellKey:s,horizontal:b,index:C,inversionStyle:a,item:i,key:s,prevCellKey:l,onUpdateSeparators:u._onUpdateSeparators,onCellFocusCapture:t=>u._onCellFocusCapture(s),onUnmount:u._onCellUnmount,ref:t=>{u._cellRefs[s]=t},renderItem:S},c&&{onCellLayout:u._onCellLayout}))),l=s},C=i;C<=s;C++)w()}static _constrainToItemCount(t,r){var n=r.getItemCount(r.data),i=Math.min(n-1,t.last);return{first:v(0,n-1-J(r.maxToRenderPerBatch),t.first),last:i}}_isNestedWithSameOrientation(){var t=this.context;return!!(t&&!!t.horizontal===Q(this.props.horizontal))}_keyExtractor(t,r,n){if(null!=n.keyExtractor)return n.keyExtractor(t,r);var i=(0,q.jn)(t,r);return i===String(r)&&($=!0,t.type&&t.type.displayName&&(Y=t.type.displayName)),i}render(){this._checkProps(this.props);var t=this.props,r=t.ListEmptyComponent,n=t.ListFooterComponent,i=t.ListHeaderComponent,a=this.props,o=a.data,l=a.horizontal,c=this.props.inverted?Q(this.props.horizontal)?ea.horizontallyInverted:ea.verticallyInverted:null,d=[],f=new Set(this.props.stickyHeaderIndices),p=[];if(i){f.has(0)&&p.push(0);var g=N.isValidElement(i)?i:N.createElement(i,null);d.push(N.createElement(B,{cellKey:this._getCellKey()+"-header",key:"$header"},N.createElement(h.default,{onLayout:this._onLayoutHeader,style:[c,this.props.ListHeaderComponentStyle]},g)))}var m=this.props.getItemCount(o);if(0===m&&r){var y=N.isValidElement(r)?r:N.createElement(r,null);d.push(N.createElement(B,{cellKey:this._getCellKey()+"-empty",key:"$empty"},N.cloneElement(y,{onLayout:t=>{this._onLayoutEmpty(t),y.props.onLayout&&y.props.onLayout(t)},style:[c,y.props.style]})))}if(m>0){$=!1,Y="";for(var _,b=this._getSpacerKey(!l),S=this.state.renderMask.enumerateRegions(),E=ei(S,t=>t.isSpacer),T=s()(S);!(_=T()).done;){var w=_.value;if(w.isSpacer){if(this.props.disableVirtualization)continue;var C=w!==E||this.props.getItemLayout?w.last:v(w.first-1,w.last,this._highestMeasuredFrameIndex),R=this.__getFrameMetricsApprox(w.first,this.props),I=this.__getFrameMetricsApprox(C,this.props),A=I.offset+I.length-R.offset;d.push(N.createElement(h.default,{key:"$spacer-"+w.first,style:{[b]:A}}))}else this._pushCells(d,p,f,w.first,w.last,c)}!this._hasWarned.keys&&$&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",Y),this._hasWarned.keys=!0)}if(n){var O=N.isValidElement(n)?n:N.createElement(n,null);d.push(N.createElement(B,{cellKey:this._getFooterCellKey(),key:"$footer"},N.createElement(h.default,{onLayout:this._onLayoutFooter,style:[c,this.props.ListFooterComponentStyle]},O)))}var k=u()(u()({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:er(this.props.scrollEventThrottle),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:p,style:c?[c,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<m-1;var P=N.createElement(V,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:Q(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},N.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(k),{ref:this._captureScrollRef},d));return this.props.debug?N.createElement(h.default,{style:ea.debug},P,this._renderDebugOverlay()):P}componentDidUpdate(t){var r=this.props,n=r.data,i=r.extraData;(n!==t.data||i!==t.extraData)&&this._viewabilityTuples.forEach(t=>{t.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(t){this._lastFocusedCellKey=t,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(t){this._nestedChildLists.forEachInCell(t,t=>{t.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(t,r,n,i)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:t,y:r}),this._scrollMetrics.contentLength=this._selectLength({width:n,height:i});var s=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==s.visibleLength||this._scrollMetrics.offset!==s.offset)&&(this._scrollMetrics.visibleLength=s.visibleLength,this._scrollMetrics.offset=s.offset,this._nestedChildLists.forEach(t=>{t.measureLayoutRelativeToContainingList()}))},t=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(t){console.warn("measureLayoutRelativeToContainingList threw an error",t.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var t=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),r=[],n=this.props.getItemCount(this.props.data),i=0;i<n;i++){var s=this.__getFrameMetricsApprox(i,this.props);s.inLayout&&r.push(s)}var a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=o.offset+o.length-a,u=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength;return N.createElement(h.default,{style:[ea.debugOverlayBase,ea.debugOverlay]},r.map((r,n)=>N.createElement(h.default,{key:"f"+n,style:[ea.debugOverlayBase,ea.debugOverlayFrame,{top:r.offset*t,height:r.length*t}]})),N.createElement(h.default,{style:[ea.debugOverlayBase,ea.debugOverlayFrameLast,{top:a*t,height:l*t}]}),N.createElement(h.default,{style:[ea.debugOverlayBase,ea.debugOverlayFrameVis,{top:u*t,height:c*t}]}))}_selectLength(t){return Q(this.props.horizontal)?t.width:t.height}_selectOffset(t){return Q(this.props.horizontal)?t.x:t.y}_maybeCallOnEdgeReached(){var t=this.props,r=t.data,n=t.getItemCount,i=t.onStartReached,s=t.onStartReachedThreshold,a=t.onEndReached,o=t.onEndReachedThreshold,l=t.initialScrollIndex,u=this._scrollMetrics,c=u.contentLength,d=u.visibleLength,h=u.offset,f=h,p=c-d-h;f<K&&(f=0),p<K&&(p=0);var g=2,m=f<=(null!=s?s*d:g),v=p<=(null!=o?o*d:g);a&&this.state.cellsAroundViewport.last===n(r)-1&&v&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,a({distanceFromEnd:p})):null!=i&&0===this.state.cellsAroundViewport.first&&m&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?l&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,i({distanceFromStart:f})):(this._sentStartForContentLength=m?this._sentStartForContentLength:0,this._sentEndForContentLength=v?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var t=this.state.cellsAroundViewport,r=t.first,n=t.last,i=this._scrollMetrics,s=i.offset,a=i.visibleLength,o=i.velocity,l=this.props.getItemCount(this.props.data),u=!1,c=X(this.props.onStartReachedThreshold),d=ee(this.props.onEndReachedThreshold);if(r>0){var h=s-this.__getFrameMetricsApprox(r,this.props).offset;u=h<0||o<-2&&h<et(c,a)}if(!u&&n>=0&&n<l-1){var f=this.__getFrameMetricsApprox(n,this.props).offset-(s+a);u=f<0||o>2&&f<et(d,a)}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(t,r){this._viewabilityTuples.forEach(n=>{n.viewabilityHelper.onUpdate(t,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,n.onViewableItemsChanged,r)})}}es.contextType=j;var ea=f.Z.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});let eo=es},18971:(t,r,n)=>{"use strict";n.d(r,{Z:()=>i});class i{constructor(){this._registry={}}addListener(t,r,n){var i=s(this._registry,t),a={context:n,listener:r,remove(){i.delete(a)}};return i.add(a),a}emit(t){var r=this._registry[t];if(null!=r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];for(var a=0,o=[...r];a<o.length;a++){var l=o[a];l.listener.apply(l.context,i)}}}removeAllListeners(t){null==t?this._registry={}:delete this._registry[t]}listenerCount(t){var r=this._registry[t];return null==r?0:r.size}}function s(t,r){var n=t[r];return null==n&&(n=new Set,t[r]=n),n}},37133:(t,r)=>{"use strict";n={value:!0},r.D=void 0;var n,i=new WeakMap,s="$$css";function a(t){var r,n,a;return null!=t&&(r=!0===t.disableCache,n=!0===t.disableMix,a=t.transform),function(){for(var t=[],o="",l=null,u=r?null:i,c=Array(arguments.length),d=0;d<arguments.length;d++)c[d]=arguments[d];for(;c.length>0;){var h=c.pop();if(null!=h&&!1!==h){if(Array.isArray(h)){for(var f=0;f<h.length;f++)c.push(h[f]);continue}var p=null!=a?a(h):h;if(p.$$css){var g="";if(null!=u&&u.has(p)){var m=u.get(p);null!=m&&(g=m[0],t.push.apply(t,m[1]),u=m[2])}else{var v=[];for(var y in p){var _=p[y];y===s||("string"==typeof _||null===_?t.includes(y)||(t.push(y),null!=u&&v.push(y),"string"==typeof _&&(g+=g?" "+_:_)):console.error("styleq: ".concat(y," typeof ").concat(String(_),' is not "string" or "null".')))}if(null!=u){var b=new WeakMap;u.set(p,[g,v,b]),u=b}}g&&(o=o?g+" "+o:g)}else if(n)null==l&&(l={}),l=Object.assign({},p,l);else{var S=null;for(var E in p){var T=p[E];void 0===T||t.includes(E)||(null!=T&&(null==l&&(l={}),null==S&&(S={}),S[E]=T),t.push(E),u=null)}null!=S&&(l=Object.assign(S,l))}}}return[o,l]}}var o=a();r.D=o,o.factory=a},40487:(t,r)=>{"use strict";n={value:!0},r.j=o;var n,i=new WeakMap,s="$$css$localize";function a(t,r){var n={};for(var i in t)if(i!==s){var a=t[i];Array.isArray(a)?n[i]=r?a[1]:a[0]:n[i]=a}return n}function o(t,r){if(null!=t[s]){var n=r?1:0;if(i.has(t)){var o=i.get(t),l=o[n];return null==l&&(l=a(t,r),o[n]=l,i.set(t,o)),l}var u=a(t,r),c=[,,];return c[n]=u,i.set(t,c),u}return t}},9603:t=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},36121:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createProxy",{enumerable:!0,get:function(){return i}});let i=n(27221).createClientModuleProxy},25394:(t,r,n)=>{"use strict";let{createProxy:i}=n(36121);t.exports=i("/home/user/Build-monorepo-v1/node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/app-router.js")},67825:(t,r,n)=>{"use strict";let{createProxy:i}=n(36121);t.exports=i("/home/user/Build-monorepo-v1/node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/client-page.js")},21152:(t,r,n)=>{"use strict";let{createProxy:i}=n(36121);t.exports=i("/home/user/Build-monorepo-v1/node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/error-boundary.js")},28747:(t,r,n)=>{"use strict";let{createProxy:i}=n(36121);t.exports=i("/home/user/Build-monorepo-v1/node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/layout-router.js")},34609:(t,r,n)=>{"use strict";let{createProxy:i}=n(36121);t.exports=i("/home/user/Build-monorepo-v1/node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/not-found-boundary.js")},89765:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}}),n(83715);let i=n(19264);n(54283);let s={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function a(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:"404: This page could not be found."}),(0,i.jsx)("div",{style:s.error,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),(0,i.jsx)("h1",{className:"next-error-h1",style:s.h1,children:"404"}),(0,i.jsx)("div",{style:s.desc,children:(0,i.jsx)("h2",{style:s.h2,children:"This page could not be found."})})]})})]})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},10425:(t,r,n)=>{"use strict";let{createProxy:i}=n(36121);t.exports=i("/home/user/Build-monorepo-v1/node_modules/.pnpm/next@14.2.5_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/client/components/render-from-template-context.js")},81608:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{createDynamicallyTrackedSearchParams:function(){return l},createUntrackedSearchParams:function(){return o}});let i=n(45869),s=n(74128),a=n(88415);function o(t){let r=i.staticGenerationAsyncStorage.getStore();return r&&r.forceStatic?{}:t}function l(t){let r=i.staticGenerationAsyncStorage.getStore();return r?r.forceStatic?{}:r.isStaticGeneration||r.dynamicShouldError?new Proxy({},{get:(t,n,i)=>("string"==typeof n&&(0,s.trackDynamicDataAccessed)(r,"searchParams."+n),a.ReflectAdapter.get(t,n,i)),has:(t,n)=>("string"==typeof n&&(0,s.trackDynamicDataAccessed)(r,"searchParams."+n),Reflect.has(t,n)),ownKeys:t=>((0,s.trackDynamicDataAccessed)(r,"searchParams"),Reflect.ownKeys(t))}):t:t}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},99785:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{AppRouter:function(){return s.default},ClientPageRoot:function(){return d.ClientPageRoot},LayoutRouter:function(){return a.default},NotFoundBoundary:function(){return p.NotFoundBoundary},Postpone:function(){return v.Postpone},RenderFromTemplateContext:function(){return o.default},actionAsyncStorage:function(){return c.actionAsyncStorage},createDynamicallyTrackedSearchParams:function(){return h.createDynamicallyTrackedSearchParams},createUntrackedSearchParams:function(){return h.createUntrackedSearchParams},decodeAction:function(){return i.decodeAction},decodeFormState:function(){return i.decodeFormState},decodeReply:function(){return i.decodeReply},patchFetch:function(){return E},preconnect:function(){return m.preconnect},preloadFont:function(){return m.preloadFont},preloadStyle:function(){return m.preloadStyle},renderToReadableStream:function(){return i.renderToReadableStream},requestAsyncStorage:function(){return u.requestAsyncStorage},serverHooks:function(){return f},staticGenerationAsyncStorage:function(){return l.staticGenerationAsyncStorage},taintObjectReference:function(){return y.taintObjectReference}});let i=n(27221),s=_(n(25394)),a=_(n(28747)),o=_(n(10425)),l=n(45869),u=n(54580),c=n(72934),d=n(67825),h=n(81608),f=S(n(76499)),p=n(34609),g=n(10069);n(21152);let m=n(41915),v=n(28956),y=n(57418);function _(t){return t&&t.__esModule?t:{default:t}}function b(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(b=function(t){return t?n:r})(t)}function S(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=b(r);if(n&&n.has(t))return n.get(t);var i={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var o=s?Object.getOwnPropertyDescriptor(t,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=t[a]}return i.default=t,n&&n.set(t,i),i}function E(){return(0,g.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:l.staticGenerationAsyncStorage})}},28956:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Postpone",{enumerable:!0,get:function(){return i.Postpone}});let i=n(74128)},41915:(t,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{preconnect:function(){return l},preloadFont:function(){return o},preloadStyle:function(){return a}});let i=s(n(48704));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,r){let n={as:"style"};"string"==typeof r&&(n.crossOrigin=r),i.default.preload(t,n)}function o(t,r,n){let s={as:"font",type:r};"string"==typeof n&&(s.crossOrigin=n),i.default.preload(t,s)}function l(t,r){i.default.preconnect(t,"string"==typeof r?{crossOrigin:r}:void 0)}},57418:(t,r,n)=>{"use strict";function i(){throw Error("Taint can only be used with the taint flag.")}Object.defineProperty(r,"__esModule",{value:!0}),function(t,r){for(var n in r)Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}(r,{taintObjectReference:function(){return s},taintUniqueValue:function(){return a}}),n(54283);let s=i,a=i},48704:(t,r,n)=>{"use strict";t.exports=n(29082).vendored["react-rsc"].ReactDOM},19264:(t,r,n)=>{"use strict";t.exports=n(29082).vendored["react-rsc"].ReactJsxRuntime},27221:(t,r,n)=>{"use strict";t.exports=n(29082).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},88415:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(t,r,n){let i=Reflect.get(t,r,n);return"function"==typeof i?i.bind(t):i}static set(t,r,n,i){return Reflect.set(t,r,n,i)}static has(t,r){return Reflect.has(t,r)}static deleteProperty(t,r){return Reflect.deleteProperty(t,r)}}},39323:t=>{function r(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=Array(r);n<r;n++)i[n]=t[n];return i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},97981:(t,r,n)=>{var i=n(97881);function s(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=i(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},53961:(t,r,n)=>{var i=n(61596);function s(t,r,n){return(r=i(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},37704:t=>{function r(){return t.exports=r=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},68497:(t,r,n)=>{var i=n(53961);function s(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach(function(r){i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},55855:t=>{function r(t,r){if(null==t)return{};var n={};for(var i in t)if(({}).hasOwnProperty.call(t,i)){if(-1!==r.indexOf(i))continue;n[i]=t[i]}return n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},51227:(t,r,n)=>{var i=n(53249).default;function s(t,r){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,r||"default");if("object"!=i(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},61596:(t,r,n)=>{var i=n(53249).default,s=n(51227);function a(t){var r=s(t,"string");return"symbol"==i(r)?r:r+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},53249:t=>{function r(n){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,r(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},97881:(t,r,n)=>{var i=n(39323);function s(t,r){if(t){if("string"==typeof t)return i(t,r);var n=({}).toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,r):void 0}}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},42482:function(t,r){var n;!function(i,s){function a(t){return t.default||t}void 0!==(n=(function(){var t={};return s(t),a(t)}).apply(r,[]))&&(t.exports=n)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;/**
     * @license
     * Copyright 2009 The Closure Library Authors
     * Copyright 2020 Daniel Wirtz / The long.js Authors.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *
     * SPDX-License-Identifier: Apache-2.0
     */var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(t,r,n){this.low=0|t,this.high=0|r,this.unsigned=!!n}function i(t){return!0===(t&&t.__isLong__)}function s(t){var r=Math.clz32(t&-t);return t?31-r:r}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var a={},o={};function l(t,r){var n,i,s;return r?(t>>>=0,(s=0<=t&&t<256)&&(i=o[t]))?i:(n=c(t,0,!0),s&&(o[t]=n),n):(t|=0,(s=-128<=t&&t<128)&&(i=a[t]))?i:(n=c(t,t<0?-1:0,!1),s&&(a[t]=n),n)}function u(t,r){if(isNaN(t))return r?_:y;if(r){if(t<0)return _;if(t>=g)return w}else{if(t<=-m)return C;if(t+1>=m)return T}return t<0?u(-t,r).neg():c(t%p|0,t/p|0,r)}function c(t,r,i){return new n(t,r,i)}n.fromInt=l,n.fromNumber=u,n.fromBits=c;var d=Math.pow;function h(t,r,n){if(0===t.length)throw Error("empty string");if("number"==typeof r?(n=r,r=!1):r=!!r,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return r?_:y;if((n=n||10)<2||36<n)throw RangeError("radix");if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return h(t.substring(1),r,n).neg();for(var i,s=u(d(n,8)),a=y,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);if(l<8){var f=u(d(n,l));a=a.mul(f).add(u(c))}else a=(a=a.mul(s)).add(u(c))}return a.unsigned=r,a}function f(t,r){return"number"==typeof t?u(t,r):"string"==typeof t?h(t,r):c(t.low,t.high,"boolean"==typeof r?r:t.unsigned)}n.fromString=h,n.fromValue=f;var p=4294967296,g=18446744073709552e3,m=0x7fffffffffffffff,v=l(16777216),y=l(0);n.ZERO=y;var _=l(0,!0);n.UZERO=_;var b=l(1);n.ONE=b;var S=l(1,!0);n.UONE=S;var E=l(-1);n.NEG_ONE=E;var T=c(-1,2147483647,!1);n.MAX_VALUE=T;var w=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=w;var C=c(0,-2147483648,!1);n.MIN_VALUE=C;var R=n.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},R.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(C))return"-"+this.neg().toString(t);var r=u(t),n=this.div(r),i=n.mul(r).sub(this);return n.toString(t)+i.toInt().toString(t)}for(var s=u(d(t,6),this.unsigned),a=this,o="";;){var l=a.div(s),c=(a.sub(l.mul(s)).toInt()>>>0).toString(t);if((a=l).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&(t&1<<r)==0;r--);return 0!=this.high?r+33:r+1},R.isSafeInteger=function(){var t=this.high>>21;return!t||!this.unsigned&&-1===t&&!(0===this.low&&-2097152===this.high)},R.isZero=function(){return 0===this.high&&0===this.low},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return(1&this.low)==1},R.isEven=function(){return(1&this.low)==0},R.equals=function(t){return i(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},R.eq=R.equals,R.notEquals=function(t){return!this.eq(t)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(t){return 0>this.comp(t)},R.lt=R.lessThan,R.lessThanOrEqual=function(t){return 0>=this.comp(t)},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(t){return this.comp(t)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(t){return this.comp(t)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(t){if(i(t)||(t=f(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(b)},R.neg=R.negate,R.add=function(t){i(t)||(t=f(t));var r,n,s=this.high>>>16,a=65535&this.high,o=this.low>>>16,l=65535&this.low,u=t.high>>>16,d=65535&t.high,h=t.low>>>16,p=65535&t.low,g=0,m=0;return r=0+((n=0+(l+p))>>>16),n&=65535,r+=o+h,m+=r>>>16,r&=65535,m+=a+d,g+=m>>>16,m&=65535,g+=s+u,c(r<<16|n,(g&=65535)<<16|m,this.unsigned)},R.subtract=function(t){return i(t)||(t=f(t)),this.add(t.neg())},R.sub=R.subtract,R.multiply=function(t){if(this.isZero())return this;if(i(t)||(t=f(t)),r)return c(r.mul(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned);if(t.isZero())return this.unsigned?_:y;if(this.eq(C))return t.isOdd()?C:y;if(t.eq(C))return this.isOdd()?C:y;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return u(this.toNumber()*t.toNumber(),this.unsigned);var n,s,a=this.high>>>16,o=65535&this.high,l=this.low>>>16,d=65535&this.low,h=t.high>>>16,p=65535&t.high,g=t.low>>>16,m=65535&t.low,b=0,S=0;return n=0+((s=0+d*m)>>>16),s&=65535,n+=l*m,S+=n>>>16,n&=65535,n+=d*g,S+=n>>>16,n&=65535,S+=o*m,b+=S>>>16,S&=65535,S+=l*g,b+=S>>>16,S&=65535,S+=d*p,b+=S>>>16,S&=65535,b+=a*m+o*g+l*p+d*h,c(n<<16|s,(b&=65535)<<16|S,this.unsigned)},R.mul=R.multiply,R.divide=function(t){if(i(t)||(t=f(t)),t.isZero())throw Error("division by zero");if(r){var n,s,a;return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?_:y;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return _;if(t.gt(this.shru(1)))return S;a=_}else{if(this.eq(C))return t.eq(b)||t.eq(E)?C:t.eq(C)?b:(n=this.shr(1).div(t).shl(1)).eq(y)?t.isNegative()?b:E:(s=this.sub(t.mul(n)),a=n.add(s.div(t)));if(t.eq(C))return this.unsigned?_:y;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=y}for(s=this;s.gte(t);){for(var o=Math.ceil(Math.log(n=Math.max(1,Math.floor(s.toNumber()/t.toNumber())))/Math.LN2),l=o<=48?1:d(2,o-48),h=u(n),p=h.mul(t);p.isNegative()||p.gt(s);)n-=l,p=(h=u(n,this.unsigned)).mul(t);h.isZero()&&(h=b),a=a.add(h),s=s.sub(p)}return a},R.div=R.divide,R.modulo=function(t){return(i(t)||(t=f(t)),r)?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return c(~this.low,~this.high,this.unsigned)},R.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},R.clz=R.countLeadingZeros,R.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},R.ctz=R.countTrailingZeros,R.and=function(t){return i(t)||(t=f(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},R.or=function(t){return i(t)||(t=f(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},R.xor=function(t){return i(t)||(t=f(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},R.shiftLeft=function(t){return(i(t)&&(t=t.toInt()),0==(t&=63))?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(t){return(i(t)&&(t=t.toInt()),0==(t&=63))?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(t){return(i(t)&&(t=t.toInt()),0==(t&=63))?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):32===t?c(this.high,0,this.unsigned):c(this.high>>>t-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.rotateLeft=function(t){var r;return(i(t)&&(t=t.toInt()),0==(t&=63))?this:32===t?c(this.high,this.low,this.unsigned):t<32?(r=32-t,c(this.low<<t|this.high>>>r,this.high<<t|this.low>>>r,this.unsigned)):(t-=32,r=32-t,c(this.high<<t|this.low>>>r,this.low<<t|this.high>>>r,this.unsigned))},R.rotl=R.rotateLeft,R.rotateRight=function(t){var r;return(i(t)&&(t=t.toInt()),0==(t&=63))?this:32===t?c(this.high,this.low,this.unsigned):t<32?(r=32-t,c(this.high<<r|this.low>>>t,this.low<<r|this.high>>>t,this.unsigned)):(t-=32,r=32-t,c(this.low<<r|this.high>>>t,this.high<<r|this.low>>>t,this.unsigned))},R.rotr=R.rotateRight,R.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},R.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var t=this.high,r=this.low;return[255&r,r>>>8&255,r>>>16&255,r>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},R.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,r>>>24,r>>>16&255,r>>>8&255,255&r]},n.fromBytes=function(t,r,i){return i?n.fromBytesLE(t,r):n.fromBytesBE(t,r)},n.fromBytesLE=function(t,r){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},n.fromBytesBE=function(t,r){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},"function"==typeof BigInt&&(n.fromBigInt=function(t,r){return c(Number(BigInt.asIntN(32,t)),Number(BigInt.asIntN(32,t>>BigInt(32))),r)},n.fromValue=function(t,r){return"bigint"==typeof t?n.fromBigInt(t,r):f(t,r)},R.toBigInt=function(){var t=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|t}),t.default=n})},82757:(t,r,n)=>{"use strict";n.r(r),n.d(r,{loadStripe:()=>b});var i,s="https://js.stripe.com/v3",a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",l=function(){for(var t=document.querySelectorAll('script[src^="'.concat(s,'"]')),r=0;r<t.length;r++){var n=t[r];if(a.test(n.src))return n}return null},u=function(t){var r=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(s).concat(r);var i=document.head||document.body;if(!i)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},c=function(t,r){t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:r})},d=null,h=null,f=null,p=function(t){return function(){t(Error("Failed to load Stripe.js"))}},g=function(t,r){return function(){window.Stripe?t(window.Stripe):r(Error("Stripe.js not available"))}},m=function(t){return null!==d?d:(d=new Promise(function(r,n){if("undefined"==typeof window||"undefined"==typeof document){r(null);return}if(window.Stripe&&t&&console.warn(o),window.Stripe){r(window.Stripe);return}try{var i,s=l();s&&t?console.warn(o):s?s&&null!==f&&null!==h&&(s.removeEventListener("load",f),s.removeEventListener("error",h),null===(i=s.parentNode)||void 0===i||i.removeChild(s),s=u(t)):s=u(t),f=g(r,n),h=p(n),s.addEventListener("load",f),s.addEventListener("error",h)}catch(t){n(t);return}})).catch(function(t){return d=null,Promise.reject(t)})},v=function(t,r,n){if(null===t)return null;var i=t.apply(void 0,r);return c(i,n),i},y=!1,_=function(){return i||(i=m(null).catch(function(t){return i=null,Promise.reject(t)}))};Promise.resolve().then(function(){return _()}).catch(function(t){y||console.warn(t)});var b=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];y=!0;var i=Date.now();return _().then(function(t){return v(t,r,i)})}},90372:(t,r,n)=>{"use strict";function i(t,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw TypeError("attempted to use private field on non-instance");return t}n.r(r),n.d(r,{_:()=>i,_class_private_field_loose_base:()=>i})},67550:(t,r,n)=>{"use strict";n.r(r),n.d(r,{_:()=>s,_class_private_field_loose_key:()=>s});var i=0;function s(t){return"__private_"+i+++"_"+t}},21752:(t,r,n)=>{"use strict";function i(t){return t&&t.__esModule?t:{default:t}}n.r(r),n.d(r,{_:()=>i,_interop_require_default:()=>i})},34157:(t,r,n)=>{"use strict";function i(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(i=function(t){return t?n:r})(t)}function s(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=i(r);if(n&&n.has(t))return n.get(t);var s={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var l=a?Object.getOwnPropertyDescriptor(t,o):null;l&&(l.get||l.set)?Object.defineProperty(s,o,l):s[o]=t[o]}return s.default=t,n&&n.set(t,s),s}n.r(r),n.d(r,{_:()=>s,_interop_require_wildcard:()=>s})},95540:(t,r,n)=>{"use strict";n.d(r,{ZP:()=>er});let i=t=>"string"==typeof t,s=()=>{let t,r;let n=new Promise((n,i)=>{t=n,r=i});return n.resolve=t,n.reject=r,n},a=t=>null==t?"":""+t,o=(t,r,n)=>{t.forEach(t=>{r[t]&&(n[t]=r[t])})},l=/###/g,u=t=>t&&t.indexOf("###")>-1?t.replace(l,"."):t,c=t=>!t||i(t),d=(t,r,n)=>{let s=i(r)?r.split("."):r,a=0;for(;a<s.length-1;){if(c(t))return{};let r=u(s[a]);!t[r]&&n&&(t[r]=new n),t=Object.prototype.hasOwnProperty.call(t,r)?t[r]:{},++a}return c(t)?{}:{obj:t,k:u(s[a])}},h=(t,r,n)=>{let{obj:i,k:s}=d(t,r,Object);if(void 0!==i||1===r.length){i[s]=n;return}let a=r[r.length-1],o=r.slice(0,r.length-1),l=d(t,o,Object);for(;void 0===l.obj&&o.length;)a=`${o[o.length-1]}.${a}`,(l=d(t,o=o.slice(0,o.length-1),Object))&&l.obj&&void 0!==l.obj[`${l.k}.${a}`]&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},f=(t,r,n,i)=>{let{obj:s,k:a}=d(t,r,Object);s[a]=s[a]||[],s[a].push(n)},p=(t,r)=>{let{obj:n,k:i}=d(t,r);if(n)return n[i]},g=(t,r,n)=>{let i=p(t,n);return void 0!==i?i:p(r,n)},m=(t,r,n)=>{for(let s in r)"__proto__"!==s&&"constructor"!==s&&(s in t?i(t[s])||t[s]instanceof String||i(r[s])||r[s]instanceof String?n&&(t[s]=r[s]):m(t[s],r[s],n):t[s]=r[s]);return t},v=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let _=t=>i(t)?t.replace(/[&<>"'\/]/g,t=>y[t]):t;class b{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){let r=this.regExpMap.get(t);if(void 0!==r)return r;let n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}let S=[" ",",","?","!",";"],E=new b(20),T=(t,r,n)=>{r=r||"",n=n||"";let i=S.filter(t=>0>r.indexOf(t)&&0>n.indexOf(t));if(0===i.length)return!0;let s=E.getRegExp(`(${i.map(t=>"?"===t?"\\?":t).join("|")})`),a=!s.test(t);if(!a){let r=t.indexOf(n);r>0&&!s.test(t.substring(0,r))&&(a=!0)}return a},w=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!t)return;if(t[r])return t[r];let i=r.split(n),s=t;for(let t=0;t<i.length;){let r;if(!s||"object"!=typeof s)return;let a="";for(let o=t;o<i.length;++o)if(o!==t&&(a+=n),a+=i[o],void 0!==(r=s[a])){if(["string","number","boolean"].indexOf(typeof r)>-1&&o<i.length-1)continue;t+=o-t+1;break}s=r}return s},C=t=>t&&t.replace("_","-"),R={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,r){console&&console[t]&&console[t].apply(console,r)}};class I{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||R,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,s){return s&&!this.debug?null:(i(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new I(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new I(this.logger,t)}}var A=new I;class O{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(t=>{this.observers[t]||(this.observers[t]=new Map);let n=this.observers[t].get(r)||0;this.observers[t].set(r,n+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(t=>{let[r,i]=t;for(let t=0;t<i;t++)r(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(r=>{let[i,s]=r;for(let r=0;r<s;r++)i.apply(i,[t,...n])})}}class N extends O{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}removeNamespaces(t){let r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,l=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure;t.indexOf(".")>-1?s=t.split("."):(s=[t,r],n&&(Array.isArray(n)?s.push(...n):i(n)&&o?s.push(...n.split(o)):s.push(n)));let u=p(this.data,s);return(!u&&!r&&!n&&t.indexOf(".")>-1&&(t=s[0],r=s[1],n=s.slice(2).join(".")),!u&&l&&i(n))?w(this.data&&this.data[t]&&this.data[t][r],n,o):u}addResource(t,r,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,o=[t,r];n&&(o=o.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(o=t.split("."),i=r,r=o[1]),this.addNamespaces(r),h(this.data,o,i),s.silent||this.emit("added",t,r,n,i)}addResources(t,r,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let s in n)(i(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});s.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,i,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},o=[t,r];t.indexOf(".")>-1&&(o=t.split("."),i=n,n=r,r=o[1]),this.addNamespaces(r);let l=p(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?m(l,n,s):l={...l,...n},h(this.data,o,l),a.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return void 0!==this.getResource(t,r)}getResourceBundle(t,r){return(r||(r=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){let r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(t=>r[t]&&Object.keys(r[t]).length>0)}toJSON(){return this.data}}var k={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,r,n,i,s){return t.forEach(t=>{this.processors[t]&&(r=this.processors[t].process(r,n,i,s))}),r}};let P={};class x extends O{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),o(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=A.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;let n=this.resolve(t,r);return n&&void 0!==n.res}extractFromKey(t,r){let n=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");let s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=r.ns||this.options.defaultNS||[],o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!T(t,n,s);if(o&&!l){let r=t.match(this.interpolator.nestingRegexp);if(r&&r.length>0)return{key:t,namespaces:i(a)?[a]:a};let o=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(o[0])>-1)&&(a=o.shift()),t=o.join(s)}return{key:t,namespaces:i(a)?[a]:a}}translate(t,r,n){if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof r&&(r={...r}),r||(r={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);let s=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],r),u=l[l.length-1],c=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(d){let t=r.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${t}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${t}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o}let h=this.resolve(t,r),f=h&&h.res,p=h&&h.usedKey||o,g=h&&h.exactUsedKey||o,m=Object.prototype.toString.apply(f),v=["[object Number]","[object Function]","[object RegExp]"],y=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!i(f)&&"boolean"!=typeof f&&"number"!=typeof f;if(_&&f&&b&&0>v.indexOf(m)&&!(i(y)&&Array.isArray(f))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=t,h.usedParams=this.getUsedParamsDetails(r),h):t}if(a){let t=Array.isArray(f),n=t?[]:{},i=t?g:p;for(let t in f)if(Object.prototype.hasOwnProperty.call(f,t)){let s=`${i}${a}${t}`;n[t]=this.translate(s,{...r,joinArrays:!1,ns:l}),n[t]===s&&(n[t]=f[t])}f=n}}else if(_&&i(y)&&Array.isArray(f))(f=f.join(y))&&(f=this.extendTranslation(f,t,r,n));else{let s=!1,l=!1,d=void 0!==r.count&&!i(r.count),p=x.hasDefaultValue(r),g=d?this.pluralResolver.getSuffix(c,r.count,r):"",m=r.ordinal&&d?this.pluralResolver.getSuffix(c,r.count,{ordinal:!1}):"",v=d&&!r.ordinal&&0===r.count&&this.pluralResolver.shouldUseIntlApi(),y=v&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${g}`]||r[`defaultValue${m}`]||r.defaultValue;!this.isValidLookup(f)&&p&&(s=!0,f=y),this.isValidLookup(f)||(l=!0,f=o);let _=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&l?void 0:f,b=p&&y!==f&&this.options.updateMissing;if(l||s||b){if(this.logger.log(b?"updateKey":"missingKey",c,u,o,b?y:f),a){let t=this.resolve(o,{...r,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[],n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let r=0;r<n.length;r++)t.push(n[r]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(r.lng||this.language):t.push(r.lng||this.language);let i=(t,n,i)=>{let s=p&&i!==f?i:_;this.options.missingKeyHandler?this.options.missingKeyHandler(t,u,n,s,b,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(t,u,n,s,b,r),this.emit("missingKey",t,u,n,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&d?t.forEach(t=>{let n=this.pluralResolver.getSuffixes(t,r);v&&r[`defaultValue${this.options.pluralSeparator}zero`]&&0>n.indexOf(`${this.options.pluralSeparator}zero`)&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{i([t],o+n,r[`defaultValue${n}`]||y)})}):i(t,o,y))}f=this.extendTranslation(f,t,r,h,n),l&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${u}:${o}`),(l||s)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${o}`:o,s?f:void 0):this.options.parseMissingKeyHandler(f))}return s?(h.res=f,h.usedParams=this.getUsedParamsDetails(r),h):f}extendTranslation(t,r,n,s,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){let l;n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});let u=i(t)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(u){let r=t.match(this.interpolator.nestingRegexp);l=r&&r.length}let c=n.replace&&!i(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),t=this.interpolator.interpolate(t,c,n.lng||this.language||s.usedLng,n),u){let r=t.match(this.interpolator.nestingRegexp);l<(r&&r.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&s&&s.res&&(n.lng=this.language||s.usedLng),!1!==n.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];return a&&a[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${r[0]}`),null):o.translate(...i,r)},n)),n.interpolation&&this.interpolator.reset()}let l=n.postProcess||this.options.postProcess,u=i(l)?[l]:l;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=k.handle(u,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r,n,s,a,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(t)&&(t=[t]),t.forEach(t=>{if(this.isValidLookup(r))return;let u=this.extractFromKey(t,l),c=u.key;n=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let h=void 0!==l.count&&!i(l.count),f=h&&!l.ordinal&&0===l.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==l.context&&(i(l.context)||"number"==typeof l.context)&&""!==l.context,g=l.lngs?l.lngs:this.languageUtils.toResolveHierarchy(l.lng||this.language,l.fallbackLng);d.forEach(t=>{this.isValidLookup(r)||(o=t,!P[`${g[0]}-${t}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(P[`${g[0]}-${t}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(n=>{let i;if(this.isValidLookup(r))return;a=n;let o=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,c,n,t,l);else{let t;h&&(t=this.pluralResolver.getSuffix(n,l.count,l));let r=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(o.push(c+t),l.ordinal&&0===t.indexOf(i)&&o.push(c+t.replace(i,this.options.pluralSeparator)),f&&o.push(c+r)),p){let n=`${c}${this.options.contextSeparator}${l.context}`;o.push(n),h&&(o.push(n+t),l.ordinal&&0===t.indexOf(i)&&o.push(n+t.replace(i,this.options.pluralSeparator)),f&&o.push(n+r))}}for(;i=o.pop();)this.isValidLookup(r)||(s=i,r=this.getResource(n,t,i,l))}))})}),{res:r,usedKey:n,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(t){return void 0!==t&&!(!this.options.returnNull&&null===t)&&!(!this.options.returnEmptyString&&""===t)}getResource(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,i):this.resourceStore.getResource(t,r,n,i)}getUsedParamsDetails(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!i(t.replace),s=n?t.replace:t;if(n&&void 0!==t.count&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n)for(let t of(s={...s},r))delete s[t];return s}static hasDefaultValue(t){let r="defaultValue";for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&void 0!==t[n])return!0;return!1}}let D=t=>t.charAt(0).toUpperCase()+t.slice(1);class L{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=A.create("languageUtils")}getScriptPartFromCode(t){if(!(t=C(t))||0>t.indexOf("-"))return null;let r=t.split("-");return 2===r.length?null:(r.pop(),"x"===r[r.length-1].toLowerCase())?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(!(t=C(t))||0>t.indexOf("-"))return t;let r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(i(t)&&t.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let r=Intl.getCanonicalLocales(t)[0];if(r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r)return r}catch(t){}let r=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(t=>t.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=D(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){let r;return t?(t.forEach(t=>{if(r)return;let n=this.formatLanguageCode(t);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&t.forEach(t=>{if(r)return;let n=this.getLanguagePartFromCode(t);if(this.isSupportedCode(n))return r=n;r=this.options.supportedLngs.find(t=>{if(t===n||!(0>t.indexOf("-")&&0>n.indexOf("-"))&&(t.indexOf("-")>0&&0>n.indexOf("-")&&t.substring(0,t.indexOf("-"))===n||0===t.indexOf(n)&&n.length>1))return t})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r):null}getFallbackCodes(t,r){if(!t)return[];if("function"==typeof t&&(t=t(r)),i(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){let n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],a=t=>{t&&(this.isSupportedCode(t)?s.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return i(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(t))):i(t)&&a(this.formatLanguageCode(t)),n.forEach(t=>{0>s.indexOf(t)&&a(this.formatLanguageCode(t))}),s}}let M=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],F={1:t=>Number(t>1),2:t=>Number(1!=t),3:t=>0,4:t=>Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),5:t=>Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5),6:t=>Number(1==t?0:t>=2&&t<=4?1:2),7:t=>Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2),8:t=>Number(1==t?0:2==t?1:8!=t&&11!=t?2:3),9:t=>Number(t>=2),10:t=>Number(1==t?0:2==t?1:t<7?2:t<11?3:4),11:t=>Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3),12:t=>Number(t%10!=1||t%100==11),13:t=>Number(0!==t),14:t=>Number(1==t?0:2==t?1:3==t?2:3),15:t=>Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2),16:t=>Number(t%10==1&&t%100!=11?0:0!==t?1:2),17:t=>Number(1==t||t%10==1&&t%100!=11?0:1),18:t=>Number(0==t?0:1==t?1:2),19:t=>Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3),20:t=>Number(1==t?0:0==t||t%100>0&&t%100<20?1:2),21:t=>Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0),22:t=>Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)},j=["v1","v2","v3"],V=["v4"],B={zero:0,one:1,two:2,few:3,many:4,other:5},U=()=>{let t={};return M.forEach(r=>{r.lngs.forEach(n=>{t[n]={numbers:r.nr,plurals:F[r.fc]}})}),t};class z{constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=A.create("pluralResolver"),(!this.options.compatibilityJSON||V.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=U(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){let n;let i=C("dev"===t?"en":t),s=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];try{n=new Intl.PluralRules(i,{type:s})}catch(s){if(!t.match(/-|_/))return;let i=this.languageUtils.getLanguagePartFromCode(t);n=this.getRule(i,r)}return this.pluralRulesCache[a]=n,n}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,n).map(t=>`${r}${t}`)}getSuffixes(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((t,r)=>B[t]-B[r]).map(t=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${t}`):n.numbers.map(n=>this.getSuffix(t,n,r)):[]}getSuffix(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(t,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){let n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r)),i=t.numbers[n];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===i?i="plural":1===i&&(i=""));let s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!j.includes(this.options.compatibilityJSON)}}let q=function(t,r,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],o=g(t,r,n);return!o&&a&&i(n)&&void 0===(o=w(t,n,s))&&(o=w(r,n,s)),o},H=t=>t.replace(/\$/g,"$$$$");class W{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=A.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(t=>t),this.init(t)}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});let{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=void 0!==r?r:_,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=s?v(s):a||"{{",this.suffix=o?v(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=h?v(h):f||v("$t("),this.nestingSuffix=p?v(p):g||v(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let t=(t,r)=>t&&t.source===r?(t.lastIndex=0,t):RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,s){let o,l,u;let c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=t=>{if(0>t.indexOf(this.formatSeparator)){let i=q(r,c,t,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...s,...r,interpolationkey:t}):i}let i=t.split(this.formatSeparator),a=i.shift().trim(),o=i.join(this.formatSeparator).trim();return this.format(q(r,c,a,this.options.keySeparator,this.options.ignoreJSONStructure),o,n,{...s,...r,interpolationkey:a})};this.resetRegExp();let h=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t=>H(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?H(this.escape(t)):H(t)}].forEach(r=>{for(u=0;o=r.regex.exec(t);){let n=o[1].trim();if(void 0===(l=d(n))){if("function"==typeof h){let r=h(t,o,s);l=i(r)?r:""}else if(s&&Object.prototype.hasOwnProperty.call(s,n))l="";else if(f){l=o[0];continue}else this.logger.warn(`missed to pass in variable ${n} for interpolating ${t}`),l=""}else i(l)||this.useRawValueToEscape||(l=a(l));let c=r.safeValue(l);if(t=t.replace(o[0],c),f?(r.regex.lastIndex+=l.length,r.regex.lastIndex-=o[0].length):r.regex.lastIndex=0,++u>=this.maxReplaces)break}}),t}nest(t,r){let n,s,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=(t,r)=>{let n=this.nestingOptionsSeparator;if(0>t.indexOf(n))return t;let i=t.split(RegExp(`${n}[ ]*{`)),s=`{${i[1]}`;t=i[0];let a=(s=this.interpolate(s,o)).match(/'/g),l=s.match(/"/g);(a&&a.length%2==0&&!l||l.length%2!=0)&&(s=s.replace(/'/g,'"'));try{o=JSON.parse(s),r&&(o={...r,...o})}catch(r){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,r),`${t}${n}${s}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,t};for(;n=this.nestingRegexp.exec(t);){let c=[];(o=(o={...l}).replace&&!i(o.replace)?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){let t=n[1].split(this.formatSeparator).map(t=>t.trim());n[1]=t.shift(),c=t,d=!0}if((s=r(u.call(this,n[1].trim(),o),o))&&n[0]===t&&!i(s))return s;i(s)||(s=a(s)),s||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),s=""),d&&(s=c.reduce((t,r)=>this.format(t,r,l.lng,{...l,interpolationkey:n[1].trim()}),s.trim())),t=t.replace(n[0],s),this.regexp.lastIndex=0}return t}}let G=t=>{let r=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let i=t.split("(");r=i[0].toLowerCase().trim();let s=i[1].substring(0,i[1].length-1);"currency"===r&&0>s.indexOf(":")?n.currency||(n.currency=s.trim()):"relativetime"===r&&0>s.indexOf(":")?n.range||(n.range=s.trim()):s.split(";").forEach(t=>{if(t){let[r,...i]=t.split(":"),s=i.join(":").trim().replace(/^'+|'+$/g,""),a=r.trim();n[a]||(n[a]=s),"false"===s&&(n[a]=!1),"true"===s&&(n[a]=!0),isNaN(s)||(n[a]=parseInt(s,10))}})}return{formatName:r,formatOptions:n}},K=t=>{let r={};return(n,i,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});let o=i+JSON.stringify(a),l=r[o];return l||(l=t(C(i),s),r[o]=l),l(n)}};class ${constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=A.create("formatter"),this.options=t,this.formats={number:K((t,r)=>{let n=new Intl.NumberFormat(t,{...r});return t=>n.format(t)}),currency:K((t,r)=>{let n=new Intl.NumberFormat(t,{...r,style:"currency"});return t=>n.format(t)}),datetime:K((t,r)=>{let n=new Intl.DateTimeFormat(t,{...r});return t=>n.format(t)}),relativetime:K((t,r)=>{let n=new Intl.RelativeTimeFormat(t,{...r});return t=>n.format(t,r.range||"day")}),list:K((t,r)=>{let n=new Intl.ListFormat(t,{...r});return t=>n.format(t)})},this.init(t)}init(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=K(r)}format(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&0>s[0].indexOf(")")&&s.find(t=>t.indexOf(")")>-1)){let t=s.findIndex(t=>t.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,t)].join(this.formatSeparator)}return s.reduce((t,r)=>{let{formatName:s,formatOptions:a}=G(r);if(this.formats[s]){let r=t;try{let o=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=o.locale||o.lng||i.locale||i.lng||n;r=this.formats[s](t,l,{...a,...i,...o})}catch(t){this.logger.warn(t)}return r}return this.logger.warn(`there was no format function for ${s}`),t},t)}}let Y=(t,r)=>{void 0!==t.pending[r]&&(delete t.pending[r],t.pendingCount--)};class Q extends O{constructor(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=A.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(t,r,n,i){let s={},a={},o={},l={};return t.forEach(t=>{let i=!0;r.forEach(r=>{let o=`${t}|${r}`;!n.reload&&this.store.hasResourceBundle(t,r)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?void 0===a[o]&&(a[o]=!0):(this.state[o]=1,i=!1,void 0===a[o]&&(a[o]=!0),void 0===s[o]&&(s[o]=!0),void 0===l[r]&&(l[r]=!0)))}),i||(o[t]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,r,n){let i=t.split("|"),s=i[0],a=i[1];r&&this.emit("failedLoading",s,a,r),!r&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);let o={};this.queue.forEach(n=>{f(n.loaded,[s],a),Y(n,t),r&&n.errors.push(r),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(t=>{o[t]||(o[t]={});let r=n.loaded[t];r.length&&r.forEach(r=>{void 0===o[t][r]&&(o[t][r]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(t=>!t.done)}read(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;let o=(o,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let t=this.waitingReads.shift();this.read(t.lng,t.ns,t.fcName,t.tried,t.wait,t.callback)}if(o&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,i+1,2*s,a)},s);return}a(o,l)},l=this.backend[n].bind(this.backend);if(2===l.length){try{let n=l(t,r);n&&"function"==typeof n.then?n.then(t=>o(null,t)).catch(o):o(null,n)}catch(t){o(t)}return}return l(t,r,o)}prepareLoading(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();i(t)&&(t=this.languageUtils.toResolveHierarchy(t)),i(r)&&(r=[r]);let a=this.queueLoad(t,r,n,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(t=>{this.loadOne(t)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(n,a)=>{n&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,n),!n&&a&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,a),this.loaded(t,n,a)})}saveMissing(t,r,n,i,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=n&&""!==n){if(this.backend&&this.backend.create){let l={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let s;(s=5===u.length?u(t,r,n,i,l):u(t,r,n,i))&&"function"==typeof s.then?s.then(t=>o(null,t)).catch(o):o(null,s)}catch(t){o(t)}else u(t,r,n,i,o,l)}t&&t[0]&&this.store.addResource(t[0],r,n,i)}}}let Z=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let r={};if("object"==typeof t[1]&&(r=t[1]),i(t[1])&&(r.defaultValue=t[1]),i(t[2])&&(r.tDescription=t[2]),"object"==typeof t[2]||"object"==typeof t[3]){let n=t[3]||t[2];Object.keys(n).forEach(t=>{r[t]=n[t]})}return r},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),J=t=>(i(t.ns)&&(t.ns=[t.ns]),i(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),i(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&0>t.supportedLngs.indexOf("cimode")&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),X=()=>{},ee=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{"function"==typeof t[r]&&(t[r]=t[r].bind(t))})};class et extends O{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=J(t),this.services={},this.logger=A,this.modules={external:[]},ee(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof r&&(n=r,r={}),!r.defaultNS&&!1!==r.defaultNS&&r.ns&&(i(r.ns)?r.defaultNS=r.ns:0>r.ns.indexOf("translation")&&(r.defaultNS=r.ns[0]));let a=Z();this.options={...a,...this.options,...J(r)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),void 0!==r.keySeparator&&(this.options.userDefinedKeySeparator=r.keySeparator),void 0!==r.nsSeparator&&(this.options.userDefinedNsSeparator=r.nsSeparator);let o=t=>t?"function"==typeof t?new t:t:null;if(!this.options.isClone){let r;this.modules.logger?A.init(o(this.modules.logger),this.options):A.init(null,this.options),this.modules.formatter?r=this.modules.formatter:"undefined"!=typeof Intl&&(r=$);let n=new L(this.options);this.store=new N(this.options.resources,this.options);let i=this.services;i.logger=A,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new z(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(i.formatter=o(r),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new W(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new Q(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];t.emit(r,...i)}),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new x(this.services,this.options),this.translator.on("*",function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];t.emit(r,...i)}),this.modules.external.forEach(t=>{t.init&&t.init(this)})}if(this.format=this.options.interpolation.format,n||(n=X),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(r=>{this[r]=function(){return t.store[r](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(r=>{this[r]=function(){return t.store[r](...arguments),t}});let l=s(),u=()=>{let t=(t,r)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(r),n(t,r)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=r,s=i(t)?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&"cimode"===s.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();let t=[],r=r=>{r&&"cimode"!==r&&this.services.languageUtils.toResolveHierarchy(r).forEach(r=>{"cimode"!==r&&0>t.indexOf(r)&&t.push(r)})};s?r(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(t=>r(t)),this.options.preload&&this.options.preload.forEach(t=>r(t)),this.services.backendConnector.load(t,this.options.ns,t=>{t||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(t)})}else n(null)}reloadResources(t,r,n){let i=s();return"function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=X),this.services.backendConnector.reload(t,r,t=>{i.resolve(),n(t)}),i}use(t){if(!t)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&k.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let t=0;t<this.languages.length;t++){let r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;let a=s();this.emit("languageChanging",t);let o=t=>{this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.resolvedLanguage=void 0,this.setResolvedLanguage(t)},l=(t,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),r&&r(t,function(){return n.t(...arguments)})},u=r=>{t||r||!this.services.languageDetector||(r=[]);let n=i(r)?r:this.services.languageUtils.getBestMatchFromCodes(r);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,t=>{l(t,n)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(t):u(this.services.languageDetector.detect()),a}getFixedT(t,r,n){var s=this;let a=function(t,r){let i,o;if("object"!=typeof r){for(var l=arguments.length,u=Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];i=s.options.overloadTranslationOptionHandler([t,r].concat(u))}else i={...r};i.lng=i.lng||a.lng,i.lngs=i.lngs||a.lngs,i.ns=i.ns||a.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||a.keyPrefix);let d=s.options.keySeparator||".";return o=i.keyPrefix&&Array.isArray(t)?t.map(t=>`${i.keyPrefix}${d}${t}`):i.keyPrefix?`${i.keyPrefix}${d}${t}`:t,s.t(o,i)};return i(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=r.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;let a=(t,r)=>{let n=this.services.backendConnector.state[`${t}|${r}`];return -1===n||0===n||2===n};if(r.precheck){let t=r.precheck(this,a);if(void 0!==t)return t}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,t)&&(!i||a(s,t)))}loadNamespaces(t,r){let n=s();return this.options.ns?(i(t)&&(t=[t]),t.forEach(t=>{0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}),this.loadResources(t=>{n.resolve(),r&&r(t)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){let n=s();i(t)&&(t=[t]);let a=this.options.preload||[],o=t.filter(t=>0>a.indexOf(t)&&this.services.languageUtils.isSupportedCode(t));return o.length?(this.options.preload=a.concat(o),this.loadResources(t=>{n.resolve(),r&&r(t)}),n):(r&&r(),Promise.resolve())}dir(t){return(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new L(Z())).getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new et(t,r)}cloneInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,n=t.forkResourceStore;n&&delete t.forkResourceStore;let i={...this.options,...t,isClone:!0},s=new et(i);return(void 0!==t.debug||void 0!==t.prefix)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(t=>{s[t]=this[t]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new N(this.store.data,i),s.services.resourceStore=s.store),s.translator=new x(s.services,i),s.translator.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];s.emit(t,...n)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let er=et.createInstance();er.createInstance=et.createInstance,er.createInstance,er.dir,er.init,er.loadResources,er.reloadResources,er.use,er.changeLanguage,er.getFixedT,er.t,er.exists,er.setDefaultNamespace,er.hasLoadedNamespace,er.loadNamespaces,er.loadLanguages},15018:(t,r,n)=>{"use strict";let i,s;n.r(r),n.d(r,{deleteDB:()=>T,openDB:()=>E,unwrap:()=>S,wrap:()=>b});let a=(t,r)=>r.some(r=>t instanceof r);function o(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l(){return s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;function p(t){let r=new Promise((r,n)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(b(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return r.then(r=>{r instanceof IDBCursor&&u.set(r,t)}).catch(()=>{}),f.set(r,t),r}function g(t){if(c.has(t))return;let r=new Promise((r,n)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});c.set(t,r)}let m={get(t,r,n){if(t instanceof IDBTransaction){if("done"===r)return c.get(t);if("objectStoreNames"===r)return t.objectStoreNames||d.get(t);if("store"===r)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(t[r])},set:(t,r,n)=>(t[r]=n,!0),has:(t,r)=>t instanceof IDBTransaction&&("done"===r||"store"===r)||r in t};function v(t){m=t(m)}function y(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?l().includes(t)?function(...r){return t.apply(S(this),r),b(u.get(this))}:function(...r){return b(t.apply(S(this),r))}:function(r,...n){let i=t.call(S(this),r,...n);return d.set(i,r.sort?r.sort():[r]),b(i)}}function _(t){return"function"==typeof t?y(t):(t instanceof IDBTransaction&&g(t),a(t,o()))?new Proxy(t,m):t}function b(t){if(t instanceof IDBRequest)return p(t);if(h.has(t))return h.get(t);let r=_(t);return r!==t&&(h.set(t,r),f.set(r,t)),r}let S=t=>f.get(t);function E(t,r,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){let o=indexedDB.open(t,r),l=b(o);return i&&o.addEventListener("upgradeneeded",t=>{i(b(o.result),t.oldVersion,t.newVersion,b(o.transaction),t)}),n&&o.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),l.then(t=>{a&&t.addEventListener("close",()=>a()),s&&t.addEventListener("versionchange",t=>s(t.oldVersion,t.newVersion,t))}).catch(()=>{}),l}function T(t,{blocked:r}={}){let n=indexedDB.deleteDatabase(t);return r&&n.addEventListener("blocked",t=>r(t.oldVersion,t)),b(n).then(()=>void 0)}let w=["get","getKey","getAll","getAllKeys","count"],C=["put","add","delete","clear"],R=new Map;function I(t,r){if(!(t instanceof IDBDatabase&&!(r in t)&&"string"==typeof r))return;if(R.get(r))return R.get(r);let n=r.replace(/FromIndex$/,""),i=r!==n,s=C.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||w.includes(n)))return;let a=async function(t,...r){let a=this.transaction(t,s?"readwrite":"readonly"),o=a.store;return i&&(o=o.index(r.shift())),(await Promise.all([o[n](...r),s&&a.done]))[0]};return R.set(r,a),a}v(t=>({...t,get:(r,n,i)=>I(r,n)||t.get(r,n,i),has:(r,n)=>!!I(r,n)||t.has(r,n)}))},66522:(t,r,n)=>{"use strict";let i;n.r(r),n.d(r,{I18nContext:()=>L,I18nextProvider:()=>G,Trans:()=>V,TransWithoutContext:()=>x,Translation:()=>W,composeInitialProps:()=>F,date:()=>Y,getDefaults:()=>T,getI18n:()=>C,getInitialProps:()=>j,initReactI18next:()=>D,number:()=>Z,plural:()=>X,select:()=>J,selectOrdinal:()=>ee,setDefaults:()=>E,setI18n:()=>w,time:()=>Q,useSSR:()=>K,useTranslation:()=>q,withSSR:()=>$,withTranslation:()=>H});var s=n(95542),a=n(93e3);function o(){if(console&&console.warn){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];m(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),console.warn(...r)}}let l={};function u(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];m(r[0])&&l[r[0]]||(m(r[0])&&(l[r[0]]=new Date),o(...r))}let c=(t,r)=>()=>{if(t.isInitialized)r();else{let n=()=>{setTimeout(()=>{t.off("initialized",n)},0),r()};t.on("initialized",n)}},d=(t,r,n)=>{t.loadNamespaces(r,c(t,n))},h=(t,r,n,i)=>{m(n)&&(n=[n]),n.forEach(r=>{0>t.options.ns.indexOf(r)&&t.options.ns.push(r)}),t.loadLanguages(r,c(t,i))},f=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.languages[0],s=!!r.options&&r.options.fallbackLng,a=r.languages[r.languages.length-1];if("cimode"===i.toLowerCase())return!0;let o=(t,n)=>{let i=r.services.backendConnector.state[`${t}|${n}`];return -1===i||2===i};return(!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1)||!r.services.backendConnector.backend||!r.isLanguageChangingTo||!!o(r.isLanguageChangingTo,t))&&!!(r.hasResourceBundle(i,t)||!r.services.backendConnector.backend||r.options.resources&&!r.options.partialBundledLanguages||o(i,t)&&(!s||o(a,t)))},p=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.languages&&r.languages.length?void 0!==r.options.ignoreJSONStructure?r.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}):f(t,r,n):(u("i18n.languages were undefined or empty",r.languages),!0)},g=t=>t.displayName||t.name||(m(t)&&t.length>0?t:"Unknown"),m=t=>"string"==typeof t,v=t=>"object"==typeof t&&null!==t,y=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},b=t=>_[t],S={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t=>t.replace(y,b)},E=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S={...S,...t}},T=()=>S,w=t=>{i=t},C=()=>i,R=(t,r)=>{if(!t)return!1;let n=t.props?t.props.children:t.children;return r?n.length>0:!!n},I=t=>{if(!t)return[];let r=t.props?t.props.children:t.children;return t.props&&t.props.i18nIsDynamicList?O(r):r},A=t=>Array.isArray(t)&&t.every(s.isValidElement),O=t=>Array.isArray(t)?t:[t],N=(t,r)=>{let n={...r};return n.props=Object.assign(t.props,r.props),n},k=(t,r)=>{if(!t)return"";let n="",i=O(t),a=r.transSupportBasicHtmlNodes&&r.transKeepBasicHtmlNodesFor?r.transKeepBasicHtmlNodesFor:[];return i.forEach((t,i)=>{if(m(t))n+=`${t}`;else if((0,s.isValidElement)(t)){let{props:s,type:o}=t,l=Object.keys(s).length,u=a.indexOf(o)>-1,c=s.children;if(c||!u||l){if(!c&&(!u||l)||s.i18nIsDynamicList)n+=`<${i}></${i}>`;else if(u&&1===l&&m(c))n+=`<${o}>${c}</${o}>`;else{let t=k(c,r);n+=`<${i}>${t}</${i}>`}}else n+=`<${o}/>`}else if(null===t)o("Trans: the passed in value is invalid - seems you passed in a null child.");else if(v(t)){let{format:r,...i}=t,s=Object.keys(i);if(1===s.length){let t=r?`${s[0]}, ${r}`:s[0];n+=`{{${t}}}`}else o("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else o("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),n},P=(t,r,n,i,o,l)=>{if(""===r)return[];let u=i.transKeepBasicHtmlNodesFor||[],c=r&&new RegExp(u.map(t=>`<${t}`).join("|")).test(r);if(!t&&!c&&!l)return[r];let d={},h=t=>{O(t).forEach(t=>{m(t)||(R(t)?h(I(t)):v(t)&&!(0,s.isValidElement)(t)&&Object.assign(d,t))})};h(t);let f=a.Z.parse(`<0>${r}</0>`),p={...d,...o},g=(t,r,n)=>{let i=I(t),s=_(i,r.children,n);return A(i)&&0===s.length||t.props&&t.props.i18nIsDynamicList?i:s},y=(t,r,n,i,a)=>{t.dummy?(t.children=r,n.push((0,s.cloneElement)(t,{key:i},a?void 0:r))):n.push(...s.Children.map([t],t=>{let n={...t.props};return delete n.i18nIsDynamicList,(0,s.createElement)(t.type,{...n,key:i,ref:t.ref},a?null:r)}))},_=(r,a,o)=>{let d=O(r);return O(a).reduce((r,a,h)=>{let f=a.children&&a.children[0]&&a.children[0].content&&n.services.interpolator.interpolate(a.children[0].content,p,n.language);if("tag"===a.type){let l=d[parseInt(a.name,10)];1!==o.length||l||(l=o[0][a.name]),l||(l={});let b=0!==Object.keys(a.attrs).length?N({props:a.attrs},l):l,S=(0,s.isValidElement)(b),E=S&&R(a,!0)&&!a.voidElement,T=c&&v(b)&&b.dummy&&!S,w=v(t)&&Object.hasOwnProperty.call(t,a.name);if(m(b)){let t=n.services.interpolator.interpolate(b,p,n.language);r.push(t)}else if(R(b)||E){let t=g(b,a,o);y(b,t,r,h)}else if(T)y(b,_(d,a.children,o),r,h);else if(Number.isNaN(parseFloat(a.name))){if(w){let t=g(b,a,o);y(b,t,r,h,a.voidElement)}else if(i.transSupportBasicHtmlNodes&&u.indexOf(a.name)>-1){if(a.voidElement)r.push((0,s.createElement)(a.name,{key:`${a.name}-${h}`}));else{let t=_(d,a.children,o);r.push((0,s.createElement)(a.name,{key:`${a.name}-${h}`},t))}}else if(a.voidElement)r.push(`<${a.name} />`);else{let t=_(d,a.children,o);r.push(`<${a.name}>${t}</${a.name}>`)}}else if(v(b)&&!S){let t=a.children[0]?f:null;t&&r.push(t)}else y(b,f,r,h,1!==a.children.length||!f)}else if("text"===a.type){let t=i.transWrapTextNodes,o=l?i.unescape(n.services.interpolator.interpolate(a.content,p,n.language)):n.services.interpolator.interpolate(a.content,p,n.language);t?r.push((0,s.createElement)(t,{key:`${a.name}-${h}`},o)):r.push(o)}return r},[])};return I(_([{dummy:!0,children:t||[]}],f,O(t||[]))[0])};function x(t){let{children:r,count:n,parent:i,i18nKey:a,context:o,tOptions:l={},values:c,defaults:d,components:h,ns:f,i18n:p,t:g,shouldUnescape:v,...y}=t,_=p||C();if(!_)return u("You will need to pass in an i18next instance by using i18nextReactModule"),r;let b=g||_.t.bind(_)||(t=>t),S={...T(),..._.options&&_.options.react},E=f||b.ns||_.options&&_.options.defaultNS;E=m(E)?[E]:E||["translation"];let w=k(r,S),R=d||w||S.transEmptyNodeValue||a,{hashTransKey:I}=S,A=a||(I?I(w||R):w||R);_.options&&_.options.interpolation&&_.options.interpolation.defaultVariables&&(c=c&&Object.keys(c).length>0?{...c,..._.options.interpolation.defaultVariables}:{..._.options.interpolation.defaultVariables});let O=c||void 0!==n||!r?l.interpolation:{interpolation:{...l.interpolation,prefix:"#$?",suffix:"?$#"}},N={...l,context:o||l.context,count:n,...c,...O,defaultValue:R,ns:E},x=A?b(A,N):R;h&&Object.keys(h).forEach(t=>{let r=h[t];function n(){return(0,s.createElement)(s.Fragment,null,r)}"function"==typeof r.type||!r.props||!r.props.children||0>x.indexOf(`${t}/>`)&&0>x.indexOf(`${t} />`)||(h[t]=(0,s.createElement)(n))});let D=P(h||r,x,_,S,N,v),L=void 0!==i?i:S.defaultTransParent;return L?(0,s.createElement)(L,y,D):D}let D={type:"3rdParty",init(t){E(t.options.react),w(t)}},L=(0,s.createContext)();class M{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}let F=t=>async r=>{let n=t.getInitialProps?await t.getInitialProps(r):{},i=j();return{...n,...i}},j=()=>{let t=C(),r=t.reportNamespaces?t.reportNamespaces.getUsedNamespaces():[],n={},i={};return t.languages.forEach(n=>{i[n]={},r.forEach(r=>{i[n][r]=t.getResourceBundle(n,r)||{}})}),n.initialI18nStore=i,n.initialLanguage=t.language,n};function V(t){let{children:r,count:n,parent:i,i18nKey:a,context:o,tOptions:l={},values:u,defaults:c,components:d,ns:h,i18n:f,t:p,shouldUnescape:g,...m}=t,{i18n:v,defaultNS:y}=(0,s.useContext)(L)||{},_=f||v||C(),b=p||_&&_.t.bind(_);return x({children:r,count:n,parent:i,i18nKey:a,context:o,tOptions:l,values:u,defaults:c,components:d,ns:h||b&&b.ns||y||_&&_.options&&_.options.defaultNS,i18n:_,t:p,shouldUnescape:g,...m})}let B=(t,r)=>{let n=(0,s.useRef)();return(0,s.useEffect)(()=>{n.current=r?n.current:t},[t,r]),n.current},U=(t,r,n,i)=>t.getFixedT(r,n,i),z=(t,r,n,i)=>(0,s.useCallback)(U(t,r,n,i),[t,r,n,i]),q=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:n}=r,{i18n:i,defaultNS:a}=(0,s.useContext)(L)||{},o=n||i||C();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new M),!o){u("You will need to pass in an i18next instance by using initReactI18next");let t=(t,r)=>m(r)?r:v(r)&&m(r.defaultValue)?r.defaultValue:Array.isArray(t)?t[t.length-1]:t,r=[t,{},!1];return r.t=t,r.i18n={},r.ready=!1,r}o.options.react&&void 0!==o.options.react.wait&&u("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let l={...T(),...o.options.react,...r},{useSuspense:c,keyPrefix:f}=l,g=t||a||o.options&&o.options.defaultNS;g=m(g)?[g]:g||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(g);let y=(o.isInitialized||o.initializedStoreOnce)&&g.every(t=>p(t,o,l)),_=z(o,r.lng||null,"fallback"===l.nsMode?g:g[0],f),b=()=>_,S=()=>U(o,r.lng||null,"fallback"===l.nsMode?g:g[0],f),[E,w]=(0,s.useState)(b),R=g.join();r.lng&&(R=`${r.lng}${R}`);let I=B(R),A=(0,s.useRef)(!0);(0,s.useEffect)(()=>{let{bindI18n:t,bindI18nStore:n}=l;A.current=!0,y||c||(r.lng?h(o,r.lng,g,()=>{A.current&&w(S)}):d(o,g,()=>{A.current&&w(S)})),y&&I&&I!==R&&A.current&&w(S);let i=()=>{A.current&&w(S)};return t&&o&&o.on(t,i),n&&o&&o.store.on(n,i),()=>{A.current=!1,t&&o&&t.split(" ").forEach(t=>o.off(t,i)),n&&o&&n.split(" ").forEach(t=>o.store.off(t,i))}},[o,R]),(0,s.useEffect)(()=>{A.current&&y&&w(b)},[o,f,y]);let O=[E,o,y];if(O.t=E,O.i18n=o,O.ready=y,y||!y&&!c)return O;throw new Promise(t=>{r.lng?h(o,r.lng,g,()=>t()):d(o,g,()=>t())})},H=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){let{forwardedRef:a,...o}=i,[l,u,c]=q(t,{...o,keyPrefix:r.keyPrefix}),d={...o,t:l,i18n:u,tReady:c};return r.withRef&&a?d.ref=a:!r.withRef&&a&&(d.forwardedRef=a),(0,s.createElement)(n,d)}i.displayName=`withI18nextTranslation(${g(n)})`,i.WrappedComponent=n;let a=(t,r)=>(0,s.createElement)(i,Object.assign({},t,{forwardedRef:r}));return r.withRef?(0,s.forwardRef)(a):i}};function W(t){let{ns:r,children:n,...i}=t,[s,a,o]=q(r,i);return n(s,{i18n:a,lng:a.language},o)}function G(t){let{i18n:r,defaultNS:n,children:i}=t,a=(0,s.useMemo)(()=>({i18n:r,defaultNS:n}),[r,n]);return(0,s.createElement)(L.Provider,{value:a},i)}let K=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{i18n:i}=n,{i18n:a}=(0,s.useContext)(L)||{},o=i||a||C();o.options&&o.options.isClone||(t&&!o.initializedStoreOnce&&(o.services.resourceStore.data=t,o.options.ns=Object.values(t).reduce((t,r)=>(Object.keys(r).forEach(r=>{0>t.indexOf(r)&&t.push(r)}),t),o.options.ns),o.initializedStoreOnce=!0,o.isInitialized=!0),!r||o.initializedLanguageOnce||(o.changeLanguage(r),o.initializedLanguageOnce=!0))},$=()=>function(t){function r(r){let{initialI18nStore:n,initialLanguage:i,...a}=r;return K(n,i),(0,s.createElement)(t,{...a})}return r.getInitialProps=F(t),r.displayName=`withI18nextSSR(${g(t)})`,r.WrappedComponent=t,r},Y=()=>"",Q=()=>"",Z=()=>"",J=()=>"",X=()=>"",ee=()=>""},99324:(t,r,n)=>{"use strict";n.d(r,{a3:()=>l});var i=n(95542);n(93e3);let s=t=>Array.isArray(t)?t:[t],a=(t,r,n)=>{let i=t.key||r,s=cloneElement(t,{key:i});if(!s.props||!s.props.children||0>n.indexOf(`${r}/>`)&&0>n.indexOf(`${r} />`))return s;function a(){return createElement(Fragment,null,s)}return createElement(a,{key:i})},o=(0,i.createContext)();function l({i18n:t,defaultNS:r,children:n}){let s=(0,i.useMemo)(()=>({i18n:t,defaultNS:r}),[t,r]);return(0,i.createElement)(o.Provider,{value:s},n)}},83886:(t,r,n)=>{"use strict";n.r(r),n.d(r,{__addDisposableResource:()=>M,__assign:()=>a,__asyncDelegator:()=>R,__asyncGenerator:()=>C,__asyncValues:()=>I,__await:()=>w,__awaiter:()=>g,__classPrivateFieldGet:()=>x,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>D,__createBinding:()=>v,__decorate:()=>l,__disposeResources:()=>j,__esDecorate:()=>c,__exportStar:()=>y,__extends:()=>s,__generator:()=>m,__importDefault:()=>P,__importStar:()=>k,__makeTemplateObject:()=>A,__metadata:()=>p,__param:()=>u,__propKey:()=>h,__read:()=>b,__rest:()=>o,__rewriteRelativeImportExtension:()=>V,__runInitializers:()=>d,__setFunctionName:()=>f,__spread:()=>S,__spreadArray:()=>T,__spreadArrays:()=>E,__values:()=>_,default:()=>B});var i=function(t,r){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])})(t,r)};function s(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}i(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var s in r=arguments[n])Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);return t}).apply(this,arguments)};function o(t,r){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>r.indexOf(i)&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)0>r.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function l(t,r,n,i){var s,a=arguments.length,o=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,n,i);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(a<3?s(o):a>3?s(r,n,o):s(r,n))||o);return a>3&&o&&Object.defineProperty(r,n,o),o}function u(t,r){return function(n,i){r(n,i,t)}}function c(t,r,n,i,s,a){function o(t){if(void 0!==t&&"function"!=typeof t)throw TypeError("Function expected");return t}for(var l,u=i.kind,c="getter"===u?"get":"setter"===u?"set":"value",d=!r&&t?i.static?t:t.prototype:null,h=r||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),f=!1,p=n.length-1;p>=0;p--){var g={};for(var m in i)g[m]="access"===m?{}:i[m];for(var m in i.access)g.access[m]=i.access[m];g.addInitializer=function(t){if(f)throw TypeError("Cannot add initializers after decoration has completed");a.push(o(t||null))};var v=(0,n[p])("accessor"===u?{get:h.get,set:h.set}:h[c],g);if("accessor"===u){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw TypeError("Object expected");(l=o(v.get))&&(h.get=l),(l=o(v.set))&&(h.set=l),(l=o(v.init))&&s.unshift(l)}else(l=o(v))&&("field"===u?s.unshift(l):h[c]=l)}d&&Object.defineProperty(d,i.name,h),f=!0}function d(t,r,n){for(var i=arguments.length>2,s=0;s<r.length;s++)n=i?r[s].call(t,n):r[s].call(t);return i?n:void 0}function h(t){return"symbol"==typeof t?t:"".concat(t)}function f(t,r,n){return"symbol"==typeof r&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function p(t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)}function g(t,r,n,i){function s(t){return t instanceof n?t:new n(function(r){r(t)})}return new(n||(n=Promise))(function(n,a){function o(t){try{u(i.next(t))}catch(t){a(t)}}function l(t){try{u(i.throw(t))}catch(t){a(t)}}function u(t){t.done?n(t.value):s(t.value).then(o,l)}u((i=i.apply(t,r||[])).next())})}function m(t,r){var n,i,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(t){return function(r){return u([t,r])}}function u(l){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(n=1,i&&(s=2&l[0]?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,i=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!s||l[1]>s[0]&&l[1]<s[3])){a.label=l[1];break}if(6===l[0]&&a.label<s[1]){a.label=s[1],s=l;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(l);break}s[2]&&a.ops.pop(),a.trys.pop();continue}l=r.call(t,a)}catch(t){l=[6,t],i=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var v=Object.create?function(t,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,i,s)}:function(t,r,n,i){void 0===i&&(i=n),t[i]=r[n]};function y(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||v(r,t,n)}function _(t){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&t[r],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,r){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,s,a=n.call(t),o=[];try{for(;(void 0===r||r-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(t){s={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return o}function S(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(b(arguments[r]));return t}function E(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;for(var i=Array(t),s=0,r=0;r<n;r++)for(var a=arguments[r],o=0,l=a.length;o<l;o++,s++)i[s]=a[o];return i}function T(t,r,n){if(n||2==arguments.length)for(var i,s=0,a=r.length;s<a;s++)!i&&s in r||(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return t.concat(i||Array.prototype.slice.call(r))}function w(t){return this instanceof w?(this.v=t,this):new w(t)}function C(t,r,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,s=n.apply(t,r||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(t){return function(r){return Promise.resolve(r).then(t,h)}}function l(t,r){s[t]&&(i[t]=function(r){return new Promise(function(n,i){a.push([t,r,n,i])>1||u(t,r)})},r&&(i[t]=r(i[t])))}function u(t,r){try{c(s[t](r))}catch(t){f(a[0][3],t)}}function c(t){t.value instanceof w?Promise.resolve(t.value.v).then(d,h):f(a[0][2],t)}function d(t){u("next",t)}function h(t){u("throw",t)}function f(t,r){t(r),a.shift(),a.length&&u(a[0][0],a[0][1])}}function R(t){var r,n;return r={},i("next"),i("throw",function(t){throw t}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(i,s){r[i]=t[i]?function(r){return(n=!n)?{value:w(t[i](r)),done:!1}:s?s(r):r}:s}}function I(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,n=t[Symbol.asyncIterator];return n?n.call(t):(t=_(t),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(n){r[n]=t[n]&&function(r){return new Promise(function(i,a){s(i,a,(r=t[n](r)).done,r.value)})}}function s(t,r,n,i){Promise.resolve(i).then(function(r){t({value:r,done:n})},r)}}function A(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t}var O=Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r},N=function(t){return(N=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r})(t)};function k(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=N(t),i=0;i<n.length;i++)"default"!==n[i]&&v(r,t,n[i]);return O(r,t),r}function P(t){return t&&t.__esModule?t:{default:t}}function x(t,r,n,i){if("a"===n&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof r?t!==r||!i:!r.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:r.get(t)}function D(t,r,n,i,s){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!s)throw TypeError("Private accessor was defined without a setter");if("function"==typeof r?t!==r||!s:!r.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(t,n):s?s.value=n:r.set(t,n),n}function L(t,r){if(null===r||"object"!=typeof r&&"function"!=typeof r)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?r===t:t.has(r)}function M(t,r,n){if(null!=r){var i,s;if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Object expected.");if(n){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],n&&(s=i)}if("function"!=typeof i)throw TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:r,dispose:i,async:n})}else n&&t.stack.push({async:!0});return r}var F="function"==typeof SuppressedError?SuppressedError:function(t,r,n){var i=Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=r,i};function j(t){function r(r){t.error=t.hasError?new F(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(a).then(s,function(t){return r(t),s()})}else i|=1}catch(t){r(t)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function V(t,r){return"string"==typeof t&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,i,s,a){return n?r?".jsx":".js":!i||s&&a?i+s+"."+a.toLowerCase()+"js":t}):t}let B={__extends:s,__assign:a,__rest:o,__decorate:l,__param:u,__esDecorate:c,__runInitializers:d,__propKey:h,__setFunctionName:f,__metadata:p,__awaiter:g,__generator:m,__createBinding:v,__exportStar:y,__values:_,__read:b,__spread:S,__spreadArrays:E,__spreadArray:T,__await:w,__asyncGenerator:C,__asyncDelegator:R,__asyncValues:I,__makeTemplateObject:A,__importStar:k,__importDefault:P,__classPrivateFieldGet:x,__classPrivateFieldSet:D,__classPrivateFieldIn:L,__addDisposableResource:M,__disposeResources:j,__rewriteRelativeImportExtension:V}},83715:(t,r,n)=>{"use strict";function i(t){return t&&t.__esModule?t:{default:t}}n.r(r),n.d(r,{_:()=>i,_interop_require_default:()=>i})},18993:t=>{"use strict";t.exports={i8:"1.9.15"}},68139:t=>{"use strict";t.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},40524:t=>{"use strict";t.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},92690:t=>{"use strict";t.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},71800:t=>{"use strict";t.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}};